(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(t,e,n){t.exports=n("zUnb")},"6Joi":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=(r=n("wj3C"))&&"object"==typeof r&&"default"in r?r.default:r,o=n("mrSG"),s=n("q/0M"),a=n("zVF4"),u=n("S+S0"),c=n("x7I3"),l=i.SDK_VERSION,h=function(){function t(t){this.uid=t}return t.prototype.t=function(){return null!=this.uid},t.prototype.i=function(){return this.t()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t.UNAUTHENTICATED=new t(null),t.u=new t("google-credentials-uid"),t.s=new t("first-party-uid"),t}(),f={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},d=function(t){function e(e,n){var r=t.call(this,n)||this;return r.code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return o.__extends(e,t),e}(Error),p=function(t,e){this.user=e,this.type="OAuth",this.o={},this.o.Authorization="Bearer "+t},m=function(){function t(){this.h=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.l=function(){},t.prototype.v=function(t){Oe(!this.h,"Can only call setChangeListener() once."),this.h=t,t(h.UNAUTHENTICATED)},t.prototype.m=function(){Oe(null!==this.h,"removeChangeListener() when no listener registered"),this.h=null},t}(),g=function(){function t(t){var e=this;this.p=null,this.currentUser=h.UNAUTHENTICATED,this.g=!1,this._=0,this.h=null,this.forceRefresh=!1,this.p=function(){e._++,e.currentUser=e.I(),e.g=!0,e.h&&e.h(e.currentUser)},this._=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.p):(this.p(null),t.get().then((function(t){e.auth=t,e.p&&e.auth.addAuthTokenListener(e.p)}),(function(){})))}return t.prototype.getToken=function(){var t=this;Oe(null!=this.p,"getToken cannot be called after listener removed.");var e=this._,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){if(t._!==e)throw new d(f.ABORTED,"getToken aborted due to token change.");return n?(Oe("string"==typeof n.accessToken,"Invalid tokenData returned from getToken():"+n),new p(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.l=function(){this.forceRefresh=!0},t.prototype.v=function(t){Oe(!this.h,"Can only call setChangeListener() once."),this.h=t,this.g&&t(this.currentUser)},t.prototype.m=function(){Oe(null!=this.p,"removeChangeListener() called twice"),Oe(null!==this.h,"removeChangeListener() called when no listener registered"),this.auth&&this.auth.removeAuthTokenListener(this.p),this.p=null,this.h=null},t.prototype.I=function(){var t=this.auth&&this.auth.getUid();return Oe(null===t||"string"==typeof t,"Received invalid UID: "+t),new h(t)},t}(),v=function(){function t(t,e){this.T=t,this.D=e,this.type="FirstParty",this.user=h.s}return Object.defineProperty(t.prototype,"o",{get:function(){var t={"X-Goog-AuthUser":this.D},e=this.T.auth.R([]);return e&&(t.Authorization=e),t},enumerable:!0,configurable:!0}),t}(),y=function(){function t(t,e){this.T=t,this.D=e}return t.prototype.getToken=function(){return Promise.resolve(new v(this.T,this.D))},t.prototype.v=function(t){t(h.s)},t.prototype.m=function(){},t.prototype.l=function(){},t}();function w(t){if(!t)return new m;switch(t.type){case"gapi":var e=t.S;return Oe(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty),"unexpected gapi interface"),new y(e,t.D||"0");case"provider":return t.S;default:throw new d(f.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}var b=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new d(f.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new d(f.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new d(f.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new d(f.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.A=function(t){return this.seconds===t.seconds?De(this.nanoseconds,t.nanoseconds):De(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),_=function(){function t(t){this.timestamp=t}return t.C=function(e){var n=Math.floor(e/1e6);return new t(new b(n,e%1e6*1e3))},t.P=function(e){return new t(e)},t.V=function(){return t.MIN},t.prototype.k=function(t){return this.timestamp.A(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.N=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.O=function(){return this.timestamp},t.MIN=new t(new b(0,0)),t}(),E=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&xe("offset "+e+" out of range "+t.length),void 0===n?n=t.length-e:n>t.length-e&&xe("length "+n+" out of range "+(t.length-e)),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.F(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.U(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.j=function(t){return Oe(this.length>=(t=void 0===t?1:t),"Can't call popFirst() with less segments"),this.U(this.segments,this.offset+t,this.length-t)},t.prototype.L=function(){return Oe(!this.M(),"Can't call popLast() on empty path"),this.U(this.segments,this.offset,this.length-1)},t.prototype.q=function(){return Oe(!this.M(),"Can't call firstSegment() on empty path"),this.segments[this.offset]},t.prototype.B=function(){return this.get(this.length-1)},t.prototype.get=function(t){return Oe(t<this.length,"Index out of range"),this.segments[this.offset+t]},t.prototype.M=function(){return 0===this.length},t.prototype.G=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.W=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.K=function(){return this.segments.slice(this.offset,this.limit())},t.F=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),I=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(e,t),e.prototype.U=function(t,n,r){return new e(t,n,r)},e.prototype.J=function(){return this.K().join("/")},e.prototype.toString=function(){return this.J()},e.H=function(t){if(t.indexOf("//")>=0)throw new d(f.INVALID_ARGUMENT,"Invalid path ("+t+"). Paths must not contain // in them.");return new e(t.split("/").filter((function(t){return t.length>0})))},e.Y=new e([]),e}(E),C=/^[_a-zA-Z][_a-zA-Z0-9]*$/,T=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(e,t),e.prototype.U=function(t,n,r){return new e(t,n,r)},e.X=function(t){return C.test(t)},e.prototype.J=function(){return this.K().map((function(t){return t=t.replace("\\","\\\\").replace("`","\\`"),e.X(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.J()},e.prototype.$=function(){return 1===this.length&&"__name__"===this.get(0)},e.Z=function(){return new e(["__name__"])},e.tt=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new d(f.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new d(f.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new d(f.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new d(f.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.Y=new e([]),e}(E),S=function(){function t(e){this.path=e,Oe(t.nt(e),"Invalid DocumentKey with an odd number of segments: "+e.K().join("/"))}return t.it=function(e){return new t(I.H(e).j(5))},t.prototype.et=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===I.F(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.F=function(t,e){return I.F(t.path,e.path)},t.nt=function(t){return t.length%2==0},t.rt=function(e){return new t(new I(e.slice()))},t.EMPTY=new t(new I([])),t}(),A=function(){function t(t,e){this.F=t,this.root=e||N.EMPTY}return t.prototype.ut=function(e,n){return new t(this.F,this.root.ut(e,n,this.F).copy(null,null,N.st,null,null))},t.prototype.remove=function(e){return new t(this.F,this.root.remove(e,this.F).copy(null,null,N.st,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.M();){var n=this.F(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.M();){var r=this.F(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.M=function(){return this.root.M()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!0,configurable:!0}),t.prototype.ot=function(){return this.root.ot()},t.prototype.ht=function(){return this.root.ht()},t.prototype.ct=function(t){return this.root.ct(t)},t.prototype.forEach=function(t){this.ct((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.ct((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.at=function(t){return this.root.at(t)},t.prototype.ft=function(){return new k(this.root,null,this.F,!1)},t.prototype.lt=function(t){return new k(this.root,t,this.F,!1)},t.prototype.dt=function(){return new k(this.root,null,this.F,!0)},t.prototype.vt=function(t){return new k(this.root,t,this.F,!0)},t}(),k=function(){function t(t,e,n,r){this.wt=r,this.pt=[];for(var i=1;!t.M();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.wt?t.left:t.right;else{if(0===i){this.pt.push(t);break}this.pt.push(t),t=this.wt?t.right:t.left}}return t.prototype.bt=function(){Oe(this.pt.length>0,"getNext() called on iterator when hasNext() is false.");var t=this.pt.pop(),e={key:t.key,value:t.value};if(this.wt)for(t=t.left;!t.M();)this.pt.push(t),t=t.right;else for(t=t.right;!t.M();)this.pt.push(t),t=t.left;return e},t.prototype.gt=function(){return this.pt.length>0},t.prototype.yt=function(){if(0===this.pt.length)return null;var t=this.pt[this.pt.length-1];return{key:t.key,value:t.value}},t}(),N=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.M=function(){return!1},t.prototype.ct=function(t){return this.left.ct(t)||t(this.key,this.value)||this.right.ct(t)},t.prototype.at=function(t){return this.right.at(t)||t(this.key,this.value)||this.left.at(t)},t.prototype.min=function(){return this.left.M()?this:this.left.min()},t.prototype.ot=function(){return this.min().key},t.prototype.ht=function(){return this.right.M()?this.key:this.right.ht()},t.prototype.ut=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.ut(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.ut(t,e,n)))._t()},t.prototype.It=function(){if(this.left.M())return t.EMPTY;var e=this;return e.left.Tt()||e.left.left.Tt()||(e=e.Et()),(e=e.copy(null,null,null,e.left.It(),null))._t()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.M()||i.left.Tt()||i.left.left.Tt()||(i=i.Et()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.Tt()&&(i=i.Dt()),i.right.M()||i.right.Tt()||i.right.left.Tt()||(i=i.Rt()),0===n(e,i.key)){if(i.right.M())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.It())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i._t()},t.prototype.Tt=function(){return this.color},t.prototype._t=function(){var t=this;return t.right.Tt()&&!t.left.Tt()&&(t=t.St()),t.left.Tt()&&t.left.left.Tt()&&(t=t.Dt()),t.left.Tt()&&t.right.Tt()&&(t=t.At()),t},t.prototype.Et=function(){var t=this.At();return t.right.left.Tt()&&(t=(t=(t=t.copy(null,null,null,null,t.right.Dt())).St()).At()),t},t.prototype.Rt=function(){var t=this.At();return t.left.left.Tt()&&(t=(t=t.Dt()).At()),t},t.prototype.St=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.Dt=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.At=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Ct=function(){var t=this.Pt();return Math.pow(2,t)<=this.size+1},t.prototype.Pt=function(){if(this.Tt()&&this.left.Tt())throw xe("Red node has red child("+this.key+","+this.value+")");if(this.right.Tt())throw xe("Right child of ("+this.key+","+this.value+") is red");var t=this.left.Pt();if(t!==this.right.Pt())throw xe("Black depths differ");return t+(this.Tt()?0:1)},t.EMPTY=null,t.RED=!0,t.st=!1,t}(),x=function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw xe("LLRBEmptyNode has no key.")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw xe("LLRBEmptyNode has no value.")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw xe("LLRBEmptyNode has no color.")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw xe("LLRBEmptyNode has no left child.")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw xe("LLRBEmptyNode has no right child.")},enumerable:!0,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.ut=function(t,e,n){return new N(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.M=function(){return!0},t.prototype.ct=function(t){return!1},t.prototype.at=function(t){return!1},t.prototype.ot=function(){return null},t.prototype.ht=function(){return null},t.prototype.Tt=function(){return!1},t.prototype.Ct=function(){return!0},t.prototype.Pt=function(){return 0},t}();N.EMPTY=new x;var O=function(){function t(t){this.F=t,this.data=new A(this.F)}return t.Vt=function(e){var n=new t(e.F);return e.forEach((function(t){n=n.add(t)})),n},t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.ot()},t.prototype.last=function(){return this.data.ht()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!0,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.ct((function(e,n){return t(e),!1}))},t.prototype.kt=function(t,e){for(var n=this.data.lt(t[0]);n.gt();){var r=n.bt();if(this.F(r.key,t[1])>=0)return;e(r.key)}},t.prototype.Nt=function(t,e){var n;for(n=void 0!==e?this.data.lt(e):this.data.ft();n.gt();)if(!t(n.bt().key))return},t.prototype.Ot=function(t){var e=this.data.lt(t);return e.gt()?e.bt().key:null},t.prototype.ft=function(){return new R(this.data.ft())},t.prototype.lt=function(t){return new R(this.data.lt(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).ut(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.M=function(){return this.data.M()},t.prototype.Ft=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.ft(),r=e.data.ft();n.gt();){var i=n.bt().key,o=r.bt().key;if(0!==this.F(i,o))return!1}return!0},t.prototype.K=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.F);return n.data=e,n},t}(),R=function(){function t(t){this.Ut=t}return t.prototype.bt=function(){return this.Ut.bt().key},t.prototype.gt=function(){return this.Ut.gt()},t}();function D(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function P(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function L(t){for(var e in Oe(null!=t&&"object"==typeof t,"isEmpty() expects object parameter."),t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var M=function(){function t(t){this.jt=t}return t.fromBase64String=function(e){return new t(Ie.xt().atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return Ie.xt().btoa(this.jt)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.jt)},t.prototype.Lt=function(){return 2*this.jt.length},t.prototype.k=function(t){return De(this.jt,t.jt)},t.prototype.isEqual=function(t){return this.jt===t.jt},t.Mt=new t(""),t}();function V(t){return null==t}function U(t){return-0===t&&1/t==-1/0}function j(t){return"number"==typeof t&&Number.isInteger(t)&&!U(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function F(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function q(t){var e=J(t.mapValue.fields.__local_write_time__.timestampValue);return new b(e.seconds,e.nanos)}var B=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function z(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?F(t)?4:10:xe("Invalid value type: "+JSON.stringify(t))}function H(t,e){var n=z(t);if(n!==z(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return q(t).isEqual(q(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=J(t.timestampValue),r=J(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Q(t.bytesValue).isEqual(Q(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Y(t.geoPointValue.latitude)===Y(e.geoPointValue.latitude)&&Y(t.geoPointValue.longitude)===Y(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Y(t.integerValue)===Y(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=Y(t.doubleValue),r=Y(e.doubleValue);return n===r?U(n)===U(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Pe(t.arrayValue.values||[],e.arrayValue.values||[],H);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(D(n)!==D(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!H(n[i],r[i])))return!1;return!0}(t,e);default:return xe("Unexpected value type: "+JSON.stringify(t))}}function G(t,e){return void 0!==(t.values||[]).find((function(t){return H(t,e)}))}function W(t,e){var n=z(t),r=z(e);if(n!==r)return De(n,r);switch(n){case 0:return 0;case 1:return De(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=Y(t.integerValue||t.doubleValue),r=Y(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return $(t.timestampValue,e.timestampValue);case 4:return $(q(t),q(e));case 5:return De(t.stringValue,e.stringValue);case 6:return function(t,e){var n=Q(t),r=Q(e);return n.k(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=De(n[i],r[i]);if(0!==o)return o}return De(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=De(Y(t.latitude),Y(e.latitude));return 0!==n?n:De(Y(t.longitude),Y(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=W(n[i],r[i]);if(o)return o}return De(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=De(r[s],o[s]);if(0!==a)return a;var u=W(n[r[s]],i[o[s]]);if(0!==u)return u}return De(r.length,o.length)}(t.mapValue,e.mapValue);default:throw xe("Invalid value type: "+n)}}function $(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return De(t,e);var n=J(t),r=J(e),i=De(n.seconds,r.seconds);return 0!==i?i:De(n.nanos,r.nanos)}function K(t){return function t(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?"time("+(r=J(e.timestampValue)).seconds+","+r.nanos+")":"stringValue"in e?e.stringValue:"bytesValue"in e?Q(e.bytesValue).toBase64():"referenceValue"in e?S.it(e.referenceValue).toString():"geoPointValue"in e?"geo("+(n=e.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in e?function(e){for(var n="[",r=!0,i=0,o=e.values||[];i<o.length;i++)r?r=!1:n+=",",n+=t(o[i]);return n+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var n="{",r=!0,i=0,o=Object.keys(e.fields||{}).sort();i<o.length;i++){var s=o[i];r?r=!1:n+=",",n+=s+":"+t(e.fields[s])}return n+"}"}(e.mapValue):xe("Invalid value type: "+JSON.stringify(e));var n,r}(t)}function J(t){if(Oe(!!t,"Cannot normalize null or undefined timestamp."),"string"==typeof t){var e=0,n=B.exec(t);if(Oe(!!n,"invalid timestamp: "+t),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Y(t.seconds),nanos:e=Y(t.nanos)}}function Y(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Q(t){return"string"==typeof t?M.fromBase64String(t):M.fromUint8Array(t)}function X(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.J()}}function Z(t){return!!t&&"integerValue"in t}function tt(t){return Z(t)||function(t){return!!t&&"doubleValue"in t}(t)}function et(t){return!!t&&"arrayValue"in t}function nt(t){return!!t&&"referenceValue"in t}function rt(t){return!!t&&"nullValue"in t}function it(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ot(t){return!!t&&"mapValue"in t}var st=function(){function t(){}return t.prototype.qt=function(t,e){return function(t,e){var n,r={fields:(n={},n.__type__={stringValue:"server_timestamp"},n.__local_write_time__={timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}},n)};return e&&(r.fields.__previous_value__=e),{mapValue:r}}(e,t)},t.prototype.Bt=function(t,e){return e},t.prototype.Qt=function(t){return null},t.prototype.isEqual=function(e){return e instanceof t},t.instance=new t,t}(),at=function(){function t(t){this.elements=t}return t.prototype.qt=function(t,e){return this.apply(t)},t.prototype.Bt=function(t,e){return this.apply(t)},t.prototype.apply=function(t){for(var e=lt(t),n=function(t){e.some((function(e){return H(e,t)}))||e.push(t)},r=0,i=this.elements;r<i.length;r++)n(i[r]);return{arrayValue:{values:e}}},t.prototype.Qt=function(t){return null},t.prototype.isEqual=function(e){return e instanceof t&&Pe(this.elements,e.elements,H)},t}(),ut=function(){function t(t){this.elements=t}return t.prototype.qt=function(t,e){return this.apply(t)},t.prototype.Bt=function(t,e){return this.apply(t)},t.prototype.apply=function(t){for(var e=lt(t),n=function(t){e=e.filter((function(e){return!H(e,t)}))},r=0,i=this.elements;r<i.length;r++)n(i[r]);return{arrayValue:{values:e}}},t.prototype.Qt=function(t){return null},t.prototype.isEqual=function(e){return e instanceof t&&Pe(this.elements,e.elements,H)},t}(),ct=function(){function t(t,e){this.serializer=t,this.Gt=e,Oe(tt(e),"NumericIncrementTransform transform requires a NumberValue")}return t.prototype.qt=function(t,e){var n=this.Qt(t),r=this.asNumber(n)+this.asNumber(this.Gt);return Z(n)&&Z(this.Gt)?this.serializer.Wt(r):this.serializer.zt(r)},t.prototype.Bt=function(t,e){return Oe(null!==e,"Didn't receive transformResult for NUMERIC_ADD transform"),e},t.prototype.Qt=function(t){return tt(t)?t:{integerValue:0}},t.prototype.isEqual=function(e){return e instanceof t&&H(this.Gt,e.Gt)},t.prototype.asNumber=function(t){return Y(t.integerValue||t.doubleValue)},t}();function lt(t){return et(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var ht,ft,dt=function(){function t(t){this.fields=t}return t.Kt=function(e){return new t(e)},t.Jt=function(e){var n=new O(T.F);return e.forEach((function(t){return n=n.add(t)})),new t(n)},t.prototype.Ht=function(t){var e=!1;return this.fields.forEach((function(n){n.G(t)&&(e=!0)})),e},t.prototype.isEqual=function(t){return this.fields.isEqual(t.fields)},t}(),pt=function(){function t(t,e){this.field=t,this.transform=e}return t.prototype.isEqual=function(t){return this.field.isEqual(t.field)&&this.transform.isEqual(t.transform)},t}(),mt=function(t,e){this.version=t,this.transformResults=e},gt=function(){function t(t,e){this.updateTime=t,this.exists=e,Oe(void 0===t||void 0===e,'Precondition can specify "exists" or "updateTime" but not both')}return t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"Yt",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!0,configurable:!0}),t.prototype.Xt=function(t){return void 0!==this.updateTime?t instanceof St&&t.version.isEqual(this.updateTime):void 0!==this.exists?this.exists===t instanceof St:(Oe(this.Yt,"Precondition should be empty"),!0)},t.prototype.isEqual=function(t){return n=t.updateTime,!((null!=(e=this.updateTime)?!n||!e.isEqual(n):e!==n)||this.exists!==t.exists);var e,n},t.NONE=new t,t}(),vt=function(){function t(){}return t.prototype.$t=function(t){null!=t&&Oe(t.key.isEqual(this.key),"Can only apply a mutation to a document with the same key")},t.Zt=function(t){return t instanceof St?t.version:_.MIN},t}(),yt=function(t){function e(e,n,r){var i=t.call(this)||this;return i.key=e,i.value=n,i.tn=r,i.type=0,i}return o.__extends(e,t),e.prototype.Bt=function(t,e){return this.$t(t),Oe(null==e.transformResults,"Transform results received by SetMutation."),new St(this.key,e.version,this.value,{hasCommittedMutations:!0})},e.prototype.qt=function(t,e,n){if(this.$t(t),!this.tn.Xt(t))return t;var r=vt.Zt(t);return new St(this.key,r,this.value,{nn:!0})},e.prototype.in=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.value.isEqual(t.value)&&this.tn.isEqual(t.tn)},e}(vt),wt=function(t){function e(e,n,r,i){var o=t.call(this)||this;return o.key=e,o.data=n,o.en=r,o.tn=i,o.type=1,o}return o.__extends(e,t),e.prototype.Bt=function(t,e){if(this.$t(t),Oe(null==e.transformResults,"Transform results received by PatchMutation."),!this.tn.Xt(t))return new kt(this.key,e.version);var n=this.rn(t);return new St(this.key,e.version,n,{hasCommittedMutations:!0})},e.prototype.qt=function(t,e,n){if(this.$t(t),!this.tn.Xt(t))return t;var r=vt.Zt(t),i=this.rn(t);return new St(this.key,r,i,{nn:!0})},e.prototype.in=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.en.isEqual(t.en)&&this.tn.isEqual(t.tn)},e.prototype.rn=function(t){var e;return e=t instanceof St?t.data():It.EMPTY,this.un(e)},e.prototype.un=function(t){var e=this,n=t.sn();return this.en.fields.forEach((function(t){if(!t.M()){var r=e.data.field(t);null!==r?n.set(t,r):n.delete(t)}})),n.on()},e}(vt),bt=function(t){function e(e,n){var r=t.call(this)||this;return r.key=e,r.fieldTransforms=n,r.type=2,r.tn=gt.exists(!0),r}return o.__extends(e,t),e.prototype.Bt=function(t,e){if(this.$t(t),Oe(null!=e.transformResults,"Transform results missing for TransformMutation."),!this.tn.Xt(t))return new kt(this.key,e.version);var n=this.hn(t),r=this.cn(t,e.transformResults),i=e.version,o=this.an(n.data(),r);return new St(this.key,i,o,{hasCommittedMutations:!0})},e.prototype.qt=function(t,e,n){if(this.$t(t),!this.tn.Xt(t))return t;var r=this.hn(t),i=this.fn(n,t,e),o=this.an(r.data(),i);return new St(this.key,r.version,o,{nn:!0})},e.prototype.in=function(t){for(var e=null,n=0,r=this.fieldTransforms;n<r.length;n++){var i=r[n],o=t instanceof St?t.field(i.field):void 0,s=i.transform.Qt(o||null);null!=s&&(e=null==e?It.ln().set(i.field,s):e.set(i.field,s))}return e?e.on():null},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&Pe(this.fieldTransforms,t.fieldTransforms,(function(t,e){return t.isEqual(e)}))&&this.tn.isEqual(t.tn)},e.prototype.hn=function(t){return Oe(t instanceof St,"Unknown MaybeDocument type "+t),Oe(t.key.isEqual(this.key),"Can only transform a document with the same key"),t},e.prototype.cn=function(t,e){var n=[];Oe(this.fieldTransforms.length===e.length,"server transform result count ("+e.length+") should match field transform count ("+this.fieldTransforms.length+")");for(var r=0;r<e.length;r++){var i=this.fieldTransforms[r],o=i.transform,s=null;t instanceof St&&(s=t.field(i.field)),n.push(o.Bt(s,e[r]))}return n},e.prototype.fn=function(t,e,n){for(var r=[],i=0,o=this.fieldTransforms;i<o.length;i++){var s=o[i],a=s.transform,u=null;e instanceof St&&(u=e.field(s.field)),null===u&&n instanceof St&&(u=n.field(s.field)),r.push(a.qt(u,t))}return r},e.prototype.an=function(t,e){Oe(e.length===this.fieldTransforms.length,"TransformResults length mismatch.");for(var n=t.sn(),r=0;r<this.fieldTransforms.length;r++)n.set(this.fieldTransforms[r].field,e[r]);return n.on()},e}(vt),_t=function(t){function e(e,n){var r=t.call(this)||this;return r.key=e,r.tn=n,r.type=3,r}return o.__extends(e,t),e.prototype.Bt=function(t,e){return this.$t(t),Oe(null==e.transformResults,"Transform results received by DeleteMutation."),new At(this.key,e.version,{hasCommittedMutations:!0})},e.prototype.qt=function(t,e,n){return this.$t(t),this.tn.Xt(t)?(t&&Oe(t.key.isEqual(this.key),"Can only apply mutation to document with same key"),new At(this.key,_.V())):t},e.prototype.in=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.tn.isEqual(t.tn)},e}(vt),Et=function(t){function e(e,n){var r=t.call(this)||this;return r.key=e,r.tn=n,r.type=4,r}return o.__extends(e,t),e.prototype.Bt=function(t,e){xe("VerifyMutation should only be used in Transactions.")},e.prototype.qt=function(t,e,n){xe("VerifyMutation should only be used in Transactions.")},e.prototype.in=function(t){xe("VerifyMutation should only be used in Transactions.")},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.tn.isEqual(t.tn)},e}(vt),It=function(){function t(t){this.proto=t,Oe(!F(t),"ServerTimestamps should be converted to ServerTimestampValue")}return t.ln=function(){return t.EMPTY.sn()},t.prototype.field=function(t){if(t.M())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!ot(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.B()])||null},t.prototype.en=function(){return this.dn(this.proto.mapValue)},t.prototype.dn=function(t){var e=this,n=new O(T.F);return P(t.fields||{},(function(t,r){var i=new T([t]);if(10===z(r)){var o=e.dn(r.mapValue).fields;o.M()?n=n.add(i):o.forEach((function(t){n=n.add(i.child(t))}))}else n=n.add(i)})),dt.Kt(n)},t.prototype.isEqual=function(t){return H(this.proto,t.proto)},t.prototype.sn=function(){return new Ct(this)},t.EMPTY=new t({mapValue:{}}),t}(),Ct=function(){function t(t){this.vn=t,this.wn=new Map}return t.prototype.set=function(t,e){return Oe(!t.M(),"Cannot set field for empty path on ObjectValue"),this.mn(t,e),this},t.prototype.delete=function(t){return Oe(!t.M(),"Cannot delete field for empty path on ObjectValue"),this.mn(t,null),this},t.prototype.mn=function(t,e){for(var n=this.wn,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===z(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.B(),e)},t.prototype.on=function(){var t=this.pn(T.Y,this.wn);return null!=t?new It(t):this.vn},t.prototype.pn=function(t,e){var n=this,r=!1,i=this.vn.field(t),s=ot(i)?o.__assign({},i.mapValue.fields):{};return e.forEach((function(e,i){if(e instanceof Map){var o=n.pn(t.child(i),e);null!=o&&(s[i]=o,r=!0)}else null!==e?(s[i]=e,r=!0):s.hasOwnProperty(i)&&(delete s[i],r=!0)})),r?{mapValue:{fields:s}}:null},t}(),Tt=function(){function t(t,e){this.key=t,this.version=e}return t.bn=function(t,e){return S.F(t.key,e.key)},t}(),St=function(t){function e(e,n,r,i){var o=t.call(this,e,n)||this;return o.gn=r,o.nn=!!i.nn,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return o.__extends(e,t),e.prototype.field=function(t){return this.gn.field(t)},e.prototype.data=function(){return this.gn},e.prototype.yn=function(){return this.gn.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.nn===t.nn&&this.hasCommittedMutations===t.hasCommittedMutations&&this.gn.isEqual(t.gn)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.gn.toString()+", {hasLocalMutations: "+this.nn+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.nn||this.hasCommittedMutations},enumerable:!0,configurable:!0}),e._n=function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?W(r,i):xe("Trying to compare documents on fields that don't exist")},e}(Tt),At=function(t){function e(e,n,r){var i=t.call(this,e,n)||this;return i.hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return o.__extends(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Tt),kt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Tt),Nt=function(){function t(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.In=null}return t.prototype.canonicalId=function(){if(null===this.In){var t=this.path.J();null!==this.collectionGroup&&(t+="|cg:"+this.collectionGroup),t+="|f:",t+=this.filters.map((function(t){return t.canonicalId()})).join(","),t+="|ob:",t+=this.orderBy.map((function(t){return t.canonicalId()})).join(","),V(this.limit)||(t+="|l:",t+=this.limit),this.startAt&&(t+="|lb:",t+=this.startAt.canonicalId()),this.endAt&&(t+="|ub:",t+=this.endAt.canonicalId()),this.In=t}return this.In},t.prototype.toString=function(){var t=this.path.J();return null!==this.collectionGroup&&(t+=" collectionGroup="+this.collectionGroup),this.filters.length>0&&(t+=", filters: ["+this.filters.join(", ")+"]"),V(this.limit)||(t+=", limit: "+this.limit),this.orderBy.length>0&&(t+=", orderBy: ["+this.orderBy.join(", ")+"]"),this.startAt&&(t+=", startAt: "+this.startAt.canonicalId()),this.endAt&&(t+=", endAt: "+this.endAt.canonicalId()),"Target("+t+")"},t.prototype.isEqual=function(t){if(this.limit!==t.limit)return!1;if(this.orderBy.length!==t.orderBy.length)return!1;for(var e=0;e<this.orderBy.length;e++)if(!this.orderBy[e].isEqual(t.orderBy[e]))return!1;if(this.filters.length!==t.filters.length)return!1;for(e=0;e<this.filters.length;e++)if(!this.filters[e].isEqual(t.filters[e]))return!1;return this.collectionGroup===t.collectionGroup&&!!this.path.isEqual(t.path)&&!!(null!==this.startAt?this.startAt.isEqual(t.startAt):null===t.startAt)&&(null!==this.endAt?this.endAt.isEqual(t.endAt):null===t.endAt)},t.prototype.Tn=function(){return S.nt(this.path)&&null===this.collectionGroup&&0===this.filters.length},t}(),xt=function(){function t(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.En=n,this.filters=r,this.limit=i,this.Dn=o,this.startAt=s,this.endAt=a,this.Rn=null,this.Sn=null,this.startAt&&this.An(this.startAt),this.endAt&&this.An(this.endAt)}return t.Cn=function(e){return new t(e)},Object.defineProperty(t.prototype,"orderBy",{get:function(){if(null===this.Rn){var t=this.Pn(),e=this.Vn();if(null!==t&&null===e)this.Rn=t.$()?[qt]:[new Ft(t),qt];else{Oe(null===t||null!==e&&t.isEqual(e),"First orderBy should match inequality field."),this.Rn=[];for(var n=!1,r=0,i=this.En;r<i.length;r++){var o=i[r];this.Rn.push(o),o.field.$()&&(n=!0)}n||this.Rn.push((this.En.length>0?this.En[this.En.length-1].dir:Ut.ASCENDING)===Ut.ASCENDING?qt:Bt)}}return this.Rn},enumerable:!0,configurable:!0}),t.prototype.kn=function(e){Oe(null==this.Pn()||!(e instanceof Rt)||!e.Nn()||e.field.isEqual(this.Pn()),"Query must only have one inequality field."),Oe(!this.Tn(),"No filtering allowed for document query");var n=this.filters.concat([e]);return new t(this.path,this.collectionGroup,this.En.slice(),n,this.limit,this.Dn,this.startAt,this.endAt)},t.prototype.On=function(e){Oe(!this.startAt&&!this.endAt,"Bounds must be set after orderBy");var n=this.En.concat([e]);return new t(this.path,this.collectionGroup,n,this.filters.slice(),this.limit,this.Dn,this.startAt,this.endAt)},t.prototype.Fn=function(e){return new t(this.path,this.collectionGroup,this.En.slice(),this.filters.slice(),e,"F",this.startAt,this.endAt)},t.prototype.Un=function(e){return new t(this.path,this.collectionGroup,this.En.slice(),this.filters.slice(),e,"L",this.startAt,this.endAt)},t.prototype.jn=function(e){return new t(this.path,this.collectionGroup,this.En.slice(),this.filters.slice(),this.limit,this.Dn,e,this.endAt)},t.prototype.xn=function(e){return new t(this.path,this.collectionGroup,this.En.slice(),this.filters.slice(),this.limit,this.Dn,this.startAt,e)},t.prototype.Ln=function(e){return new t(e,null,this.En.slice(),this.filters.slice(),this.limit,this.Dn,this.startAt,this.endAt)},t.prototype.Mn=function(){return 0===this.filters.length&&null===this.limit&&null==this.startAt&&null==this.endAt&&(0===this.En.length||1===this.En.length&&this.En[0].field.$())},t.prototype.canonicalId=function(){return this.qn().canonicalId()+"|lt:"+this.Dn},t.prototype.toString=function(){return"Query(target="+this.qn().toString()+"; limitType="+this.Dn+")"},t.prototype.isEqual=function(t){return this.qn().isEqual(t.qn())&&this.Dn===t.Dn},t.prototype.Bn=function(t,e){for(var n=!1,r=0,i=this.orderBy;r<i.length;r++){var o=i[r],s=o.compare(t,e);if(0!==s)return s;n=n||o.field.$()}return Oe(n,"orderBy used that doesn't compare on key field"),0},t.prototype.matches=function(t){return this.Qn(t)&&this.Gn(t)&&this.Wn(t)&&this.zn(t)},t.prototype.Kn=function(){return!V(this.limit)&&"F"===this.Dn},t.prototype.Jn=function(){return!V(this.limit)&&"L"===this.Dn},t.prototype.Vn=function(){return this.En.length>0?this.En[0].field:null},t.prototype.Pn=function(){for(var t=0,e=this.filters;t<e.length;t++){var n=e[t];if(n instanceof Rt&&n.Nn())return n.field}return null},t.prototype.Hn=function(t){for(var e=0,n=this.filters;e<n.length;e++){var r=n[e];if(r instanceof Rt&&t.indexOf(r.op)>=0)return r.op}return null},t.prototype.Tn=function(){return this.qn().Tn()},t.prototype.Yn=function(){return null!==this.collectionGroup},t.prototype.qn=function(){if(!this.Sn)if("F"===this.Dn)this.Sn=new Nt(this.path,this.collectionGroup,this.orderBy,this.filters,this.limit,this.startAt,this.endAt);else{for(var t=[],e=0,n=this.orderBy;e<n.length;e++){var r=n[e];t.push(new Ft(r.field,r.dir===Ut.DESCENDING?Ut.ASCENDING:Ut.DESCENDING))}var i=this.endAt?new jt(this.endAt.position,!this.endAt.before):null,o=this.startAt?new jt(this.startAt.position,!this.startAt.before):null;this.Sn=new Nt(this.path,this.collectionGroup,t,this.filters,this.limit,i,o)}return this.Sn},t.prototype.Qn=function(t){var e=t.key.path;return null!==this.collectionGroup?t.key.et(this.collectionGroup)&&this.path.G(e):S.nt(this.path)?this.path.isEqual(e):this.path.W(e)},t.prototype.Gn=function(t){for(var e=0,n=this.En;e<n.length;e++){var r=n[e];if(!r.field.$()&&null===t.field(r.field))return!1}return!0},t.prototype.Wn=function(t){for(var e=0,n=this.filters;e<n.length;e++)if(!n[e].matches(t))return!1;return!0},t.prototype.zn=function(t){return!(this.startAt&&!this.startAt.Xn(this.orderBy,t)||this.endAt&&this.endAt.Xn(this.orderBy,t))},t.prototype.An=function(t){Oe(t.position.length<=this.orderBy.length,"Bound is longer than orderBy")},t}(),Ot=function(){function t(t){this.name=t}return t.H=function(e){switch(e){case"<":return t.LESS_THAN;case"<=":return t.LESS_THAN_OR_EQUAL;case"==":return t.EQUAL;case">=":return t.GREATER_THAN_OR_EQUAL;case">":return t.GREATER_THAN;case"array-contains":return t.ARRAY_CONTAINS;case"in":return t.IN;case"array-contains-any":return t.ARRAY_CONTAINS_ANY;default:return xe("Unknown FieldFilter operator: "+e)}},t.prototype.toString=function(){return this.name},t.prototype.isEqual=function(t){return this.name===t.name},t.LESS_THAN=new t("<"),t.LESS_THAN_OR_EQUAL=new t("<="),t.EQUAL=new t("=="),t.GREATER_THAN=new t(">"),t.GREATER_THAN_OR_EQUAL=new t(">="),t.ARRAY_CONTAINS=new t("array-contains"),t.IN=new t("in"),t.ARRAY_CONTAINS_ANY=new t("array-contains-any"),t}(),Rt=function(t){function e(e,n,r){var i=t.call(this)||this;return i.field=e,i.op=n,i.value=r,i}return o.__extends(e,t),e.create=function(t,n,r){if(t.$())return n===Ot.IN?(Oe(et(r),"Comparing on key with IN, but filter value not an ArrayValue"),Oe((r.arrayValue.values||[]).every((function(t){return nt(t)})),"Comparing on key with IN, but an array value was not a RefValue"),new Pt(t,r)):(Oe(nt(r),"Comparing on key, but filter value not a RefValue"),Oe(n!==Ot.ARRAY_CONTAINS&&n!==Ot.ARRAY_CONTAINS_ANY,"'"+n.toString()+"' queries don't make sense on document keys."),new Dt(t,n,r));if(rt(r)){if(n!==Ot.EQUAL)throw new d(f.INVALID_ARGUMENT,"Invalid query. Null supports only equality comparisons.");return new e(t,n,r)}if(it(r)){if(n!==Ot.EQUAL)throw new d(f.INVALID_ARGUMENT,"Invalid query. NaN supports only equality comparisons.");return new e(t,n,r)}return n===Ot.ARRAY_CONTAINS?new Lt(t,r):n===Ot.IN?(Oe(et(r),"IN filter has invalid value: "+r.toString()),new Mt(t,r)):n===Ot.ARRAY_CONTAINS_ANY?(Oe(et(r),"ARRAY_CONTAINS_ANY filter has invalid value: "+r.toString()),new Vt(t,r)):new e(t,n,r)},e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&z(this.value)===z(e)&&this.$n(W(e,this.value))},e.prototype.$n=function(t){switch(this.op){case Ot.LESS_THAN:return t<0;case Ot.LESS_THAN_OR_EQUAL:return t<=0;case Ot.EQUAL:return 0===t;case Ot.GREATER_THAN:return t>0;case Ot.GREATER_THAN_OR_EQUAL:return t>=0;default:return xe("Unknown FieldFilter operator: "+this.op)}},e.prototype.Nn=function(){return[Ot.LESS_THAN,Ot.LESS_THAN_OR_EQUAL,Ot.GREATER_THAN,Ot.GREATER_THAN_OR_EQUAL].indexOf(this.op)>=0},e.prototype.canonicalId=function(){return this.field.J()+this.op.toString()+K(this.value)},e.prototype.isEqual=function(t){return t instanceof e&&this.op.isEqual(t.op)&&this.field.isEqual(t.field)&&H(this.value,t.value)},e.prototype.toString=function(){return this.field.J()+" "+this.op+" "+K(this.value)},e}((function(){})),Dt=function(t){function e(e,n,r){var i=t.call(this,e,n,r)||this;return Oe(nt(r),"KeyFieldFilter expects a ReferenceValue"),i.key=S.it(r.referenceValue),i}return o.__extends(e,t),e.prototype.matches=function(t){var e=S.F(t.key,this.key);return this.$n(e)},e}(Rt),Pt=function(t){function e(e,n){var r=t.call(this,e,Ot.IN,n)||this;return Oe(et(n),"KeyFieldInFilter expects an ArrayValue"),r.keys=(n.arrayValue.values||[]).map((function(t){return Oe(nt(t),"Comparing on key with IN, but an array value was not a ReferenceValue"),S.it(t.referenceValue)})),r}return o.__extends(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(Rt),Lt=function(t){function e(e,n){return t.call(this,e,Ot.ARRAY_CONTAINS,n)||this}return o.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return et(e)&&G(e.arrayValue,this.value)},e}(Rt),Mt=function(t){function e(e,n){var r=t.call(this,e,Ot.IN,n)||this;return Oe(et(n),"InFilter expects an ArrayValue"),r}return o.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&G(this.value.arrayValue,e)},e}(Rt),Vt=function(t){function e(e,n){var r=t.call(this,e,Ot.ARRAY_CONTAINS_ANY,n)||this;return Oe(et(n),"ArrayContainsAnyFilter expects an ArrayValue"),r}return o.__extends(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!et(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return G(e.value.arrayValue,t)}))},e}(Rt),Ut=function(){function t(t){this.name=t}return t.prototype.toString=function(){return this.name},t.ASCENDING=new t("asc"),t.DESCENDING=new t("desc"),t}(),jt=function(){function t(t,e){this.position=t,this.before=e}return t.prototype.canonicalId=function(){return(this.before?"b":"a")+":"+this.position.map((function(t){return K(t)})).join(",")},t.prototype.Xn=function(t,e){Oe(this.position.length<=t.length,"Bound has more components than query's orderBy");for(var n=0,r=0;r<this.position.length;r++){var i=t[r],o=this.position[r];if(i.field.$())Oe(nt(o),"Bound has a non-key value where the key path is being used."),n=S.F(S.it(o.referenceValue),e.key);else{var s=e.field(i.field);Oe(null!==s,"Field should exist since document matched the orderBy already."),n=W(o,s)}if(i.dir===Ut.DESCENDING&&(n*=-1),0!==n)break}return this.before?n<=0:n<0},t.prototype.isEqual=function(t){if(null===t)return!1;if(this.before!==t.before||this.position.length!==t.position.length)return!1;for(var e=0;e<this.position.length;e++)if(!H(this.position[e],t.position[e]))return!1;return!0},t}(),Ft=function(){function t(t,e){this.field=t,void 0===e&&(e=Ut.ASCENDING),this.dir=e,this.Zn=t.$()}return t.prototype.compare=function(t,e){var n=this.Zn?St.bn(t,e):St._n(this.field,t,e);switch(this.dir){case Ut.ASCENDING:return n;case Ut.DESCENDING:return-1*n;default:return xe("Unknown direction: "+this.dir)}},t.prototype.canonicalId=function(){return this.field.J()+this.dir.toString()},t.prototype.toString=function(){return this.field.J()+" ("+this.dir+")"},t.prototype.isEqual=function(t){return this.dir===t.dir&&this.field.isEqual(t.field)},t}(),qt=new Ft(T.Z(),Ut.ASCENDING),Bt=new Ft(T.Z(),Ut.DESCENDING),zt=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=_.MIN),void 0===o&&(o=_.MIN),void 0===s&&(s=M.Mt),this.target=t,this.targetId=e,this.ti=n,this.sequenceNumber=r,this.ni=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.ii=function(e){return new t(this.target,this.targetId,this.ti,e,this.ni,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.ei=function(e,n){return new t(this.target,this.targetId,this.ti,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.ri=function(e){return new t(this.target,this.targetId,this.ti,this.sequenceNumber,this.ni,e,this.resumeToken)},t.prototype.isEqual=function(t){return this.targetId===t.targetId&&this.ti===t.ti&&this.sequenceNumber===t.sequenceNumber&&this.ni.isEqual(t.ni)&&this.lastLimboFreeSnapshotVersion.isEqual(t.lastLimboFreeSnapshotVersion)&&this.resumeToken.isEqual(t.resumeToken)&&this.target.isEqual(t.target)},t}(),Ht=function(){function t(t){this.count=t}return t.prototype.isEqual=function(t){return t&&t.count===this.count},t}();function Gt(t){switch(t){case f.OK:return xe("Treated status OK as error");case f.CANCELLED:case f.UNKNOWN:case f.DEADLINE_EXCEEDED:case f.RESOURCE_EXHAUSTED:case f.INTERNAL:case f.UNAVAILABLE:case f.UNAUTHENTICATED:return!1;case f.INVALID_ARGUMENT:case f.NOT_FOUND:case f.ALREADY_EXISTS:case f.PERMISSION_DENIED:case f.FAILED_PRECONDITION:case f.ABORTED:case f.OUT_OF_RANGE:case f.UNIMPLEMENTED:case f.DATA_LOSS:return!0;default:return xe("Unknown status code: "+t)}}function Wt(t){if(void 0===t)return ke("GRPC error has no .code"),f.UNKNOWN;switch(t){case ht.OK:return f.OK;case ht.CANCELLED:return f.CANCELLED;case ht.UNKNOWN:return f.UNKNOWN;case ht.DEADLINE_EXCEEDED:return f.DEADLINE_EXCEEDED;case ht.RESOURCE_EXHAUSTED:return f.RESOURCE_EXHAUSTED;case ht.INTERNAL:return f.INTERNAL;case ht.UNAVAILABLE:return f.UNAVAILABLE;case ht.UNAUTHENTICATED:return f.UNAUTHENTICATED;case ht.INVALID_ARGUMENT:return f.INVALID_ARGUMENT;case ht.NOT_FOUND:return f.NOT_FOUND;case ht.ALREADY_EXISTS:return f.ALREADY_EXISTS;case ht.PERMISSION_DENIED:return f.PERMISSION_DENIED;case ht.FAILED_PRECONDITION:return f.FAILED_PRECONDITION;case ht.ABORTED:return f.ABORTED;case ht.OUT_OF_RANGE:return f.OUT_OF_RANGE;case ht.UNIMPLEMENTED:return f.UNIMPLEMENTED;case ht.DATA_LOSS:return f.DATA_LOSS;default:return xe("Unknown status code: "+t)}}(ft=ht||(ht={}))[ft.OK=0]="OK",ft[ft.CANCELLED=1]="CANCELLED",ft[ft.UNKNOWN=2]="UNKNOWN",ft[ft.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ft[ft.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ft[ft.NOT_FOUND=5]="NOT_FOUND",ft[ft.ALREADY_EXISTS=6]="ALREADY_EXISTS",ft[ft.PERMISSION_DENIED=7]="PERMISSION_DENIED",ft[ft.UNAUTHENTICATED=16]="UNAUTHENTICATED",ft[ft.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ft[ft.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ft[ft.ABORTED=10]="ABORTED",ft[ft.OUT_OF_RANGE=11]="OUT_OF_RANGE",ft[ft.UNIMPLEMENTED=12]="UNIMPLEMENTED",ft[ft.INTERNAL=13]="INTERNAL",ft[ft.UNAVAILABLE=14]="UNAVAILABLE",ft[ft.DATA_LOSS=15]="DATA_LOSS";var $t=new A(S.F);function Kt(){return $t}function Jt(){return Kt()}var Yt=new A(S.F);function Qt(){return Yt}var Xt=new A(S.F);function Zt(){return Xt}var te=new O(S.F);function ee(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=te,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var ne=new O(De);function re(){return ne}var ie=function(){function t(t){this.F=t?function(e,n){return t(e,n)||S.F(e.key,n.key)}:function(t,e){return S.F(t.key,e.key)},this.ui=Qt(),this.si=new A(this.F)}return t.oi=function(e){return new t(e.F)},t.prototype.has=function(t){return null!=this.ui.get(t)},t.prototype.get=function(t){return this.ui.get(t)},t.prototype.first=function(){return this.si.ot()},t.prototype.last=function(){return this.si.ht()},t.prototype.M=function(){return this.si.M()},t.prototype.indexOf=function(t){var e=this.ui.get(t);return e?this.si.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.si.size},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t){this.si.ct((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.ui.ut(t.key,t),e.si.ut(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.ui.remove(t),this.si.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.si.ft(),r=e.si.ft();n.gt();){var i=n.bt().key,o=r.bt().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.F=this.F,r.ui=e,r.si=n,r},t}(),oe=function(){function t(){this.hi=new A(S.F)}return t.prototype.track=function(t){var e=t.doc.key,n=this.hi.get(e);n?0!==t.type&&3===n.type?this.hi=this.hi.ut(e,t):3===t.type&&1!==n.type?this.hi=this.hi.ut(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.hi=this.hi.ut(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.hi=this.hi.ut(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.hi=this.hi.remove(e):1===t.type&&2===n.type?this.hi=this.hi.ut(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.hi=this.hi.ut(e,{type:2,doc:t.doc}):xe("unsupported combination of changes: "+JSON.stringify(t)+" after "+JSON.stringify(n)):this.hi=this.hi.ut(e,t)},t.prototype.ci=function(){var t=[];return this.hi.ct((function(e,n){t.push(n)})),t},t}(),se=function(){function t(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.ai=n,this.docChanges=r,this.fi=i,this.fromCache=o,this.li=s,this.di=a}return t.vi=function(e,n,r,i){var o=[];return n.forEach((function(t){o.push({type:0,doc:t})})),new t(e,n,ie.oi(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.fi.M()},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.li===t.li&&this.fi.isEqual(t.fi)&&this.query.isEqual(t.query)&&this.docs.isEqual(t.docs)&&this.ai.isEqual(t.ai)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),ae=function(){function t(t,e,n,r,i){this.ni=t,this.wi=e,this.mi=n,this.pi=r,this.bi=i}return t.gi=function(e,n){var r=new Map;return r.set(e,ue.yi(e,n)),new t(_.MIN,r,re(),Kt(),ee())},t}(),ue=function(){function t(t,e,n,r,i){this.resumeToken=t,this._i=e,this.Ii=n,this.Ti=r,this.Ei=i}return t.yi=function(e,n){return new t(M.Mt,n,ee(),ee(),ee())},t}(),ce=function(t,e,n,r){this.Di=t,this.removedTargetIds=e,this.key=n,this.Ri=r},le=function(t,e){this.targetId=t,this.Si=e},he=function(t,e,n,r){void 0===n&&(n=M.Mt),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},fe=function(){function t(){this.Ai=0,this.Ci=me(),this.Pi=M.Mt,this.Vi=!1,this.ki=!0}return Object.defineProperty(t.prototype,"_i",{get:function(){return this.Vi},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.Pi},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Ni",{get:function(){return 0!==this.Ai},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Oi",{get:function(){return this.ki},enumerable:!0,configurable:!0}),t.prototype.Fi=function(t){t.Lt()>0&&(this.ki=!0,this.Pi=t)},t.prototype.Ui=function(){var t=ee(),e=ee(),n=ee();return this.Ci.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:xe("Encountered invalid change type: "+i)}})),new ue(this.Pi,this.Vi,t,e,n)},t.prototype.ji=function(){this.ki=!1,this.Ci=me()},t.prototype.xi=function(t,e){this.ki=!0,this.Ci=this.Ci.ut(t,e)},t.prototype.Li=function(t){this.ki=!0,this.Ci=this.Ci.remove(t)},t.prototype.Mi=function(){this.Ai+=1},t.prototype.qi=function(){this.Ai-=1},t.prototype.Bi=function(){this.ki=!0,this.Vi=!0},t}(),de=function(){function t(t){this.Qi=t,this.Gi=new Map,this.Wi=Kt(),this.zi=pe(),this.Ki=new O(De)}return t.prototype.Ji=function(t){for(var e=0,n=t.Di;e<n.length;e++){var r=n[e];t.Ri instanceof St?this.Hi(r,t.Ri):t.Ri instanceof At&&this.Yi(r,t.key,t.Ri)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.Yi(r=o[i],t.key,t.Ri)},t.prototype.Xi=function(t){var e=this;this.$i(t,(function(n){var r=e.Zi(n);switch(t.state){case 0:e.te(n)&&r.Fi(t.resumeToken);break;case 1:r.qi(),r.Ni||r.ji(),r.Fi(t.resumeToken);break;case 2:r.qi(),r.Ni||e.removeTarget(n),Oe(!t.cause,"WatchChangeAggregator does not handle errored targets");break;case 3:e.te(n)&&(r.Bi(),r.Fi(t.resumeToken));break;case 4:e.te(n)&&(e.ne(n),r.Fi(t.resumeToken));break;default:xe("Unknown target watch change state: "+t.state)}}))},t.prototype.$i=function(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Gi.forEach((function(t,n){return e(n)}))},t.prototype.ie=function(t){var e=t.targetId,n=t.Si.count,r=this.ee(e);if(r){var i=r.target;if(i.Tn())if(0===n){var o=new S(i.path);this.Yi(e,o,new At(o,_.V()))}else Oe(1===n,"Single document existence filter with count: "+n);else this.re(e)!==n&&(this.ne(e),this.Ki=this.Ki.add(e))}},t.prototype.ue=function(t){var e=this,n=new Map;this.Gi.forEach((function(r,i){var o=e.ee(i);if(o){if(r._i&&o.target.Tn()){var s=new S(o.target.path);null!==e.Wi.get(s)||e.se(i,s)||e.Yi(i,s,new At(s,t))}r.Oi&&(n.set(i,r.Ui()),r.ji())}}));var r=ee();this.zi.forEach((function(t,n){var i=!0;n.Nt((function(t){var n=e.ee(t);return!n||2===n.ti||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new ae(t,n,this.Ki,this.Wi,r);return this.Wi=Kt(),this.zi=pe(),this.Ki=new O(De),i},t.prototype.Hi=function(t,e){if(this.te(t)){var n=this.se(t,e.key)?2:0;this.Zi(t).xi(e.key,n),this.Wi=this.Wi.ut(e.key,e),this.zi=this.zi.ut(e.key,this.oe(e.key).add(t))}},t.prototype.Yi=function(t,e,n){if(this.te(t)){var r=this.Zi(t);this.se(t,e)?r.xi(e,1):r.Li(e),this.zi=this.zi.ut(e,this.oe(e).delete(t)),n&&(this.Wi=this.Wi.ut(e,n))}},t.prototype.removeTarget=function(t){this.Gi.delete(t)},t.prototype.re=function(t){var e=this.Zi(t).Ui();return this.Qi.he(t).size+e.Ii.size-e.Ei.size},t.prototype.Mi=function(t){this.Zi(t).Mi()},t.prototype.Zi=function(t){var e=this.Gi.get(t);return e||(e=new fe,this.Gi.set(t,e)),e},t.prototype.oe=function(t){var e=this.zi.get(t);return e||(e=new O(De),this.zi=this.zi.ut(t,e)),e},t.prototype.te=function(t){var e=null!==this.ee(t);return e||Ae("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ee=function(t){var e=this.Gi.get(t);return e&&e.Ni?null:this.Qi.ce(t)},t.prototype.ne=function(t){var e=this;Oe(!this.Gi.get(t).Ni,"Should only reset active targets"),this.Gi.set(t,new fe),this.Qi.he(t).forEach((function(n){e.Yi(t,n,null)}))},t.prototype.se=function(t,e){return this.Qi.he(t).has(e)},t}();function pe(){return new A(S.F)}function me(){return new A(S.F)}var ge,ve,ye=((ge={})[Ut.ASCENDING.name]="ASCENDING",ge[Ut.DESCENDING.name]="DESCENDING",ge),we=((ve={})[Ot.LESS_THAN.name]="LESS_THAN",ve[Ot.LESS_THAN_OR_EQUAL.name]="LESS_THAN_OR_EQUAL",ve[Ot.GREATER_THAN.name]="GREATER_THAN",ve[Ot.GREATER_THAN_OR_EQUAL.name]="GREATER_THAN_OR_EQUAL",ve[Ot.EQUAL.name]="EQUAL",ve[Ot.ARRAY_CONTAINS.name]="ARRAY_CONTAINS",ve[Ot.IN.name]="IN",ve[Ot.ARRAY_CONTAINS_ANY.name]="ARRAY_CONTAINS_ANY",ve);function be(t,e){Oe(!V(t),e+" is missing")}var _e=function(){function t(t,e){this.ae=t,this.options=e}return t.prototype.fe=function(t){var e=void 0===t.code?f.UNKNOWN:Wt(t.code);return new d(e,t.message||"")},t.prototype.le=function(t){return this.options.de||V(t)?t:{value:t}},t.prototype.ve=function(t){var e;return V(e="object"==typeof t?t.value:t)?null:e},t.prototype.Wt=function(t){return{integerValue:""+t}},t.prototype.zt=function(t){if(this.options.de){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:U(t)?"-0":t}},t.prototype.we=function(t){return j(t)?this.Wt(t):this.zt(t)},t.prototype.O=function(t){return this.options.de?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}},t.prototype.P=function(t){var e=J(t);return new b(e.seconds,e.nanos)},t.prototype.me=function(t){return this.options.de?t.toBase64():t.toUint8Array()},t.prototype.pe=function(t){return this.options.de?(Oe(void 0===t||"string"==typeof t,"value must be undefined or a string when using proto3 Json"),M.fromBase64String(t||"")):(Oe(void 0===t||t instanceof Uint8Array,"value must be undefined or Uint8Array"),M.fromUint8Array(t||new Uint8Array))},t.prototype.toVersion=function(t){return this.O(t.O())},t.prototype.fromVersion=function(t){return Oe(!!t,"Trying to deserialize version that isn't set"),_.P(this.P(t))},t.prototype.be=function(t,e){return this.ge(e||this.ae).child("documents").child(t).J()},t.prototype.ye=function(t){var e=I.H(t);return Oe(Ee(e),"Tried to deserialize invalid key "+e.toString()),e},t.prototype._e=function(t){return this.be(t.path)},t.prototype.it=function(t){var e=this.ye(t);return Oe(e.get(1)===this.ae.projectId,"Tried to deserialize key from different project: "+e.get(1)+" vs "+this.ae.projectId),Oe(!e.get(3)&&!this.ae.database||e.get(3)===this.ae.database,"Tried to deserialize key from different database: "+e.get(3)+" vs "+this.ae.database),new S(this.Ie(e))},t.prototype.Te=function(t){return this.be(t)},t.prototype.Ee=function(t){var e=this.ye(t);return 4===e.length?I.Y:this.Ie(e)},Object.defineProperty(t.prototype,"De",{get:function(){return new I(["projects",this.ae.projectId,"databases",this.ae.database]).J()},enumerable:!0,configurable:!0}),t.prototype.ge=function(t){return new I(["projects",t.projectId,"databases",t.database])},t.prototype.Ie=function(t){return Oe(t.length>4&&"documents"===t.get(4),"tried to deserialize invalid key "+t.toString()),t.j(5)},t.prototype.Re=function(t,e){return{name:this._e(t),fields:e.proto.mapValue.fields}},t.prototype.Se=function(t){return Oe(!t.nn,"Can't serialize documents with mutations."),{name:this._e(t.key),fields:t.yn().mapValue.fields,updateTime:this.O(t.version.O())}},t.prototype.Ae=function(t,e){var n=this.it(t.name),r=this.fromVersion(t.updateTime),i=new It({mapValue:{fields:t.fields}});return new St(n,r,i,{hasCommittedMutations:!!e})},t.prototype.Ce=function(t){Oe(!!t.found,"Tried to deserialize a found document from a missing document."),be(t.found.name,"doc.found.name"),be(t.found.updateTime,"doc.found.updateTime");var e=this.it(t.found.name),n=this.fromVersion(t.found.updateTime),r=new It({mapValue:{fields:t.found.fields}});return new St(e,n,r,{})},t.prototype.Pe=function(t){Oe(!!t.missing,"Tried to deserialize a missing document from a found document."),Oe(!!t.readTime,"Tried to deserialize a missing document without a read time.");var e=this.it(t.missing),n=this.fromVersion(t.readTime);return new At(e,n)},t.prototype.Ve=function(t){return"found"in t?this.Ce(t):"missing"in t?this.Pe(t):xe("invalid batch get response: "+JSON.stringify(t))},t.prototype.ke=function(t){var e;if("targetChange"in t){be(t.targetChange,"targetChange");var n=this.Ne(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],i=this.pe(t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&this.fe(o);e=new he(n,r,i,s||null)}else if("documentChange"in t){be(t.documentChange,"documentChange");var a=t.documentChange;be(a.document,"documentChange.name"),be(a.document.name,"documentChange.document.name"),be(a.document.updateTime,"documentChange.document.updateTime");var u=this.it(a.document.name),c=this.fromVersion(a.document.updateTime),l=new It({mapValue:{fields:a.document.fields}}),h=new St(u,c,l,{}),f=a.removedTargetIds||[];e=new ce(a.targetIds||[],f,h.key,h)}else if("documentDelete"in t){be(t.documentDelete,"documentDelete");var d=t.documentDelete;be(d.document,"documentDelete.document"),u=this.it(d.document),c=d.readTime?this.fromVersion(d.readTime):_.V(),h=new At(u,c),e=new ce([],f=d.removedTargetIds||[],h.key,h)}else if("documentRemove"in t){be(t.documentRemove,"documentRemove");var p=t.documentRemove;be(p.document,"documentRemove"),u=this.it(p.document),e=new ce([],f=p.removedTargetIds||[],u,null)}else{if(!("filter"in t))return xe("Unknown change type "+JSON.stringify(t));be(t.filter,"filter");var m=t.filter;be(m.targetId,"filter.targetId");var g=new Ht(m.count||0);e=new le(m.targetId,g)}return e},t.prototype.Ne=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:xe("Got unexpected TargetChange.state: "+t)},t.prototype.Oe=function(t){if(!("targetChange"in t))return _.MIN;var e=t.targetChange;return e.targetIds&&e.targetIds.length?_.MIN:e.readTime?this.fromVersion(e.readTime):_.MIN},t.prototype.Fe=function(t){var e,n=this;if(t instanceof yt)e={update:this.Re(t.key,t.value)};else if(t instanceof _t)e={delete:this._e(t.key)};else if(t instanceof wt)e={update:this.Re(t.key,t.data),updateMask:this.Ue(t.en)};else if(t instanceof bt)e={transform:{document:this._e(t.key),fieldTransforms:t.fieldTransforms.map((function(t){return n.je(t)}))}};else{if(!(t instanceof Et))return xe("Unknown mutation type "+t.type);e={verify:this._e(t.key)}}return t.tn.Yt||(e.currentDocument=this.xe(t.tn)),e},t.prototype.Le=function(t){var e=this,n=t.currentDocument?this.Me(t.currentDocument):gt.NONE;if(t.update){be(t.update.name,"name");var r=this.it(t.update.name),i=new It({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=this.qe(t.updateMask);return new wt(r,i,o,n)}return new yt(r,i,n)}if(t.delete)return r=this.it(t.delete),new _t(r,n);if(t.transform){r=this.it(t.transform.document);var s=t.transform.fieldTransforms.map((function(t){return e.Be(t)}));return Oe(!0===n.exists,'Transforms only support precondition "exists == true"'),new bt(r,s)}return t.verify?(r=this.it(t.verify),new Et(r,n)):xe("unknown mutation proto: "+JSON.stringify(t))},t.prototype.xe=function(t){return Oe(!t.Yt,"Can't serialize an empty precondition"),void 0!==t.updateTime?{updateTime:this.toVersion(t.updateTime)}:void 0!==t.exists?{exists:t.exists}:xe("Unknown precondition")},t.prototype.Me=function(t){return void 0!==t.updateTime?gt.updateTime(this.fromVersion(t.updateTime)):void 0!==t.exists?gt.exists(t.exists):gt.NONE},t.prototype.Qe=function(t,e){var n=this.fromVersion(t.updateTime?t.updateTime:e);n.isEqual(_.MIN)&&(n=this.fromVersion(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new mt(n,r)},t.prototype.Ge=function(t,e){var n=this;return t&&t.length>0?(Oe(void 0!==e,"Received a write result without a commit time"),t.map((function(t){return n.Qe(t,e)}))):[]},t.prototype.je=function(t){var e=t.transform;if(e instanceof st)return{fieldPath:t.field.J(),setToServerValue:"REQUEST_TIME"};if(e instanceof at)return{fieldPath:t.field.J(),appendMissingElements:{values:e.elements}};if(e instanceof ut)return{fieldPath:t.field.J(),removeAllFromArray:{values:e.elements}};if(e instanceof ct)return{fieldPath:t.field.J(),increment:e.Gt};throw xe("Unknown transform: "+t.transform)},t.prototype.Be=function(t){var e=null;if("setToServerValue"in t)Oe("REQUEST_TIME"===t.setToServerValue,"Unknown server value transform proto: "+JSON.stringify(t)),e=st.instance;else if("appendMissingElements"in t){var n=t.appendMissingElements.values||[];e=new at(n)}else"removeAllFromArray"in t?e=new ut(n=t.removeAllFromArray.values||[]):"increment"in t?e=new ct(this,t.increment):xe("Unknown transform proto: "+JSON.stringify(t));var r=T.tt(t.fieldPath);return new pt(r,e)},t.prototype.We=function(t){return{documents:[this.Te(t.path)]}},t.prototype.ze=function(t){var e=t.documents.length;return Oe(1===e,"DocumentsTarget contained other than 1 document: "+e),xt.Cn(this.Ee(t.documents[0])).qn()},t.prototype.Ke=function(t){var e={structuredQuery:{}},n=t.path;null!==t.collectionGroup?(Oe(n.length%2==0,"Collection Group queries should be within a document path or root."),e.parent=this.Te(n),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(Oe(n.length%2!=0,"Document queries with filters are not supported."),e.parent=this.Te(n.L()),e.structuredQuery.from=[{collectionId:n.B()}]);var r=this.Je(t.filters);r&&(e.structuredQuery.where=r);var i=this.He(t.orderBy);i&&(e.structuredQuery.orderBy=i);var o=this.le(t.limit);return null!==o&&(e.structuredQuery.limit=o),t.startAt&&(e.structuredQuery.startAt=this.Ye(t.startAt)),t.endAt&&(e.structuredQuery.endAt=this.Ye(t.endAt)),e},t.prototype.Xe=function(t){var e=this.Ee(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Oe(1===r,"StructuredQuery.from with more than one collection is not supported.");var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=this.$e(n.where));var a=[];n.orderBy&&(a=this.Ze(n.orderBy));var u=null;n.limit&&(u=this.ve(n.limit));var c=null;n.startAt&&(c=this.tr(n.startAt));var l=null;return n.endAt&&(l=this.tr(n.endAt)),new xt(e,i,a,s,u,"F",c,l).qn()},t.prototype.nr=function(t){var e=this.ir(t.ti);return null==e?null:{"goog-listen-tags":e}},t.prototype.ir=function(t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return xe("Unrecognized query purpose: "+t)}},t.prototype.qn=function(t){var e,n=t.target;return(e=n.Tn()?{documents:this.We(n)}:{query:this.Ke(n)}).targetId=t.targetId,t.resumeToken.Lt()>0&&(e.resumeToken=this.me(t.resumeToken)),e},t.prototype.Je=function(t){var e=this;if(0!==t.length){var n=t.map((function(t){return t instanceof Rt?e.er(t):xe("Unrecognized filter: "+JSON.stringify(t))}));return 1===n.length?n[0]:{compositeFilter:{op:"AND",filters:n}}}},t.prototype.$e=function(t){var e=this;return t?void 0!==t.unaryFilter?[this.rr(t)]:void 0!==t.fieldFilter?[this.ur(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map((function(t){return e.$e(t)})).reduce((function(t,e){return t.concat(e)})):xe("Unknown filter: "+JSON.stringify(t)):[]},t.prototype.He=function(t){var e=this;if(0!==t.length)return t.map((function(t){return e.sr(t)}))},t.prototype.Ze=function(t){var e=this;return t.map((function(t){return e.or(t)}))},t.prototype.Ye=function(t){return{before:t.before,values:t.position}},t.prototype.tr=function(t){return new jt(t.values||[],!!t.before)},t.prototype.hr=function(t){return ye[t.name]},t.prototype.cr=function(t){switch(t){case"ASCENDING":return Ut.ASCENDING;case"DESCENDING":return Ut.DESCENDING;default:return}},t.prototype.ar=function(t){return we[t.name]},t.prototype.lr=function(t){switch(t){case"EQUAL":return Ot.EQUAL;case"GREATER_THAN":return Ot.GREATER_THAN;case"GREATER_THAN_OR_EQUAL":return Ot.GREATER_THAN_OR_EQUAL;case"LESS_THAN":return Ot.LESS_THAN;case"LESS_THAN_OR_EQUAL":return Ot.LESS_THAN_OR_EQUAL;case"ARRAY_CONTAINS":return Ot.ARRAY_CONTAINS;case"IN":return Ot.IN;case"ARRAY_CONTAINS_ANY":return Ot.ARRAY_CONTAINS_ANY;case"OPERATOR_UNSPECIFIED":return xe("Unspecified operator");default:return xe("Unknown operator")}},t.prototype.dr=function(t){return{fieldPath:t.J()}},t.prototype.vr=function(t){return T.tt(t.fieldPath)},t.prototype.sr=function(t){return{field:this.dr(t.field),direction:this.hr(t.dir)}},t.prototype.or=function(t){return new Ft(this.vr(t.field),this.cr(t.direction))},t.prototype.ur=function(t){return Rt.create(this.vr(t.fieldFilter.field),this.lr(t.fieldFilter.op),t.fieldFilter.value)},t.prototype.er=function(t){if(t.op===Ot.EQUAL){if(it(t.value))return{unaryFilter:{field:this.dr(t.field),op:"IS_NAN"}};if(rt(t.value))return{unaryFilter:{field:this.dr(t.field),op:"IS_NULL"}}}return{fieldFilter:{field:this.dr(t.field),op:this.ar(t.op),value:t.value}}},t.prototype.rr=function(t){switch(t.unaryFilter.op){case"IS_NAN":var e=this.vr(t.unaryFilter.field);return Rt.create(e,Ot.EQUAL,{doubleValue:NaN});case"IS_NULL":var n=this.vr(t.unaryFilter.field);return Rt.create(n,Ot.EQUAL,{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return xe("Unspecified filter");default:return xe("Unknown filter")}},t.prototype.Ue=function(t){var e=[];return t.fields.forEach((function(t){return e.push(t.J())})),{fieldPaths:e}},t.prototype.qe=function(t){var e=(t.fieldPaths||[]).map((function(t){return T.tt(t)}));return dt.Jt(e)},t}();function Ee(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var Ie=function(){function t(){}return t.wr=function(e){t.platform&&xe("Platform already defined"),t.platform=e},t.xt=function(){return t.platform||xe("Platform not set"),t.platform},t}(),Ce=new s.Logger("@firebase/firestore");function Te(){return Ce.logLevel}function Se(t){Ce.logLevel=t}function Ae(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Ce.logLevel<=s.LogLevel.DEBUG){var r=e.map(Ne);Ce.error.apply(Ce,o.__spreadArrays(["Firestore ("+l+"): "+t],r))}}function ke(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Ce.logLevel<=s.LogLevel.ERROR){var r=e.map(Ne);Ce.error.apply(Ce,o.__spreadArrays(["Firestore ("+l+"): "+t],r))}}function Ne(t){if("string"==typeof t)return t;var e=Ie.xt();try{return e.mr(t)}catch(e){return t}}function xe(t){var e="FIRESTORE ("+l+") INTERNAL ASSERTION FAILED: "+t;throw ke(e),new Error(e)}function Oe(t,e){t||xe(e)}var Re=function(){function t(){}return t.pr=function(){for(var t="";t.length<20;)for(var e=Ie.xt().randomBytes(40),n=0,r=Array.from(e);n<r.length;n++){var i=r[n];t.length<20&&i<=247&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i%62))}return Oe(20===t.length,"Invalid auto ID: "+t),t},t}();function De(t,e){return t<e?-1:t>e?1:0}function Pe(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function Le(t){return t+"\0"}var Me=function(t,e,n,r,i){this.ae=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i},Ve=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"br",{get:function(){return"(default)"===this.database},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t.prototype.k=function(t){return De(this.projectId,t.projectId)||De(this.database,t.database)},t}(),Ue=function(){function t(t,e,n,r){this.batchId=t,this.gr=e,this.baseMutations=n,this.mutations=r,Oe(r.length>0,"Cannot create an empty mutation batch")}return t.prototype.Bt=function(t,e,n){e&&Oe(e.key.isEqual(t),"applyToRemoteDocument: key "+t+" should match maybeDoc key\n        "+e.key);var r=n.yr;Oe(r.length===this.mutations.length,"Mismatch between mutations length\n      ("+this.mutations.length+") and mutation results length\n      ("+r.length+").");for(var i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=o.Bt(e,r[i]))}return e},t.prototype.qt=function(t,e){e&&Oe(e.key.isEqual(t),"applyToLocalDocument: key "+t+" should match maybeDoc key\n        "+e.key);for(var n=0,r=this.baseMutations;n<r.length;n++)(a=r[n]).key.isEqual(t)&&(e=a.qt(e,e,this.gr));for(var i=e,o=0,s=this.mutations;o<s.length;o++){var a;(a=s[o]).key.isEqual(t)&&(e=a.qt(e,i,this.gr))}return e},t.prototype._r=function(t){var e=this,n=t;return this.mutations.forEach((function(r){var i=e.qt(r.key,t.get(r.key));i&&(n=n.ut(r.key,i))})),n},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),ee())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Pe(this.mutations,t.mutations,(function(t,e){return t.isEqual(e)}))&&Pe(this.baseMutations,t.baseMutations,(function(t,e){return t.isEqual(e)}))},t}(),je=function(){function t(t,e,n,r,i){this.batch=t,this.Ir=e,this.yr=n,this.streamToken=r,this.Tr=i}return t.from=function(e,n,r,i){Oe(e.mutations.length===r.length,"Mutations sent "+e.mutations.length+" must equal results received "+r.length);for(var o=Zt(),s=e.mutations,a=0;a<s.length;a++)o=o.ut(s[a].key,r[a].version);return new t(e,n,r,i,o)},t}(),Fe=function(){function t(t){this.Er=t,this.Dr={}}return t.prototype.get=function(t){var e=this.Er(t),n=this.Dr[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[1];if(o[0].isEqual(t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.Er(t),r=this.Dr[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(r[i][0].isEqual(t))return void(r[i]=[t,e]);r.push([t,e])}else this.Dr[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.Er(t),n=this.Dr[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(n[r][0].isEqual(t))return 1===n.length?delete this.Dr[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){P(this.Dr,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}}))},t.prototype.M=function(){return L(this.Dr)},t}(),qe=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.Rr=n,this.Sr=r}return t.Ar=function(e,n){for(var r=ee(),i=ee(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),Be=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.Cr=function(t){return n.Pr(t)},this.Vr=function(t){return e.kr(t)})}return t.prototype.Pr=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.Vr&&this.Vr(t),t},t.Nr=-1,t}(),ze=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},He=function(){function t(t,e,n,r,i){this.Or=t,this.Fr=e,this.Ur=n,this.op=r,this.jr=i,this.xr=new ze,this.then=this.xr.promise.then.bind(this.xr.promise),this.catch=this.xr.promise.catch.bind(this.xr.promise),this.xr.promise.catch((function(t){}))}return t.Lr=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.Mr=setTimeout((function(){return e.qr()}),t)},t.prototype.Br=function(){return this.qr()},t.prototype.cancel=function(t){null!==this.Mr&&(this.clearTimeout(),this.xr.reject(new d(f.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.qr=function(){var t=this;this.Or.Qr((function(){return null!==t.Mr?(t.clearTimeout(),t.op().then((function(e){return t.xr.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.Mr&&(this.jr(this),clearTimeout(this.Mr),this.Mr=null)},t}(),Ge=function(){function t(){this.Gr=Promise.resolve(),this.Wr=!1,this.zr=[],this.Kr=null,this.Jr=!1,this.Hr=[]}return Object.defineProperty(t.prototype,"Yr",{get:function(){return this.Wr},enumerable:!0,configurable:!0}),t.prototype.Qr=function(t){this.enqueue(t)},t.prototype.Xr=function(t){this.$r(),this.Zr(t)},t.prototype.tu=function(t){return this.$r(),this.Zr(t)},t.prototype.nu=function(t){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(e){switch(e.label){case 0:return this.$r(),this.Wr?[3,2]:(this.Wr=!0,[4,this.tu(t)]);case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},t.prototype.enqueue=function(t){return this.$r(),this.Wr?new Promise((function(t){})):this.Zr(t)},t.prototype.Zr=function(t){var e=this,n=this.Gr.then((function(){return e.Jr=!0,t().catch((function(t){e.Kr=t,e.Jr=!1;var n=t.stack||t.message||"";throw ke("INTERNAL UNHANDLED ERROR: ",n),n.indexOf("Firestore Test Simulated Error")<0&&setTimeout((function(){throw t}),0),t})).then((function(t){return e.Jr=!1,t}))}));return this.Gr=n,n},t.prototype.iu=function(t,e,n){var r=this;this.$r(),Oe(e>=0,"Attempted to schedule an operation with a negative delay of "+e),this.Hr.indexOf(t)>-1&&(e=0);var i=He.Lr(this,t,e,n,(function(t){return r.eu(t)}));return this.zr.push(i),i},t.prototype.$r=function(){this.Kr&&xe("AsyncQueue is already failed: "+(this.Kr.stack||this.Kr.message))},t.prototype.ru=function(){Oe(this.Jr,"verifyOpInProgress() called when no op in progress on this queue.")},t.prototype.uu=function(){return o.__awaiter(this,void 0,void 0,(function(){var t;return o.__generator(this,(function(e){switch(e.label){case 0:return[4,t=this.Gr];case 1:e.sent(),e.label=2;case 2:if(t!==this.Gr)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.su=function(t){for(var e=0,n=this.zr;e<n.length;e++)if(n[e].Fr===t)return!0;return!1},t.prototype.ou=function(t){var e=this;return this.uu().then((function(){Oe("all"===t||e.su(t),"Attempted to drain to missing operation "+t),e.zr.sort((function(t,e){return t.Ur-e.Ur}));for(var n=0,r=e.zr;n<r.length;n++){var i=r[n];if(i.Br(),"all"!==t&&i.Fr===t)break}return e.uu()}))},t.prototype.hu=function(t){this.Hr.push(t)},t.prototype.eu=function(t){var e=this.zr.indexOf(t);Oe(e>=0,"Delayed operation not found."),this.zr.splice(e,1)},t}(),We=function(){function t(t){var e=this;this.cu=null,this.au=null,this.result=void 0,this.error=void 0,this.fu=!1,this.lu=!1,t((function(t){e.fu=!0,e.result=t,e.cu&&e.cu(t)}),(function(t){e.fu=!0,e.error=t,e.au&&e.au(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.lu&&xe("Called next() or catch() twice for PersistencePromise"),this.lu=!0,this.fu?this.error?this.du(n,this.error):this.vu(e,this.result):new t((function(t,i){r.cu=function(n){r.vu(e,n).next(t,i)},r.au=function(e){r.du(n,e).next(t,i)}}))},t.prototype.wu=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.mu=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.vu=function(e,n){return e?this.mu((function(){return e(n)})):t.resolve(n)},t.prototype.du=function(e,n){return e?this.mu((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.pu=function(e){return new t((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(t){return n(t)}))})),o=!0,i===r&&t()}))},t.bu=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.pu(r)},t}();function $e(t,e){var n=t[1],r=e[1],i=De(t[0],e[0]);return 0===i?De(n,r):i}var Ke=function(){function t(t){this.gu=t,this.buffer=new O($e),this.yu=0}return t.prototype._u=function(){return++this.yu},t.prototype.Iu=function(t){var e=[t,this._u()];if(this.buffer.size<this.gu)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();$e(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!0,configurable:!0}),t}(),Je={Tu:!1,Eu:0,Du:0,Ru:0},Ye=function(){function t(t,e,n){this.Su=t,this.Au=e,this.Cu=n}return t.Pu=function(e){return new t(e,t.Vu,t.ku)},t.Nu=-1,t.Ou=1048576,t.Uu=new t(t.Fu=41943040,t.Vu=10,t.ku=1e3),t.DISABLED=new t(t.Nu,0,0),t}(),Qe=function(){function t(t,e){this.ju=t,this.Or=e,this.xu=!1,this.Lu=null}return t.prototype.start=function(t){Oe(null===this.Lu,"Cannot start an already started LruScheduler"),this.ju.params.Su!==Ye.Nu&&this.Mu(t)},t.prototype.stop=function(){this.Lu&&(this.Lu.cancel(),this.Lu=null)},Object.defineProperty(t.prototype,"qu",{get:function(){return null!==this.Lu},enumerable:!0,configurable:!0}),t.prototype.Mu=function(t){var e=this;Oe(null===this.Lu,"Cannot schedule GC while a task is pending");var n=this.xu?3e5:6e4;Ae("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.Lu=this.Or.iu("lru_garbage_collection",n,(function(){return e.Lu=null,e.xu=!0,t.Bu(e.ju).then((function(){return e.Mu(t)})).catch(rn)}))},t}(),Xe=function(){function t(t,e){this.Qu=t,this.params=e}return t.prototype.Gu=function(t,e){return this.Qu.Wu(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.zu=function(t,e){var n=this;if(0===e)return We.resolve(Be.Nr);var r=new Ke(e);return this.Qu.$i(t,(function(t){return r.Iu(t.sequenceNumber)})).next((function(){return n.Qu.Ku(t,(function(t){return r.Iu(t)}))})).next((function(){return r.maxValue}))},t.prototype.Ju=function(t,e,n){return this.Qu.Ju(t,e,n)},t.prototype.Hu=function(t,e){return this.Qu.Hu(t,e)},t.prototype.Yu=function(t,e){var n=this;return this.params.Su===Ye.Nu?(Ae("LruGarbageCollector","Garbage collection skipped; disabled"),We.resolve(Je)):this.Xu(t).next((function(r){return r<n.params.Su?(Ae("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.Su),Je):n.$u(t,e)}))},t.prototype.Xu=function(t){return this.Qu.Xu(t)},t.prototype.$u=function(t,e){var n,r,i,o,a,u,c,l=this,h=Date.now();return this.Gu(t,this.params.Au).next((function(e){return e>l.params.Cu?(Ae("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+l.params.Cu+" from "+e),r=l.params.Cu):r=e,o=Date.now(),l.zu(t,r)})).next((function(r){return n=r,a=Date.now(),l.Ju(t,n,e)})).next((function(e){return i=e,u=Date.now(),l.Hu(t,n)})).next((function(t){return c=Date.now(),Te()<=s.LogLevel.DEBUG&&Ae("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-h)+"ms\n\tDetermined least recently used "+r+" in "+(a-o)+"ms\n\tRemoved "+i+" targets in "+(u-a)+"ms\n\tRemoved "+t+" documents in "+(c-u)+"ms\nTotal Duration: "+(c-h)+"ms"),We.resolve({Tu:!0,Eu:r,Du:i,Ru:t})}))},t}(),Ze=function(){function t(){this.Zu=new O(tn.bn),this.ts=new O(tn.ns)}return t.prototype.M=function(){return this.Zu.M()},t.prototype.es=function(t,e){var n=new tn(t,e);this.Zu=this.Zu.add(n),this.ts=this.ts.add(n)},t.prototype.rs=function(t,e){var n=this;t.forEach((function(t){return n.es(t,e)}))},t.prototype.us=function(t,e){this.ss(new tn(t,e))},t.prototype.os=function(t,e){var n=this;t.forEach((function(t){return n.us(t,e)}))},t.prototype.hs=function(t){var e=this,n=S.EMPTY,r=new tn(n,t),i=new tn(n,t+1),o=[];return this.ts.kt([r,i],(function(t){e.ss(t),o.push(t.key)})),o},t.prototype.cs=function(){var t=this;this.Zu.forEach((function(e){return t.ss(e)}))},t.prototype.ss=function(t){this.Zu=this.Zu.delete(t),this.ts=this.ts.delete(t)},t.prototype.as=function(t){var e=S.EMPTY,n=new tn(e,t),r=new tn(e,t+1),i=ee();return this.ts.kt([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.fs=function(t){var e=new tn(t,0),n=this.Zu.Ot(e);return null!==n&&t.isEqual(n.key)},t}(),tn=function(){function t(t,e){this.key=t,this.ls=e}return t.bn=function(t,e){return S.F(t.key,e.key)||De(t.ls,e.ls)},t.ns=function(t,e){return De(t.ls,e.ls)||S.F(t.key,e.key)},t}(),en=function(){function t(){this.ds=new Fe((function(t){return t.toString()})),this.vs=!1}return Object.defineProperty(t.prototype,"readTime",{get:function(){return Oe(void 0!==this.ws,"Read time is not set. All removeEntry() calls must include a readTime if `trackRemovals` is used."),this.ws},set:function(t){Oe(void 0===this.ws||this.ws.isEqual(t),"All changes in a RemoteDocumentChangeBuffer must have the same read time"),this.ws=t},enumerable:!0,configurable:!0}),t.prototype.ms=function(t,e){this.ps(),this.readTime=e,this.ds.set(t.key,t)},t.prototype.bs=function(t,e){this.ps(),e&&(this.readTime=e),this.ds.set(t,null)},t.prototype.gs=function(t,e){this.ps();var n=this.ds.get(e);return void 0!==n?We.resolve(n):this.ys(t,e)},t.prototype.getEntries=function(t,e){return this._s(t,e)},t.prototype.apply=function(t){return this.ps(),this.vs=!0,this.Is(t)},t.prototype.ps=function(){Oe(!this.vs,"Changes have already been applied.")},t}(),nn=function(){function t(t,e,n){this.persistence=t,this.Ts=e,this.Es=new Ze,this.Ds=new A(De),this.Rs=new Fe((function(t){return t.canonicalId()})),this.Ss=_.MIN,Oe(t.qu,"LocalStore was passed an unstarted persistence implementation"),this.persistence.Cs.As(this.Es),this.Ps=t.Vs(n),this.ks=t.Ns(),this.Os=t.Fs(),this.Us=new vn(this.ks,this.Ps,this.persistence.js()),this.Ts.xs(this.Us)}return t.prototype.start=function(){return this.Ls()},t.prototype.Ms=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n,r,i=this;return o.__generator(this,(function(o){switch(o.label){case 0:return e=this.Ps,n=this.Us,[4,this.persistence.runTransaction("Handle user change","readonly",(function(r){var o;return i.Ps.qs(r).next((function(s){return o=s,e=i.persistence.Vs(t),n=new vn(i.ks,e,i.persistence.js()),e.qs(r)})).next((function(t){for(var e=[],i=[],s=ee(),a=0,u=o;a<u.length;a++){var c=u[a];e.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++){var f=h[l];s=s.add(f.key)}}for(var d=0,p=t;d<p.length;d++){i.push((c=p[d]).batchId);for(var m=0,g=c.mutations;m<g.length;m++)s=s.add((f=g[m]).key)}return n.Bs(r,s).next((function(t){return{Qs:t,Gs:e,Ws:i}}))}))}))];case 1:return r=o.sent(),this.Ps=e,this.Us=n,this.Ts.xs(this.Us),[2,r]}}))}))},t.prototype.zs=function(t){var e,n=this,r=b.now(),i=t.reduce((function(t,e){return t.add(e.key)}),ee());return this.persistence.runTransaction("Locally write mutations","readwrite",(function(o){return n.Us.Bs(o,i).next((function(i){e=i;for(var s=[],a=0,u=t;a<u.length;a++){var c=u[a],l=c.in(e.get(c.key));null!=l&&s.push(new wt(c.key,l,l.en(),gt.exists(!0)))}return n.Ps.Ks(o,r,s,t)}))})).then((function(t){var n=t._r(e);return{batchId:t.batchId,ds:n}}))},t.prototype.Js=function(t){var e=this;return this.persistence.runTransaction("Lookup mutation documents","readonly",(function(n){return e.Ps.Hs(n,t).next((function(t){return t?e.Us.Bs(n,t):We.resolve(null)}))}))},t.prototype.Ys=function(t){var e=this;return this.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(n){var r=t.batch.keys(),i=e.ks.Xs({$s:!0});return e.Ps.Ys(n,t.batch,t.streamToken).next((function(){return e.Zs(n,t,i)})).next((function(){return i.apply(n)})).next((function(){return e.Ps.to(n)})).next((function(){return e.Us.Bs(n,r)}))}))},t.prototype.no=function(t){var e=this;return this.persistence.runTransaction("Reject batch","readwrite-primary",(function(n){var r;return e.Ps.io(n,t).next((function(t){return Oe(null!==t,"Attempt to reject nonexistent batch!"),r=t.keys(),e.Ps.eo(n,t)})).next((function(){return e.Ps.to(n)})).next((function(){return e.Us.Bs(n,r)}))}))},t.prototype.ro=function(){var t=this;return this.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.Ps.ro(e)}))},t.prototype.uo=function(){var t=this;return this.persistence.runTransaction("Get last stream token","readonly",(function(e){return t.Ps.uo(e)}))},t.prototype.so=function(t){var e=this;return this.persistence.runTransaction("Set last stream token","readwrite-primary",(function(n){return e.Ps.so(n,t)}))},t.prototype.oo=function(){var t=this;return this.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Os.oo(e)}))},t.prototype.ho=function(e){var n=this,r=e.ni,i=this.Ds;return this.persistence.runTransaction("Apply remote event","readwrite-primary",(function(o){var s=n.ks.Xs({$s:!0});i=n.Ds;var a=[];e.wi.forEach((function(e,s){var u=i.get(s);if(u){a.push(n.Os.co(o,e.Ei,s).next((function(){return n.Os.ao(o,e.Ii,s)})));var c=e.resumeToken;if(c.Lt()>0){var l=u.ei(c,r).ii(o.fo);i=i.ut(s,l),t.lo(u,l,e)&&a.push(n.Os.do(o,l))}}}));var u=Kt(),c=ee();if(e.pi.forEach((function(t,e){c=c.add(t)})),a.push(s.getEntries(o,c).next((function(t){e.pi.forEach((function(i,c){var l=t.get(i);c instanceof At&&c.version.isEqual(_.MIN)?(s.bs(i,r),u=u.ut(i,c)):null==l||c.version.k(l.version)>0||0===c.version.k(l.version)&&l.hasPendingWrites?(Oe(!_.MIN.isEqual(r),"Cannot add a document when the remote version is zero"),s.ms(c,r),u=u.ut(i,c)):Ae("LocalStore","Ignoring outdated watch update for ",i,". Current version:",l.version," Watch version:",c.version),e.bi.has(i)&&a.push(n.persistence.Cs.vo(o,i))}))}))),!r.isEqual(_.MIN)){var l=n.Os.oo(o).next((function(t){return Oe(r.k(t)>=0,"Watch stream reverted to previous snapshot?? "+r+" < "+t),n.Os.wo(o,o.fo,r)}));a.push(l)}return We.pu(a).next((function(){return s.apply(o)})).next((function(){return n.Us.mo(o,u)}))})).then((function(t){return n.Ds=i,t}))},t.lo=function(t,e,n){return Oe(e.resumeToken.Lt()>0,"Attempted to persist target data with no resume token"),0===t.resumeToken.Lt()||e.ni.N()-t.ni.N()>=this.po||n.Ii.size+n.Ti.size+n.Ei.size>0},t.prototype.bo=function(t){for(var e=this,n=0,r=t;n<r.length;n++){var i=r[n],o=i.targetId;if(this.Es.rs(i.Rr,o),this.Es.os(i.Sr,o),!i.fromCache){var s=this.Ds.get(o);Oe(null!==s,"Can't set limbo-free snapshot version for unknown target: "+o);var a=s.ri(s.ni);this.Ds=this.Ds.ut(o,a)}}return this.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(n){return We.forEach(t,(function(t){return We.forEach(t.Sr,(function(t){return e.persistence.Cs.us(n,t)}))}))}))},t.prototype.yo=function(t){var e=this;return this.persistence.runTransaction("Get next mutation batch","readonly",(function(n){return void 0===t&&(t=-1),e.Ps._o(n,t)}))},t.prototype.Io=function(t){var e=this;return this.persistence.runTransaction("read document","readonly",(function(n){return e.Us.To(n,t)}))},t.prototype.Eo=function(t){var e=this;return this.persistence.runTransaction("Allocate target","readwrite",(function(n){var r;return e.Os.Do(n,t).next((function(i){return i?We.resolve(r=i):e.Os.Ro(n).next((function(i){return r=new zt(t,i,0,n.fo),e.Os.So(n,r).next((function(){return r}))}))}))})).then((function(n){return null===e.Ds.get(n.targetId)&&(e.Ds=e.Ds.ut(n.targetId,n),e.Rs.set(t,n.targetId)),n}))},t.prototype.Do=function(t,e){var n=this.Rs.get(e);return void 0!==n?We.resolve(this.Ds.get(n)):this.Os.Do(t,e)},t.prototype.Ao=function(t,e){var n=this,r=this.Ds.get(t);return Oe(null!==r,"Tried to release nonexistent target: "+t),this.persistence.runTransaction("Release target",e?"readwrite":"readwrite-primary",(function(i){var o=n.Es.hs(t);return e?We.resolve():We.forEach(o,(function(t){return n.persistence.Cs.us(i,t)})).next((function(){n.persistence.Cs.removeTarget(i,r)}))})).then((function(){n.Ds=n.Ds.remove(t),n.Rs.delete(r.target)}))},t.prototype.Co=function(t,e){var n=this,r=_.MIN,i=ee();return this.persistence.runTransaction("Execute query","readonly",(function(o){return n.Do(o,t.qn()).next((function(t){if(t)return r=t.lastLimboFreeSnapshotVersion,n.Os.Po(o,t.targetId).next((function(t){i=t}))})).next((function(){return n.Ts.Vo(o,t,e?r:_.MIN,e?i:ee())})).next((function(t){return{documents:t,ko:i}}))}))},t.prototype.No=function(t){var e=this;return this.persistence.runTransaction("Remote document keys","readonly",(function(n){return e.Os.Po(n,t)}))},t.prototype.Oo=function(){return this.persistence.Oo()},t.prototype.Fo=function(t){this.Ps.Uo(t)},t.prototype.jo=function(t){this.persistence.jo(t)},t.prototype.Zs=function(t,e,n){var r=this,i=e.batch,o=i.keys(),s=We.resolve();return o.forEach((function(r){s=s.next((function(){return n.gs(t,r)})).next((function(t){var o=t,s=e.Tr.get(r);Oe(null!==s,"ackVersions should contain every doc in the write."),(!o||o.version.k(s)<0)&&((o=i.Bt(r,o,e))?n.ms(o,e.Ir):Oe(!t,"Mutation batch "+i+" applied to document "+t+" resulted in null"))}))})),s.next((function(){return r.Ps.eo(t,i)}))},t.prototype.Bu=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.Yu(n,e.Ds)}))},t.prototype.xo=function(t){var e=this,n=this.Ds.get(t);return n?Promise.resolve(n.target):this.persistence.runTransaction("Get target data","readonly",(function(n){return e.Os.ce(n,t).next((function(t){return t?t.target:null}))}))},t.prototype.Lo=function(){var t=this;return this.persistence.runTransaction("Get new document changes","readonly",(function(e){return t.ks.Lo(e,t.Ss)})).then((function(e){var n=e.Mo;return t.Ss=e.readTime,n}))},t.prototype.Ls=function(){return o.__awaiter(this,void 0,void 0,(function(){var t,e=this;return o.__generator(this,(function(n){switch(n.label){case 0:return t=this,[4,this.persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return e.ks.qo(t)}))];case 1:return t.Ss=n.sent(),[2]}}))}))},t.po=3e8,t}();function rn(t){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(e){if(t.code!==f.FAILED_PRECONDITION||t.message!==mn)throw t;return Ae("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}function on(t,e){return Oe(-1===e.indexOf("_"),"Client key cannot contain '_', but was '"+e+"'"),"firestore_clients_"+t+"_"+e}function sn(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.t()&&(r+="_"+e.uid),r}function an(t,e){return"firestore_targets_"+t+"_"+e}var un=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r,Oe(void 0!==r==("rejected"===n),"MutationMetadata must contain an error iff state is 'rejected'")}return t.Bo=function(e,n,r){var i=JSON.parse(r),o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),s=void 0;return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(s=new d(i.error.code,i.error.message)),o?new t(e,n,i.state,s):(ke("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Qo=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),cn=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n,Oe(void 0!==n==("rejected"===e),"QueryTargetMetadata must contain an error iff state is 'rejected'")}return t.Bo=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new d(r.error.code,r.error.message)),i?new t(e,r.state,o):(ke("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Qo=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),ln=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Bo=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=re(),s=0;i&&s<r.activeTargetIds.length;++s)i=j(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(ke("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),hn=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Bo=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(ke("SharedClientState","Failed to parse online state: "+e),null)},t}(),fn=function(){function t(){this.activeTargetIds=re()}return t.prototype.Go=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Wo=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Qo=function(){var t={activeTargetIds:this.activeTargetIds.K(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),dn=function(){function t(e,n,r,i,o){if(this.zo=e,this.platform=n,this.persistenceKey=r,this.Ko=i,this.Jo=null,this.Ho=null,this.Cr=null,this.Yo={},this.Xo=this.$o.bind(this),this.qu=!1,this.Zo=[],!t.th(this.platform))throw new d(f.UNIMPLEMENTED,"LocalStorage is not available on this platform.");var s=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.platform.window.localStorage,this.currentUser=o,this.nh=on(this.persistenceKey,this.Ko),this.ih=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Yo[this.Ko]=new fn,this.eh=new RegExp("^firestore_clients_"+s+"_([^_]*)$"),this.rh=new RegExp("^firestore_mutations_"+s+"_(\\d+)(?:_(.*))?$"),this.uh=new RegExp("^firestore_targets_"+s+"_(\\d+)$"),this.sh=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.platform.window.addEventListener("storage",this.Xo)}return t.th=function(t){return!(!t.window||null==t.window.localStorage)},t.prototype.start=function(){return o.__awaiter(this,void 0,void 0,(function(){var t,e,n,r,i,s,a,u,c,l,h=this;return o.__generator(this,(function(o){switch(o.label){case 0:return Oe(!this.qu,"WebStorageSharedClientState already started"),Oe(null!==this.Jo,"syncEngine property must be set before calling start()"),Oe(null!==this.Ho,"onlineStateHandler property must be set before calling start()"),[4,this.Jo.Oo()];case 1:for(t=o.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Ko&&(i=this.getItem(on(this.persistenceKey,r)))&&(s=ln.Bo(r,i))&&(this.Yo[s.clientId]=s);for(this.oh(),(a=this.storage.getItem(this.sh))&&(u=this.hh(a))&&this.ah(u),c=0,l=this.Zo;c<l.length;c++)this.$o(l[c]);return this.Zo=[],this.platform.window.addEventListener("unload",(function(){return h.shutdown()})),this.qu=!0,[2]}}))}))},t.prototype.kr=function(t){this.setItem(this.ih,JSON.stringify(t))},t.prototype.fh=function(){var t=re();return P(this.Yo,(function(e,n){t=t.Ft(n.activeTargetIds)})),t},t.prototype.lh=function(t){for(var e in this.Yo)if(this.Yo.hasOwnProperty(e)&&this.Yo[e].activeTargetIds.has(t))return!0;return!1},t.prototype.dh=function(t){this.vh(t,"pending")},t.prototype.wh=function(t,e,n){this.vh(t,e,n),this.mh(t)},t.prototype.ph=function(t){var e="not-current";if(this.lh(t)){var n=this.storage.getItem(an(this.persistenceKey,t));if(n){var r=cn.Bo(t,n);r&&(e=r.state)}}return this.bh.Go(t),this.oh(),e},t.prototype.gh=function(t){this.bh.Wo(t),this.oh()},t.prototype.yh=function(t){return this.bh.activeTargetIds.has(t)},t.prototype._h=function(t){this.removeItem(an(this.persistenceKey,t))},t.prototype.Ih=function(t,e,n){this.Th(t,e,n)},t.prototype.Ms=function(t,e,n){var r=this;e.forEach((function(t){r.mh(t)})),this.currentUser=t,n.forEach((function(t){r.dh(t)}))},t.prototype.Eh=function(t){this.Dh(t)},t.prototype.shutdown=function(){this.qu&&(this.platform.window.removeEventListener("storage",this.Xo),this.removeItem(this.nh),this.qu=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return Ae("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){Ae("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){Ae("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.$o=function(t){var e=this;if(t.storageArea===this.storage){if(Ae("SharedClientState","EVENT",t.key,t.newValue),t.key===this.nh)return void ke("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.zo.Qr((function(){return o.__awaiter(e,void 0,void 0,(function(){var e,n,r,i,s,a;return o.__generator(this,(function(o){if(!this.qu)return this.Zo.push(t),[2];if(null===t.key)return[2];if(this.eh.test(t.key)){if(null==t.newValue)return n=this.Rh(t.key),[2,this.Sh(n,null)];if(e=this.Ah(t.key,t.newValue))return[2,this.Sh(e.clientId,e)]}else if(this.rh.test(t.key)){if(null!==t.newValue&&(r=this.Ch(t.key,t.newValue)))return[2,this.Ph(r)]}else if(this.uh.test(t.key)){if(null!==t.newValue&&(i=this.Vh(t.key,t.newValue)))return[2,this.kh(i)]}else if(t.key===this.sh){if(null!==t.newValue&&(s=this.hh(t.newValue)))return[2,this.ah(s)]}else t.key===this.ih&&(Oe(!!this.Cr,"Missing sequenceNumberHandler"),(a=function(t){var e=Be.Nr;if(null!=t)try{var n=JSON.parse(t);Oe("number"==typeof n,"Found non-numeric sequence number"),e=n}catch(t){ke("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(t.newValue))!==Be.Nr&&this.Cr(a));return[2]}))}))}))}},Object.defineProperty(t.prototype,"bh",{get:function(){return this.Yo[this.Ko]},enumerable:!0,configurable:!0}),t.prototype.oh=function(){this.setItem(this.nh,this.bh.Qo())},t.prototype.vh=function(t,e,n){var r=new un(this.currentUser,t,e,n),i=sn(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Qo())},t.prototype.mh=function(t){var e=sn(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Dh=function(t){this.storage.setItem(this.sh,JSON.stringify({clientId:this.Ko,onlineState:t}))},t.prototype.Th=function(t,e,n){var r=an(this.persistenceKey,t),i=new cn(t,e,n);this.setItem(r,i.Qo())},t.prototype.Rh=function(t){var e=this.eh.exec(t);return e?e[1]:null},t.prototype.Ah=function(t,e){var n=this.Rh(t);return Oe(null!==n,"Cannot parse client state key '"+t+"'"),ln.Bo(n,e)},t.prototype.Ch=function(t,e){var n=this.rh.exec(t);Oe(null!==n,"Cannot parse mutation batch key '"+t+"'");var r=Number(n[1]);return un.Bo(new h(void 0!==n[2]?n[2]:null),r,e)},t.prototype.Vh=function(t,e){var n=this.uh.exec(t);Oe(null!==n,"Cannot parse query target key '"+t+"'");var r=Number(n[1]);return cn.Bo(r,e)},t.prototype.hh=function(t){return hn.Bo(t)},t.prototype.Ph=function(t){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(e){return t.user.uid!==this.currentUser.uid?(Ae("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2]):[2,this.Jo.Nh(t.batchId,t.state,t.error)]}))}))},t.prototype.kh=function(t){return this.Jo.Oh(t.targetId,t.state,t.error)},t.prototype.Sh=function(t,e){var n=this,r=this.fh();e?this.Yo[t]=e:delete this.Yo[t];var i=this.fh(),s=[],a=[];return i.forEach((function(t){return o.__awaiter(n,void 0,void 0,(function(){return o.__generator(this,(function(e){return r.has(t)||s.push(t),[2]}))}))})),r.forEach((function(t){return o.__awaiter(n,void 0,void 0,(function(){return o.__generator(this,(function(e){return i.has(t)||a.push(t),[2]}))}))})),this.Jo.Fh(s,a)},t.prototype.ah=function(t){this.Yo[t.clientId]&&this.Ho(t.onlineState)},t}(),pn=function(){function t(){this.Uh=new fn,this.jh={},this.Jo=null,this.Ho=null,this.Cr=null}return t.prototype.dh=function(t){},t.prototype.wh=function(t,e,n){},t.prototype.ph=function(t){return this.Uh.Go(t),this.jh[t]||"not-current"},t.prototype.Ih=function(t,e,n){this.jh[t]=e},t.prototype.gh=function(t){this.Uh.Wo(t)},t.prototype.yh=function(t){return this.Uh.activeTargetIds.has(t)},t.prototype._h=function(t){delete this.jh[t]},t.prototype.fh=function(){return this.Uh.activeTargetIds},t.prototype.lh=function(t){return this.Uh.activeTargetIds.has(t)},t.prototype.start=function(){return this.Uh=new fn,Promise.resolve()},t.prototype.Ms=function(t,e,n){},t.prototype.Eh=function(t){},t.prototype.shutdown=function(){},t.prototype.kr=function(t){},t}(),mn="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",gn=function(){function t(){this.xh=[]}return t.prototype.Lh=function(t){this.xh.push(t)},t.prototype.Mh=function(){this.xh.forEach((function(t){return t()}))},t}(),vn=function(){function t(t,e,n){this.qh=t,this.Ps=e,this.Bh=n}return t.prototype.To=function(t,e){var n=this;return this.Ps.Qh(t,e).next((function(r){return n.Gh(t,e,r)}))},t.prototype.Gh=function(t,e,n){return this.qh.gs(t,e).next((function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].qt(e,t);return t}))},t.prototype.Wh=function(t,e,n){var r=Jt();return e.forEach((function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].qt(t,e);r=r.ut(t,e)})),r},t.prototype.Bs=function(t,e){var n=this;return this.qh.getEntries(t,e).next((function(e){return n.mo(t,e)}))},t.prototype.mo=function(t,e){var n=this;return this.Ps.zh(t,e).next((function(r){var i=n.Wh(t,e,r),o=Kt();return i.forEach((function(t,e){e||(e=new At(t,_.V())),o=o.ut(t,e)})),o}))},t.prototype.Vo=function(t,e,n){return e.Tn()?this.Kh(t,e.path):e.Yn()?this.Jh(t,e,n):this.Hh(t,e,n)},t.prototype.Kh=function(t,e){return this.To(t,new S(e)).next((function(t){var e=Qt();return t instanceof St&&(e=e.ut(t.key,t)),e}))},t.prototype.Jh=function(t,e,n){var r=this;Oe(e.path.M(),"Currently we only support collection group queries at the root.");var i=e.collectionGroup,o=Qt();return this.Bh.Yh(t,i).next((function(s){return We.forEach(s,(function(s){var a=e.Ln(s.child(i));return r.Hh(t,a,n).next((function(t){t.forEach((function(t,e){o=o.ut(t,e)}))}))})).next((function(){return o}))}))},t.prototype.Hh=function(t,e,n){var r,i,o=this;return this.qh.Vo(t,e,n).next((function(n){return r=n,o.Ps.Xh(t,e)})).next((function(e){return o.$h(t,i=e,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var u=a[s],c=u.key,l=r.get(c),h=u.qt(l,l,o.gr);r=h instanceof St?r.ut(c,h):r.remove(c)}}))})).next((function(){return r.forEach((function(t,n){e.matches(n)||(r=r.remove(t))})),r}))},t.prototype.$h=function(t,e,n){for(var r=ee(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var u=a[s];u instanceof wt&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.qh.getEntries(t,r).next((function(t){return t.forEach((function(t,e){null!==e&&e instanceof St&&(c=c.ut(t,e))})),c}))},t}(),yn=function(){function t(){}return t.prototype.xs=function(t){this.Zh=t},t.prototype.Vo=function(t,e,n,r){var i=this;return Oe(void 0!==this.Zh,"setLocalDocumentsView() not called"),e.Mn()||n.isEqual(_.MIN)?this.tc(t,e):this.Zh.Bs(t,r).next((function(o){var a=i.nc(e,o);return(e.Kn()||e.Jn())&&i.ic(e.Dn,a,r,n)?i.tc(t,e):(Te()<=s.LogLevel.DEBUG&&Ae("IndexFreeQueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),e.toString()),i.Zh.Vo(t,e,n).next((function(t){return a.forEach((function(e){t=t.ut(e.key,e)})),t})))}))},t.prototype.nc=function(t,e){var n=new O((function(e,n){return t.Bn(e,n)}));return e.forEach((function(e,r){r instanceof St&&t.matches(r)&&(n=n.add(r))})),n},t.prototype.ic=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.k(r)>0)},t.prototype.tc=function(t,e){return Te()<=s.LogLevel.DEBUG&&Ae("IndexFreeQueryEngine","Using full collection scan to execute query: %s",e.toString()),this.Zh.Vo(t,e,_.MIN)},t}();function wn(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=_n(e)),e=bn(t.get(n),e);return _n(e)}function bn(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function _n(t){return t+"\x01\x01"}function En(t){var e=t.length;if(Oe(e>=2,"Invalid path "+t),2===e)return Oe("\x01"===t.charAt(0)&&"\x01"===t.charAt(1),"Non-empty path "+t+" had length 2"),I.Y;for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("\x01",o);switch((s<0||s>n)&&xe('Invalid encoded resource path: "'+t+'"'),t.charAt(s+1)){case"\x01":var a=t.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(o,s),i+="\0";break;case"\x11":i+=t.substring(o,s+1);break;default:xe('Invalid encoded resource path: "'+t+'"')}o=s+2}return new I(r)}var In=function(){function t(){this.ec=new Cn}return t.prototype.rc=function(t,e){return this.ec.add(e),We.resolve()},t.prototype.Yh=function(t,e){return We.resolve(this.ec.getEntries(e))},t}(),Cn=function(){function t(){this.index={}}return t.prototype.add=function(t){Oe(t.length%2==1,"Expected a collection path.");var e=t.B(),n=t.L(),r=this.index[e]||new O(I.F),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.B(),n=t.L(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new O(I.F)).K()},t}(),Tn=function(){function t(t,e){this.Bh=t,this.Cs=e,this.Ps=[],this.uc=1,this.lastStreamToken=M.Mt,this.sc=new O(tn.bn)}return t.prototype.oc=function(t){return We.resolve(0===this.Ps.length)},t.prototype.Ys=function(t,e,n){var r=e.batchId,i=this.hc(r,"acknowledged");Oe(0===i,"Can only acknowledge the first batch in the mutation queue");var o=this.Ps[i];return Oe(r===o.batchId,"Queue ordering failure: expected batch "+r+", got batch "+o.batchId),this.lastStreamToken=n,We.resolve()},t.prototype.uo=function(t){return We.resolve(this.lastStreamToken)},t.prototype.so=function(t,e){return this.lastStreamToken=e,We.resolve()},t.prototype.Ks=function(t,e,n,r){Oe(0!==r.length,"Mutation batches should not be empty");var i=this.uc;this.uc++,this.Ps.length>0&&Oe(this.Ps[this.Ps.length-1].batchId<i,"Mutation batchIDs must be monotonically increasing order");var o=new Ue(i,e,n,r);this.Ps.push(o);for(var s=0,a=r;s<a.length;s++){var u=a[s];this.sc=this.sc.add(new tn(u.key,i)),this.Bh.rc(t,u.key.path.L())}return We.resolve(o)},t.prototype.io=function(t,e){return We.resolve(this.cc(e))},t.prototype.Hs=function(t,e){var n=this.cc(e);return Oe(null!=n,"Failed to find local mutation batch."),We.resolve(n.keys())},t.prototype._o=function(t,e){var n=this.ac(e+1),r=n<0?0:n;return We.resolve(this.Ps.length>r?this.Ps[r]:null)},t.prototype.ro=function(){return We.resolve(0===this.Ps.length?-1:this.uc-1)},t.prototype.qs=function(t){return We.resolve(this.Ps.slice())},t.prototype.Qh=function(t,e){var n=this,r=new tn(e,0),i=new tn(e,Number.POSITIVE_INFINITY),o=[];return this.sc.kt([r,i],(function(t){Oe(e.isEqual(t.key),"Should only iterate over a single key's batches");var r=n.cc(t.ls);Oe(null!==r,"Batches in the index must exist in the main table"),o.push(r)})),We.resolve(o)},t.prototype.zh=function(t,e){var n=this,r=new O(De);return e.forEach((function(t){var e=new tn(t,0),i=new tn(t,Number.POSITIVE_INFINITY);n.sc.kt([e,i],(function(e){Oe(t.isEqual(e.key),"For each key, should only iterate over a single key's batches"),r=r.add(e.ls)}))})),We.resolve(this.fc(r))},t.prototype.Xh=function(t,e){Oe(!e.Yn(),"CollectionGroup queries should be handled in LocalDocumentsView");var n=e.path,r=n.length+1,i=n;S.nt(i)||(i=i.child(""));var o=new tn(new S(i),0),s=new O(De);return this.sc.Nt((function(t){var e=t.key.path;return!!n.G(e)&&(e.length===r&&(s=s.add(t.ls)),!0)}),o),We.resolve(this.fc(s))},t.prototype.fc=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.cc(t);null!==r&&n.push(r)})),n},t.prototype.eo=function(t,e){var n=this;Oe(0===this.hc(e.batchId,"removed"),"Can only remove the first entry of the mutation queue"),this.Ps.shift();var r=this.sc;return We.forEach(e.mutations,(function(i){var o=new tn(i.key,e.batchId);return r=r.delete(o),n.Cs.lc(t,i.key)})).next((function(){n.sc=r}))},t.prototype.Uo=function(t){},t.prototype.fs=function(t,e){var n=new tn(e,0),r=this.sc.Ot(n);return We.resolve(e.isEqual(r&&r.key))},t.prototype.to=function(t){return 0===this.Ps.length&&Oe(this.sc.M(),"Document leak -- detected dangling mutation references when queue is empty."),We.resolve()},t.prototype.hc=function(t,e){var n=this.ac(t);return Oe(n>=0&&n<this.Ps.length,"Batches must exist to be "+e),n},t.prototype.ac=function(t){return 0===this.Ps.length?0:t-this.Ps[0].batchId},t.prototype.cc=function(t){var e=this.ac(t);if(e<0||e>=this.Ps.length)return null;var n=this.Ps[e];return Oe(n.batchId===t,"If found batch must match"),n},t}(),Sn=function(){function t(t,e){this.Bh=t,this.dc=e,this.docs=new A(S.F),this.size=0}return t.prototype.ms=function(t,e,n){Oe(!n.isEqual(_.MIN),"Cannot add a document with a read time of zero");var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.dc(e);return this.docs=this.docs.ut(r,{vc:e,size:s,readTime:n}),this.size+=s-o,this.Bh.rc(t,r.path.L())},t.prototype.bs=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.gs=function(t,e){var n=this.docs.get(e);return We.resolve(n?n.vc:null)},t.prototype.getEntries=function(t,e){var n=this,r=Jt();return e.forEach((function(t){var e=n.docs.get(t);r=r.ut(t,e?e.vc:null)})),We.resolve(r)},t.prototype.Vo=function(t,e,n){Oe(!e.Yn(),"CollectionGroup queries should be handled in LocalDocumentsView");for(var r=Qt(),i=new S(e.path.child("")),o=this.docs.lt(i);o.gt();){var s=o.bt(),a=s.value,u=a.vc,c=a.readTime;if(!e.path.G(s.key.path))break;c.k(n)<=0||u instanceof St&&e.matches(u)&&(r=r.ut(u.key,u))}return We.resolve(r)},t.prototype.wc=function(t,e){return We.forEach(this.docs,(function(t){return e(t)}))},t.prototype.Lo=function(t,e){throw new Error("getNewDocumentChanges() is not supported with MemoryPersistence")},t.prototype.qo=function(t){return We.resolve(_.MIN)},t.prototype.Xs=function(e){return new t.mc(this)},t.prototype.pc=function(t){return We.resolve(this.size)},t.mc=function(t){function e(e){var n=t.call(this)||this;return n.bc=e,n}return o.__extends(e,t),e.prototype.Is=function(t){var e=this,n=[];return this.ds.forEach((function(r,i){i?n.push(e.bc.ms(t,i,e.readTime)):e.bc.bs(r)})),We.pu(n)},e.prototype.ys=function(t,e){return this.bc.gs(t,e)},e.prototype._s=function(t,e){return this.bc.getEntries(t,e)},e}(en),t}(),An=function(){function t(t,e){this.gc=t,Oe((1&t)===t,"Generator ID "+t+" contains more than 1 reserved bits"),this.yc(void 0!==e?e:this.gc)}return t.prototype.next=function(){var t=this._c;return this._c+=2,t},t.prototype.after=function(t){return this.yc(t+2),this.next()},t.prototype.yc=function(t){Oe((1&t)===this.gc,"Cannot supply target ID from different generator ID"),this._c=t},t.Ic=function(){return new t(0,2)},t.Tc=function(){return new t(1)},t}(),kn=function(){function t(t){this.persistence=t,this.Ec=new Fe((function(t){return t.canonicalId()})),this.lastRemoteSnapshotVersion=_.MIN,this.highestTargetId=0,this.Dc=0,this.Rc=new Ze,this.targetCount=0,this.Sc=An.Ic()}return t.prototype.$i=function(t,e){return this.Ec.forEach((function(t,n){return e(n)})),We.resolve()},t.prototype.oo=function(t){return We.resolve(this.lastRemoteSnapshotVersion)},t.prototype.Ac=function(t){return We.resolve(this.Dc)},t.prototype.Ro=function(t){var e=this.Sc.after(this.highestTargetId);return this.highestTargetId=e,We.resolve(e)},t.prototype.wo=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.Dc&&(this.Dc=e),We.resolve()},t.prototype.Cc=function(t){this.Ec.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.highestTargetId=e),t.sequenceNumber>this.Dc&&(this.Dc=t.sequenceNumber)},t.prototype.So=function(t,e){return Oe(!this.Ec.has(e.target),"Adding a target that already exists"),this.Cc(e),this.targetCount+=1,We.resolve()},t.prototype.do=function(t,e){return Oe(this.Ec.has(e.target),"Updating a non-existent target"),this.Cc(e),We.resolve()},t.prototype.Pc=function(t,e){return Oe(this.targetCount>0,"Removing a target from an empty cache"),Oe(this.Ec.has(e.target),"Removing a non-existent target from the cache"),this.Ec.delete(e.target),this.Rc.hs(e.targetId),this.targetCount-=1,We.resolve()},t.prototype.Ju=function(t,e,n){var r=this,i=0,o=[];return this.Ec.forEach((function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.Ec.delete(s),o.push(r.Vc(t,a.targetId)),i++)})),We.pu(o).next((function(){return i}))},t.prototype.kc=function(t){return We.resolve(this.targetCount)},t.prototype.Do=function(t,e){var n=this.Ec.get(e)||null;return We.resolve(n)},t.prototype.ce=function(t,e){return xe("Not yet implemented.")},t.prototype.ao=function(t,e,n){this.Rc.rs(e,n);var r=this.persistence.Cs,i=[];return r&&e.forEach((function(e){i.push(r.es(t,e))})),We.pu(i)},t.prototype.co=function(t,e,n){this.Rc.os(e,n);var r=this.persistence.Cs,i=[];return r&&e.forEach((function(e){i.push(r.us(t,e))})),We.pu(i)},t.prototype.Vc=function(t,e){return this.Rc.hs(e),We.resolve()},t.prototype.Po=function(t,e){var n=this.Rc.as(e);return We.resolve(n)},t.prototype.fs=function(t,e){return We.resolve(this.Rc.fs(e))},t}(),Nn="You are using the memory-only build of Firestore. Persistence support is only available via the @firebase/firestore bundle or the firebase-firestore.js build.",xn=function(){function t(t,e){var n=this;this.clientId=t,this.Nc={},this.Oc=new Be(0),this.Fc=!1,this.Fc=!0,this.Cs=e(this),this.Os=new kn(this),this.Bh=new In,this.qh=new Sn(this.Bh,(function(t){return n.Cs.Uc(t)}))}return t.prototype.shutdown=function(){return this.Fc=!1,Promise.resolve()},Object.defineProperty(t.prototype,"qu",{get:function(){return this.Fc},enumerable:!0,configurable:!0}),t.prototype.Oo=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(t){return[2,[this.clientId]]}))}))},t.prototype.jc=function(t){return t(!0)},t.prototype.xc=function(){},t.prototype.jo=function(t){},t.prototype.js=function(){return this.Bh},t.prototype.Vs=function(t){var e=this.Nc[t.i()];return e||(e=new Tn(this.Bh,this.Cs),this.Nc[t.i()]=e),e},t.prototype.Fs=function(){return this.Os},t.prototype.Ns=function(){return this.qh},t.prototype.runTransaction=function(t,e,n){var r=this;Ae("MemoryPersistence","Starting transaction:",t);var i=new On(this.Oc.next());return this.Cs.Lc(),n(i).next((function(t){return r.Cs.Mc(i).next((function(){return t}))})).wu().then((function(t){return i.Mh(),t}))},t.prototype.qc=function(t,e){return We.bu(Object.values(this.Nc).map((function(n){return function(){return n.fs(t,e)}})))},t}(),On=function(t){function e(e){var n=t.call(this)||this;return n.fo=e,n}return o.__extends(e,t),e}(gn),Rn=function(){function t(t){this.persistence=t,this.Bc=null,this.Qc=null}return Object.defineProperty(t.prototype,"Gc",{get:function(){if(this.Qc)return this.Qc;throw xe("orphanedDocuments is only valid during a transaction.")},enumerable:!0,configurable:!0}),t.prototype.As=function(t){this.Bc=t},t.prototype.es=function(t,e){return this.Gc.delete(e),We.resolve()},t.prototype.us=function(t,e){return this.Gc.add(e),We.resolve()},t.prototype.lc=function(t,e){return this.Gc.add(e),We.resolve()},t.prototype.removeTarget=function(t,e){var n=this,r=this.persistence.Fs();return r.Po(t,e.targetId).next((function(t){t.forEach((function(t){return n.Gc.add(t)}))})).next((function(){return r.Pc(t,e)}))},t.prototype.Lc=function(){this.Qc=new Set},t.prototype.Mc=function(t){var e=this,n=this.persistence.Ns().Xs();return We.forEach(this.Gc,(function(r){return e.Wc(t,r).next((function(t){t||n.bs(r)}))})).next((function(){return e.Qc=null,n.apply(t)}))},t.prototype.vo=function(t,e){var n=this;return this.Wc(t,e).next((function(t){t?n.Gc.delete(e):n.Gc.add(e)}))},t.prototype.Uc=function(t){return 0},t.prototype.Wc=function(t,e){var n=this;return We.bu([function(){return n.persistence.Fs().fs(t,e)},function(){return n.persistence.qc(t,e)},function(){return We.resolve(n.Bc.fs(e))}])},t}(),Dn=function(){function t(){}return t.prototype.initialize=function(t,e,n,r,i,o){if(o.zc)throw new d(f.FAILED_PRECONDITION,Nn);return this.clientId=r,Promise.resolve()},t.prototype.Kc=function(){var t=!1;return{qu:t,start:function(){return t=!0},stop:function(){return t=!1}}},t.prototype.Jc=function(){return Oe(!!this.clientId,"initialize() not called"),new xn(this.clientId,(function(t){return new Rn(t)}))},t.prototype.Hc=function(){return new pn},t.prototype.clearPersistence=function(){throw new d(f.FAILED_PRECONDITION,Nn)},t}(),Pn=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.zo=t,this.Fr=e,this.Yc=n,this.Xc=r,this.$c=i,this.Zc=0,this.ta=null,this.na=Date.now(),this.reset()}return t.prototype.reset=function(){this.Zc=0},t.prototype.ia=function(){this.Zc=this.$c},t.prototype.ea=function(t){var e=this;this.cancel();var n=Math.floor(this.Zc+this.ra()),r=Math.max(0,Date.now()-this.na),i=Math.max(0,n-r);this.Zc>0&&Ae("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.Zc+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.ta=this.zo.iu(this.Fr,i,(function(){return e.na=Date.now(),t()})),this.Zc*=this.Xc,this.Zc<this.Yc&&(this.Zc=this.Yc),this.Zc>this.$c&&(this.Zc=this.$c)},t.prototype.cancel=function(){null!==this.ta&&(this.ta.cancel(),this.ta=null)},t.prototype.ra=function(){return(Math.random()-.5)*this.Zc},t}(),Ln=function(){function t(t,e,n,r,i,o){this.zo=t,this.ua=n,this.connection=r,this.sa=i,this.listener=o,this.state=0,this.oa=0,this.ha=null,this.stream=null,this.ca=new Pn(t,e)}return t.prototype.aa=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.fa=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?(Oe(0===this.state,"Already started"),this.auth()):this.la()},t.prototype.stop=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(t){switch(t.label){case 0:return this.aa()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.da=function(){Oe(!this.aa(),"Can only inhibit backoff in a stopped state"),this.state=0,this.ca.reset()},t.prototype.va=function(){var t=this;this.fa()&&null===this.ha&&(this.ha=this.zo.iu(this.ua,6e4,(function(){return t.wa()})))},t.prototype.ma=function(t){this.pa(),this.stream.send(t)},t.prototype.wa=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(t){return this.fa()?[2,this.close(0)]:[2]}))}))},t.prototype.pa=function(){this.ha&&(this.ha.cancel(),this.ha=null)},t.prototype.close=function(t,e){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(n){switch(n.label){case 0:return Oe(this.aa(),"Only started streams should be closed."),Oe(3===t||V(e),"Can't provide an error when not in an error state."),this.pa(),this.ca.cancel(),this.oa++,3!==t?this.ca.reset():e&&e.code===f.RESOURCE_EXHAUSTED?(ke(e.toString()),ke("Using maximum backoff delay to prevent overloading the backend."),this.ca.ia()):e&&e.code===f.UNAUTHENTICATED&&this.sa.l(),null!==this.stream&&(this.ba(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.ga(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.ba=function(){},t.prototype.auth=function(){var t=this;Oe(0===this.state,"Must be in initial state to auth"),this.state=1;var e=this.ya(this.oa),n=this.oa;this.sa.getToken().then((function(e){t.oa===n&&t._a(e)}),(function(n){e((function(){var e=new d(f.UNKNOWN,"Fetching auth token failed: "+n.message);return t.Ia(e)}))}))},t.prototype._a=function(t){var e=this;Oe(1===this.state,"Trying to start stream in a non-starting state");var n=this.ya(this.oa);this.stream=this.Ta(t),this.stream.Ea((function(){n((function(){return Oe(1===e.state,"Expected stream to be in state Starting, but was "+e.state),e.state=2,e.listener.Ea()}))})),this.stream.ga((function(t){n((function(){return e.Ia(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.la=function(){var t=this;Oe(3===this.state,"Should only perform backoff when in Error state"),this.state=4,this.ca.ea((function(){return o.__awaiter(t,void 0,void 0,(function(){return o.__generator(this,(function(t){return Oe(4===this.state,"Backoff elapsed but state is now: "+this.state),this.state=0,this.start(),Oe(this.aa(),"PersistentStream should have started"),[2]}))}))}))},t.prototype.Ia=function(t){return Oe(this.aa(),"Can't handle server close on non-started stream"),Ae("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.ya=function(t){var e=this;return function(n){e.zo.Qr((function(){return e.oa===t?n():(Ae("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),Mn=function(t){function e(e,n,r,i,o){var s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this;return s.serializer=i,s}return o.__extends(e,t),e.prototype.Ta=function(t){return this.connection.Da("Listen",t)},e.prototype.onMessage=function(t){this.ca.reset();var e=this.serializer.ke(t),n=this.serializer.Oe(t);return this.listener.Ra(e,n)},e.prototype.watch=function(t){var e={};e.database=this.serializer.De,e.addTarget=this.serializer.qn(t);var n=this.serializer.nr(t);n&&(e.labels=n),this.ma(e)},e.prototype.Sa=function(t){var e={};e.database=this.serializer.De,e.removeTarget=t,this.ma(e)},e}(Ln),Vn=function(t){function e(e,n,r,i,o){var s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this;return s.serializer=i,s.Aa=!1,s.lastStreamToken=M.Mt,s}return o.__extends(e,t),Object.defineProperty(e.prototype,"Ca",{get:function(){return this.Aa},enumerable:!0,configurable:!0}),e.prototype.start=function(){this.Aa=!1,t.prototype.start.call(this)},e.prototype.ba=function(){this.Aa&&this.Pa([])},e.prototype.Ta=function(t){return this.connection.Da("Write",t)},e.prototype.onMessage=function(t){if(Oe(!!t.streamToken,"Got a write response without a stream token"),this.lastStreamToken=this.serializer.pe(t.streamToken),this.Aa){this.ca.reset();var e=this.serializer.Ge(t.writeResults,t.commitTime),n=this.serializer.fromVersion(t.commitTime);return this.listener.Va(n,e)}return Oe(!t.writeResults||0===t.writeResults.length,"Got mutation results for handshake"),this.Aa=!0,this.listener.ka()},e.prototype.Na=function(){Oe(this.fa(),"Writing handshake requires an opened stream"),Oe(!this.Aa,"Handshake already completed");var t={};t.database=this.serializer.De,this.ma(t)},e.prototype.Pa=function(t){var e=this;Oe(this.fa(),"Writing mutations requires an opened stream"),Oe(this.Aa,"Handshake must be complete before writing mutations"),Oe(this.lastStreamToken.Lt()>0,"Trying to write mutation without a token");var n={streamToken:this.serializer.me(this.lastStreamToken),writes:t.map((function(t){return e.serializer.Fe(t)}))};this.ma(n)},e}(Ln),Un=function(){function t(t,e,n,r){this.zo=t,this.connection=e,this.credentials=n,this.serializer=r}return t.prototype.Oa=function(t){return new Vn(this.zo,this.connection,this.credentials,this.serializer,t)},t.prototype.Fa=function(t){return new Mn(this.zo,this.connection,this.credentials,this.serializer,t)},t.prototype.commit=function(t){var e=this,n={database:this.serializer.De,writes:t.map((function(t){return e.serializer.Fe(t)}))};return this.Ua("Commit",n).then((function(t){return e.serializer.Ge(t.writeResults,t.commitTime)}))},t.prototype.lookup=function(t){var e=this,n={database:this.serializer.De,documents:t.map((function(t){return e.serializer._e(t)}))};return this.ja("BatchGetDocuments",n).then((function(n){var r=Kt();n.forEach((function(t){var n=e.serializer.Ve(t);r=r.ut(n.key,n)}));var i=[];return t.forEach((function(t){var e=r.get(t);Oe(!!e,"Missing entity in write response for "+t),i.push(e)})),i}))},t.prototype.Ua=function(t,e){var n=this;return this.credentials.getToken().then((function(r){return n.connection.Ua(t,e,r)})).catch((function(t){throw t.code===f.UNAUTHENTICATED&&n.credentials.l(),t}))},t.prototype.ja=function(t,e){var n=this;return this.credentials.getToken().then((function(r){return n.connection.ja(t,e,r)})).catch((function(t){throw t.code===f.UNAUTHENTICATED&&n.credentials.l(),t}))},t}();function jn(t,e){if(0!==e.length)throw new d(f.INVALID_ARGUMENT,"Function "+t+"() does not support arguments, but was called with "+ir(e.length,"argument")+".")}function Fn(t,e,n){if(e.length!==n)throw new d(f.INVALID_ARGUMENT,"Function "+t+"() requires "+ir(n,"argument")+", but was called with "+ir(e.length,"argument")+".")}function qn(t,e,n){if(e.length<n)throw new d(f.INVALID_ARGUMENT,"Function "+t+"() requires at least "+ir(n,"argument")+", but was called with "+ir(e.length,"argument")+".")}function Bn(t,e,n,r){if(e.length<n||e.length>r)throw new d(f.INVALID_ARGUMENT,"Function "+t+"() requires between "+n+" and "+r+" arguments, but was called with "+ir(e.length,"argument")+".")}function zn(t,e,n,r){if(!(e instanceof Array)||e.length<r)throw new d(f.INVALID_ARGUMENT,"Function "+t+"() requires its "+n+" argument to be an array with at least "+ir(r,"element")+".")}function Hn(t,e,n,r){Yn(t,e,rr(n)+" argument",r)}function Gn(t,e,n,r){void 0!==r&&Hn(t,e,n,r)}function Wn(t,e,n,r){Yn(t,e,n+" option",r)}function $n(t,e,n,r){void 0!==r&&Wn(t,e,n,r)}function Kn(t,e,n,r,i){void 0!==r&&function(t,e,n,r,i){for(var o=[],s=0,a=i;s<a.length;s++){var u=a[s];if(u===r)return;o.push(Xn(u))}var c=Xn(r);throw new d(f.INVALID_ARGUMENT,"Invalid value "+c+" provided to function "+t+'() for option "'+n+'". Acceptable values: '+o.join(", "))}(t,0,n,r,i)}function Jn(t,e,n,r){if(!e.some((function(t){return t===r})))throw new d(f.INVALID_ARGUMENT,"Invalid value "+Xn(r)+" provided to function "+t+"() for its "+rr(n)+" argument. Acceptable values: "+e.join(", "))}function Yn(t,e,n,r){if(!("object"===e?Qn(r):"non-empty string"===e?"string"==typeof r&&""!==r:typeof r===e)){var i=Xn(r);throw new d(f.INVALID_ARGUMENT,"Function "+t+"() requires its "+n+" to be of type "+e+", but it was: "+i)}}function Qn(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}function Xn(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":xe("Unknown wrong type: "+typeof t)}function Zn(t,e,n){if(void 0===n)throw new d(f.INVALID_ARGUMENT,"Function "+t+"() requires a valid "+rr(e)+" argument, but it was undefined.")}function tr(t,e,n){P(e,(function(e,r){if(n.indexOf(e)<0)throw new d(f.INVALID_ARGUMENT,"Unknown option '"+e+"' passed to function "+t+"(). Available options: "+n.join(", "))}))}function er(t,e,n,r){var i=Xn(r);return new d(f.INVALID_ARGUMENT,"Function "+t+"() requires its "+rr(n)+" argument to be a "+e+", but it was: "+i)}function nr(t,e,n){if(n<=0)throw new d(f.INVALID_ARGUMENT,'Function "'+t+'()" requires its '+rr(e)+" argument to be a positive number, but it was: "+n+".")}function rr(t){switch(t){case 1:return"first";case 2:return"second";case 3:return"third";default:return t+"th"}}function ir(t,e){return t+" "+e+(1===t?"":"s")}function or(t,e){function n(){var t="This constructor is private.";throw e&&(t+=" ",t+=e),new d(f.INVALID_ARGUMENT,t)}return n.prototype=t.prototype,Object.assign(n,t),n}function sr(){if("undefined"==typeof Uint8Array)throw new d(f.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function ar(){if(!Ie.xt().xa)throw new d(f.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var ur=function(){function t(t){ar(),this.La=t}return t.fromBase64String=function(e){Fn("Blob.fromBase64String",arguments,1),Hn("Blob.fromBase64String","string",1,e),ar();try{return new t(M.fromBase64String(e))}catch(t){throw new d(f.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+t)}},t.fromUint8Array=function(e){if(Fn("Blob.fromUint8Array",arguments,1),sr(),!(e instanceof Uint8Array))throw er("Blob.fromUint8Array","Uint8Array",1,e);return new t(M.fromUint8Array(e))},t.prototype.toBase64=function(){return Fn("Blob.toBase64",arguments,0),ar(),this.La.toBase64()},t.prototype.toUint8Array=function(){return Fn("Blob.toUint8Array",arguments,0),sr(),this.La.toUint8Array()},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.La.isEqual(t.La)},t}(),cr=or(ur,"Use Blob.fromUint8Array() or Blob.fromBase64String() instead."),lr=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];zn("FieldPath",t,"fieldNames",1);for(var n=0;n<t.length;++n)if(Hn("FieldPath","string",n,t[n]),0===t[n].length)throw new d(f.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.Ma=new T(t)}return t.documentId=function(){return t.qa},t.prototype.isEqual=function(e){if(!(e instanceof t))throw er("isEqual","FieldPath",1,e);return this.Ma.isEqual(e.Ma)},t.qa=new t(T.Z().J()),t}(),hr=new RegExp("[~\\*/\\[\\]]"),fr=function(){function t(t){this.Ba=t}return t.delete=function(){return jn("FieldValue.delete",arguments),dr.instance},t.serverTimestamp=function(){return jn("FieldValue.serverTimestamp",arguments),pr.instance},t.arrayUnion=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return qn("FieldValue.arrayUnion",arguments,1),new mr(t)},t.arrayRemove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return qn("FieldValue.arrayRemove",arguments,1),new gr(t)},t.increment=function(t){return Hn("FieldValue.increment","number",1,t),Fn("FieldValue.increment",arguments,1),new vr(t)},t.prototype.isEqual=function(t){return this===t},t}(),dr=function(t){function e(){return t.call(this,"FieldValue.delete")||this}return o.__extends(e,t),e.instance=new e,e}(fr),pr=function(t){function e(){return t.call(this,"FieldValue.serverTimestamp")||this}return o.__extends(e,t),e.instance=new e,e}(fr),mr=function(t){function e(e){var n=t.call(this,"FieldValue.arrayUnion")||this;return n.Qa=e,n}return o.__extends(e,t),e}(fr),gr=function(t){function e(e){var n=t.call(this,"FieldValue.arrayRemove")||this;return n.Qa=e,n}return o.__extends(e,t),e}(fr),vr=function(t){function e(e){var n=t.call(this,"FieldValue.increment")||this;return n.Ga=e,n}return o.__extends(e,t),e}(fr),yr=or(fr,"Use FieldValue.<field>() instead."),wr=function(){function t(t,e){if(Fn("GeoPoint",arguments,2),Hn("GeoPoint","number",1,t),Hn("GeoPoint","number",2,e),!isFinite(t)||t<-90||t>90)throw new d(f.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new d(f.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.Wa=t,this.za=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.Wa},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.za},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(t){return this.Wa===t.Wa&&this.za===t.za},t.prototype.A=function(t){return De(this.Wa,t.Wa)||De(this.za,t.za)},t}(),br=/^__.*__$/,_r=function(){function t(t,e,n){this.data=t,this.en=e,this.fieldTransforms=n}return t.prototype.Ka=function(t,e){var n=[];return n.push(null!==this.en?new wt(t,this.data,this.en,e):new yt(t,this.data,e)),this.fieldTransforms.length>0&&n.push(new bt(t,this.fieldTransforms)),n},t}(),Er=function(){function t(t,e,n){this.data=t,this.en=e,this.fieldTransforms=n}return t.prototype.Ka=function(t,e){var n=[new wt(t,this.data,this.en,e)];return this.fieldTransforms.length>0&&n.push(new bt(t,this.fieldTransforms)),n},t}();function Ir(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xe("Unexpected case for UserDataSource: "+t)}}var Cr=function(){function t(t,e,n,r,i,o){this.Ja=t,this.methodName=e,this.path=n,this.Ha=r,void 0===i&&this.Ya(),this.Ha=void 0!==r&&r,this.fieldTransforms=i||[],this.en=o||[]}return t.prototype.Xa=function(e){var n=null==this.path?null:this.path.child(e),r=new t(this.Ja,this.methodName,n,!1,this.fieldTransforms,this.en);return r.$a(e),r},t.prototype.Za=function(e){var n=null==this.path?null:this.path.child(e),r=new t(this.Ja,this.methodName,n,!1,this.fieldTransforms,this.en);return r.Ya(),r},t.prototype.tf=function(e){return new t(this.Ja,this.methodName,null,!0,this.fieldTransforms,this.en)},t.prototype.nf=function(t){var e=null===this.path||this.path.M()?"":" (found in field "+this.path.toString()+")";return new d(f.INVALID_ARGUMENT,"Function "+this.methodName+"() called with invalid data. "+t+e)},t.prototype.contains=function(t){return void 0!==this.en.find((function(e){return t.G(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.G(e.field)}))},t.prototype.Ya=function(){if(null!==this.path)for(var t=0;t<this.path.length;t++)this.$a(this.path.get(t))},t.prototype.$a=function(t){if(0===t.length)throw this.nf("Document fields must not be empty");if(Ir(this.Ja)&&br.test(t))throw this.nf('Document fields cannot begin and end with "__"')},t}(),Tr=function(t,e){this.ae=t,this.key=e},Sr=function(){function t(t,e){this.serializer=t,this.if=e}return t.prototype.ef=function(t,e){var n=new Cr(0,t,T.Y);kr("Data must be an object, but it was:",n,e);var r=this.rf(e,n);return new _r(new It(r),null,n.fieldTransforms)},t.prototype.uf=function(t,e,n){var r=new Cr(2,t,T.Y);kr("Data must be an object, but it was:",r,e);var i,o,s=this.rf(e,r);if(n){for(var a=new O(T.F),u=0,c=n;u<c.length;u++){var l=c[u],h=void 0;if(l instanceof lr)h=l.Ma;else{if("string"!=typeof l)throw xe("Expected stringOrFieldPath to be a string or a FieldPath");h=xr(t,l)}if(!r.contains(h))throw new d(f.INVALID_ARGUMENT,"Field '"+h+"' is specified in your field mask but missing from your input data.");a=a.add(h)}i=dt.Kt(a),o=r.fieldTransforms.filter((function(t){return i.Ht(t.field)}))}else i=dt.Jt(r.en),o=r.fieldTransforms;return new _r(new It(s),i,o)},t.prototype.sf=function(t,e){var n=this,r=new Cr(1,t,T.Y);kr("Data must be an object, but it was:",r,e);var i=new O(T.F),o=It.ln();P(e,(function(e,s){var a=xr(t,e),u=r.Za(a);if((s=n.hf(s,u))instanceof dr)i=i.add(a);else{var c=n.cf(s,u);null!=c&&(i=i.add(a),o.set(a,c))}}));var s=dt.Kt(i);return new Er(o.on(),s,r.fieldTransforms)},t.prototype.af=function(t,e,n,r){var i=new Cr(1,t,T.Y),o=[Nr(t,e)],s=[n];if(r.length%2!=0)throw new d(f.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var a=0;a<r.length;a+=2)o.push(Nr(t,r[a])),s.push(r[a+1]);var u=new O(T.F),c=It.ln();for(a=0;a<o.length;++a){var l=o[a],h=i.Za(l),p=this.hf(s[a],h);if(p instanceof dr)u=u.add(l);else{var m=this.cf(p,h);null!=m&&(u=u.add(l),c.set(l,m))}}var g=dt.Kt(u);return new Er(c.on(),g,i.fieldTransforms)},t.prototype.ff=function(t,e,n){void 0===n&&(n=!1);var r=new Cr(n?4:3,t,T.Y),i=this.cf(e,r);return Oe(null!=i,"Parsed data should not be null."),Oe(0===r.fieldTransforms.length,"Field transforms should have been disallowed."),i},t.prototype.hf=function(t,e){try{return this.if(t)}catch(t){var n=Or(t);throw e.nf(n)}},t.prototype.cf=function(t,e){if(Ar(t=this.hf(t,e)))return kr("Unsupported field value:",e,t),this.rf(t,e);if(t instanceof fr)return this.lf(t,e),null;if(e.path&&e.en.push(e.path),t instanceof Array){if(e.Ha&&4!==e.Ja)throw e.nf("Nested arrays are not supported");return this.df(t,e)}return this.vf(t,e)},t.prototype.rf=function(t,e){var n=this,r={};return L(t)?e.path&&e.path.length>0&&e.en.push(e.path):P(t,(function(t,i){var o=n.cf(i,e.Xa(t));null!=o&&(r[t]=o)})),{mapValue:{fields:r}}},t.prototype.df=function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=this.cf(o[i],e.tf(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}},t.prototype.lf=function(t,e){if(!Ir(e.Ja))throw e.nf(t.Ba+"() can only be used with update() and set()");if(null===e.path)throw e.nf(t.Ba+"() is not currently supported inside arrays");if(t instanceof dr){if(2!==e.Ja)throw 1===e.Ja?(Oe(e.path.length>0,"FieldValue.delete() at the top level should have already been handled."),e.nf("FieldValue.delete() can only appear at the top level of your update data")):e.nf("FieldValue.delete() cannot be used with set() unless you pass {merge:true}");e.en.push(e.path)}else if(t instanceof pr)e.fieldTransforms.push(new pt(e.path,st.instance));else if(t instanceof mr){var n=this.wf(t.Ba,t.Qa),r=new at(n);e.fieldTransforms.push(new pt(e.path,r))}else if(t instanceof gr){n=this.wf(t.Ba,t.Qa);var i=new ut(n);e.fieldTransforms.push(new pt(e.path,i))}else if(t instanceof vr){var o=this.ff("FieldValue.increment",t.Ga),s=new ct(this.serializer,o);e.fieldTransforms.push(new pt(e.path,s))}else xe("Unknown FieldValue type: "+t)},t.prototype.vf=function(t,e){if(null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return this.serializer.we(t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=b.fromDate(t);return{timestampValue:this.serializer.O(n)}}if(t instanceof b)return n=new b(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:this.serializer.O(n)};if(t instanceof wr)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof ur)return{bytesValue:this.serializer.me(t)};if(t instanceof Tr)return{referenceValue:this.serializer.be(t.key.path,t.ae)};throw e.nf("Unsupported field value: "+Xn(t))},t.prototype.wf=function(t,e){var n=this;return e.map((function(e,r){var i=new Cr(3,t,T.Y);return n.cf(e,i.tf(r))}))},t}();function Ar(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof b||t instanceof wr||t instanceof ur||t instanceof Tr||t instanceof fr)}function kr(t,e,n){if(!Ar(n)||!Qn(n)){var r=Xn(n);throw e.nf("an object"===r?t+" a custom object":t+" "+r)}}function Nr(t,e){if(e instanceof lr)return e.Ma;if("string"==typeof e)return xr(t,e);throw new d(f.INVALID_ARGUMENT,"Function "+t+"() called with invalid data. Field path arguments must be of type string or FieldPath.")}function xr(t,e){try{return function(t){if(t.search(hr)>=0)throw new d(f.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(lr.bind.apply(lr,o.__spreadArrays([void 0],t.split("."))))}catch(e){throw new d(f.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(e).Ma}catch(e){var n=Or(e);throw new d(f.INVALID_ARGUMENT,"Function "+t+"() called with invalid data. "+n)}}function Or(t){return t instanceof Error?t.message:t.toString()}var Rr=function(){function t(t){this.mf=t,this.pf=Zt(),this.mutations=[],this.bf=!1,this.gf=null,this.yf=new Set}return t.prototype.lookup=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n=this;return o.__generator(this,(function(r){switch(r.label){case 0:if(this._f(),this.mutations.length>0)throw new d(f.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,this.mf.lookup(t)];case 1:return(e=r.sent()).forEach((function(t){t instanceof At||t instanceof St?n.If(t):xe("Document in a transaction was a "+t.constructor.name)})),[2,e]}}))}))},t.prototype.set=function(t,e){this.write(e.Ka(t,this.tn(t))),this.yf.add(t)},t.prototype.update=function(t,e){try{this.write(e.Ka(t,this.Tf(t)))}catch(t){this.gf=t}this.yf.add(t)},t.prototype.delete=function(t){this.write([new _t(t,this.tn(t))]),this.yf.add(t)},t.prototype.commit=function(){return o.__awaiter(this,void 0,void 0,(function(){var t,e=this;return o.__generator(this,(function(n){switch(n.label){case 0:if(this._f(),this.gf)throw this.gf;return t=this.pf,this.mutations.forEach((function(e){t=t.remove(e.key)})),t.forEach((function(t,n){e.mutations.push(new Et(t,e.tn(t)))})),[4,this.mf.commit(this.mutations)];case 1:return n.sent(),this.bf=!0,[2]}}))}))},t.prototype.If=function(t){var e;if(t instanceof St)e=t.version;else{if(!(t instanceof At))throw xe("Document in a transaction was a "+t.constructor.name);e=_.V()}var n=this.pf.get(t.key);if(null!==n){if(!e.isEqual(n))throw new d(f.ABORTED,"Document version changed between two reads.")}else this.pf=this.pf.ut(t.key,e)},t.prototype.tn=function(t){var e=this.pf.get(t);return!this.yf.has(t)&&e?gt.updateTime(e):gt.NONE},t.prototype.Tf=function(t){var e=this.pf.get(t);if(!this.yf.has(t)&&e){if(e.isEqual(_.V()))throw new d(f.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return gt.updateTime(e)}return gt.exists(!0)},t.prototype.write=function(t){this._f(),this.mutations=this.mutations.concat(t)},t.prototype._f=function(){Oe(!this.bf,"A transaction object cannot be used after its update callback has been invoked.")},t}(),Dr=function(){function t(t,e){this.Or=t,this.Ho=e,this.state="Unknown",this.Ef=0,this.Df=null,this.Rf=!0}return t.prototype.Sf=function(){var t=this;0===this.Ef&&(this.Af("Unknown"),Oe(null===this.Df,"onlineStateTimer shouldn't be started yet"),this.Df=this.Or.iu("online_state_timeout",1e4,(function(){return t.Df=null,Oe("Unknown"===t.state,"Timer should be canceled if we transitioned to a different state."),t.Cf("Backend didn't respond within 10 seconds."),t.Af("Offline"),Promise.resolve()})))},t.prototype.Pf=function(t){"Online"===this.state?(this.Af("Unknown"),Oe(0===this.Ef,"watchStreamFailures must be 0"),Oe(null===this.Df,"onlineStateTimer must be null")):(this.Ef++,this.Ef>=1&&(this.Vf(),this.Cf("Connection failed 1 times. Most recent error: "+t.toString()),this.Af("Offline")))},t.prototype.set=function(t){this.Vf(),this.Ef=0,"Online"===t&&(this.Rf=!1),this.Af(t)},t.prototype.Af=function(t){t!==this.state&&(this.state=t,this.Ho(t))},t.prototype.Cf=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Rf?(ke(e),this.Rf=!1):Ae("OnlineStateTracker",e)},t.prototype.Vf=function(){null!==this.Df&&(this.Df.cancel(),this.Df=null)},t}(),Pr=function(){function t(t,e,n,r,i){var s=this;this.kf=t,this.mf=e,this.Nf=[],this.Of=new Map,this.Ff=null,this.networkEnabled=!1,this.isPrimary=!1,this.Uf=i,this.Uf.jf((function(t){n.Qr((function(){return o.__awaiter(s,void 0,void 0,(function(){return o.__generator(this,(function(t){switch(t.label){case 0:return this.xf()?(Ae("RemoteStore","Restarting streams for network reachability change."),[4,this.Lf()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.Mf=new Dr(n,r),this.qf=this.mf.Fa({Ea:this.Bf.bind(this),ga:this.Qf.bind(this),Ra:this.Gf.bind(this)}),this.Wf=this.mf.Oa({Ea:this.zf.bind(this),ga:this.Kf.bind(this),ka:this.Jf.bind(this),Va:this.Va.bind(this)})}return t.prototype.start=function(){return this.enableNetwork()},t.prototype.enableNetwork=function(){return o.__awaiter(this,void 0,void 0,(function(){var t;return o.__generator(this,(function(e){switch(e.label){case 0:return this.networkEnabled=!0,this.xf()?(t=this.Wf,[4,this.kf.uo()]):[3,3];case 1:return t.lastStreamToken=e.sent(),this.Hf()?this.Yf():this.Mf.set("Unknown"),[4,this.Xf()];case 2:e.sent(),e.label=3;case 3:return[2]}}))}))},t.prototype.disableNetwork=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(t){switch(t.label){case 0:return this.networkEnabled=!1,[4,this.$f()];case 1:return t.sent(),this.Mf.set("Offline"),[2]}}))}))},t.prototype.$f=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(t){switch(t.label){case 0:return[4,this.Wf.stop()];case 1:return t.sent(),[4,this.qf.stop()];case 2:return t.sent(),this.Nf.length>0&&(Ae("RemoteStore","Stopping write stream with "+this.Nf.length+" pending writes"),this.Nf=[]),this.Zf(),[2]}}))}))},t.prototype.shutdown=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(t){switch(t.label){case 0:return Ae("RemoteStore","RemoteStore shutting down."),this.networkEnabled=!1,[4,this.$f()];case 1:return t.sent(),this.Uf.shutdown(),this.Mf.set("Unknown"),[2]}}))}))},t.prototype.listen=function(t){this.Of.has(t.targetId)||(this.Of.set(t.targetId,t),this.Hf()?this.Yf():this.qf.fa()&&this.tl(t))},t.prototype.nl=function(t){Oe(this.Of.has(t),"unlisten called on target no currently watched: "+t),this.Of.delete(t),this.qf.fa()&&this.il(t),0===this.Of.size&&(this.qf.fa()?this.qf.va():this.xf()&&this.Mf.set("Unknown"))},t.prototype.ce=function(t){return this.Of.get(t)||null},t.prototype.he=function(t){return this.Jo.he(t)},t.prototype.tl=function(t){this.Ff.Mi(t.targetId),this.qf.watch(t)},t.prototype.il=function(t){this.Ff.Mi(t),this.qf.Sa(t)},t.prototype.Yf=function(){Oe(this.Hf(),"startWatchStream() called when shouldStartWatchStream() is false."),this.Ff=new de(this),this.qf.start(),this.Mf.Sf()},t.prototype.Hf=function(){return this.xf()&&!this.qf.aa()&&this.Of.size>0},t.prototype.xf=function(){return this.isPrimary&&this.networkEnabled},t.prototype.Zf=function(){this.Ff=null},t.prototype.Bf=function(){return o.__awaiter(this,void 0,void 0,(function(){var t=this;return o.__generator(this,(function(e){return this.Of.forEach((function(e,n){t.tl(e)})),[2]}))}))},t.prototype.Qf=function(t){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(e){return void 0===t&&Oe(!this.Hf(),"Watch stream was stopped gracefully while still needed."),this.Zf(),this.Hf()?(this.Mf.Pf(t),this.Yf()):this.Mf.set("Unknown"),[2]}))}))},t.prototype.Gf=function(t,e){return o.__awaiter(this,void 0,void 0,(function(){var n;return o.__generator(this,(function(r){switch(r.label){case 0:return this.Mf.set("Online"),t instanceof he&&2===t.state&&t.cause?[2,this.el(t)]:(t instanceof ce?this.Ff.Ji(t):t instanceof le?this.Ff.ie(t):(Oe(t instanceof he,"Expected watchChange to be an instance of WatchTargetChange"),this.Ff.Xi(t)),e.isEqual(_.MIN)?[3,3]:[4,this.kf.oo()]);case 1:return n=r.sent(),e.k(n)>=0?[4,this.rl(e)]:[3,3];case 2:r.sent(),r.label=3;case 3:return[2]}}))}))},t.prototype.rl=function(t){var e=this;Oe(!t.isEqual(_.MIN),"Can't raise event for unknown SnapshotVersion");var n=this.Ff.ue(t);return n.wi.forEach((function(n,r){if(n.resumeToken.Lt()>0){var i=e.Of.get(r);i&&e.Of.set(r,i.ei(n.resumeToken,t))}})),n.mi.forEach((function(t){var n=e.Of.get(t);if(n){e.Of.set(t,n.ei(M.Mt,n.ni)),e.il(t);var r=new zt(n.target,t,1,n.sequenceNumber);e.tl(r)}})),this.Jo.ho(n)},t.prototype.el=function(t){var e=this;Oe(!!t.cause,"Handling target error without a cause");var n=t.cause,r=Promise.resolve();return t.targetIds.forEach((function(t){r=r.then((function(){return o.__awaiter(e,void 0,void 0,(function(){return o.__generator(this,(function(e){return this.Of.has(t)?(this.Of.delete(t),this.Ff.removeTarget(t),[2,this.Jo.ul(t,n)]):[2]}))}))}))})),r},t.prototype.Xf=function(){return o.__awaiter(this,void 0,void 0,(function(){var t;return o.__generator(this,(function(e){switch(e.label){case 0:return this.sl()?[4,this.kf.yo(this.Nf.length>0?this.Nf[this.Nf.length-1].batchId:-1)]:[3,4];case 1:return null!==(t=e.sent())?[3,2]:(0===this.Nf.length&&this.Wf.va(),[3,4]);case 2:return this.ol(t),[4,this.Xf()];case 3:e.sent(),e.label=4;case 4:return this.hl()&&this.cl(),[2]}}))}))},t.prototype.sl=function(){return this.xf()&&this.Nf.length<10},t.prototype.al=function(){return this.Nf.length},t.prototype.ol=function(t){Oe(this.sl(),"addToWritePipeline called when pipeline is full"),this.Nf.push(t),this.Wf.fa()&&this.Wf.Ca&&this.Wf.Pa(t.mutations)},t.prototype.hl=function(){return this.xf()&&!this.Wf.aa()&&this.Nf.length>0},t.prototype.cl=function(){Oe(this.hl(),"startWriteStream() called when shouldStartWriteStream() is false."),this.Wf.start()},t.prototype.zf=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(t){return this.Wf.Na(),[2]}))}))},t.prototype.Jf=function(){var t=this;return this.kf.so(this.Wf.lastStreamToken).then((function(){for(var e=0,n=t.Nf;e<n.length;e++)t.Wf.Pa(n[e].mutations)})).catch(rn)},t.prototype.Va=function(t,e){var n=this;Oe(this.Nf.length>0,"Got result for empty write pipeline");var r=this.Nf.shift(),i=je.from(r,t,e,this.Wf.lastStreamToken);return this.Jo.fl(i).then((function(){return n.Xf()}))},t.prototype.Kf=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e=this;return o.__generator(this,(function(n){return void 0===t&&Oe(!this.hl(),"Write stream was stopped gracefully while still needed."),t&&this.Nf.length>0?[2,(this.Wf.Ca?this.ll(t):this.dl(t)).then((function(){e.hl()&&e.cl()}))]:[2]}))}))},t.prototype.dl=function(t){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(e){return Gt(t.code)?(Ae("RemoteStore","RemoteStore error before completed handshake; resetting stream token: ",this.Wf.lastStreamToken),this.Wf.lastStreamToken=M.Mt,[2,this.kf.so(M.Mt).catch(rn)]):[2]}))}))},t.prototype.ll=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n=this;return o.__generator(this,(function(r){return Gt(i=t.code)&&i!==f.ABORTED?(e=this.Nf.shift(),this.Wf.da(),[2,this.Jo.vl(e.batchId,t).then((function(){return n.Xf()}))]):[2];var i}))}))},t.prototype.wl=function(){return new Rr(this.mf)},t.prototype.Lf=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(t){switch(t.label){case 0:return this.networkEnabled=!1,[4,this.$f()];case 1:return t.sent(),this.Mf.set("Unknown"),[4,this.enableNetwork()];case 2:return t.sent(),[2]}}))}))},t.prototype.ml=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(t){switch(t.label){case 0:return this.xf()?(Ae("RemoteStore","RemoteStore restarting streams for new credential"),[4,this.Lf()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.pl=function(t){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(e){switch(e.label){case 0:return this.isPrimary=t,t&&this.networkEnabled?[4,this.enableNetwork()]:[3,2];case 1:return e.sent(),[3,4];case 2:return t?[3,4]:[4,this.$f()];case 3:e.sent(),this.Mf.set("Unknown"),e.label=4;case 4:return[2]}}))}))},t}(),Lr=function(t){this.key=t},Mr=function(t){this.key=t},Vr=function(){function t(t,e){this.query=t,this.bl=e,this.gl=null,this._i=!1,this.yl=ee(),this.fi=ee(),this._l=new ie(t.Bn.bind(t))}return Object.defineProperty(t.prototype,"Il",{get:function(){return this.bl},enumerable:!0,configurable:!0}),t.prototype.Tl=function(t,e){var n=this,r=e?e.El:new oe,i=e?e._l:this._l,o=e?e.fi:this.fi,s=i,a=!1,u=this.query.Kn()&&i.size===this.query.limit?i.last():null,c=this.query.Jn()&&i.size===this.query.limit?i.first():null;if(t.ct((function(t,e){var l=i.get(t),h=e instanceof St?e:null;h&&(Oe(t.isEqual(h.key),"Mismatching keys found in document changes: "+t+" != "+h.key),h=n.query.matches(h)?h:null);var f=!!l&&n.fi.has(l.key),d=!!h&&(h.nn||n.fi.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data().isEqual(h.data())?f!==d&&(r.track({type:3,doc:h}),p=!0):n.Dl(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.query.Bn(h,u)>0||c&&n.query.Bn(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(s=s.add(h),o=d?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))})),this.query.Kn()||this.query.Jn())for(;s.size>this.query.limit;){var l=this.query.Kn()?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return Oe(!a||!e,"View was refilled using docs that themselves needed refilling."),{_l:s,El:r,ic:a,fi:o}},t.prototype.Dl=function(t,e){return t.nn&&e.hasCommittedMutations&&!e.nn},t.prototype.Is=function(t,e,n){var r=this;Oe(!t.ic,"Cannot apply changes that need a refill");var i=this._l;this._l=t._l,this.fi=t.fi;var o=t.El.ci();o.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xe("Unknown ChangeType: "+t)}};return n(t)-n(e)}(t.type,e.type)||r.query.Bn(t.doc,e.doc)})),this.Rl(n);var s=e?this.Sl():[],a=0===this.yl.size&&this._i?1:0,u=a!==this.gl;return this.gl=a,0!==o.length||u?{snapshot:new se(this.query,t._l,i,o,t.fi,0===a,u,!1),Al:s}:{Al:s}},t.prototype.Cl=function(t){return this._i&&"Offline"===t?(this._i=!1,this.Is({_l:this._l,El:new oe,fi:this.fi,ic:!1},!1)):{Al:[]}},t.prototype.Pl=function(t){return!this.bl.has(t)&&!!this._l.has(t)&&!this._l.get(t).nn},t.prototype.Rl=function(t){var e=this;t&&(t.Ii.forEach((function(t){return e.bl=e.bl.add(t)})),t.Ti.forEach((function(t){return Oe(e.bl.has(t),"Modified document "+t+" not found in view.")})),t.Ei.forEach((function(t){return e.bl=e.bl.delete(t)})),this._i=t._i)},t.prototype.Sl=function(){var t=this;if(!this._i)return[];var e=this.yl;this.yl=ee(),this._l.forEach((function(e){t.Pl(e.key)&&(t.yl=t.yl.add(e.key))}));var n=[];return e.forEach((function(e){t.yl.has(e)||n.push(new Mr(e))})),this.yl.forEach((function(t){e.has(t)||n.push(new Lr(t))})),n},t.prototype.Vl=function(t){this.bl=t.ko,this.yl=ee();var e=this.Tl(t.documents);return this.Is(e,!0)},t.prototype.kl=function(){return se.vi(this.query,this._l,this.fi,0===this.gl)},t}(),Ur=function(){function t(t,e,n,r){this.Or=t,this.Nl=e,this.updateFunction=n,this.xr=r,this.Ol=5,this.ca=new Pn(this.Or,"retry_transaction")}return t.prototype.run=function(){this.Fl()},t.prototype.Fl=function(){var t=this;this.ca.ea((function(){return o.__awaiter(t,void 0,void 0,(function(){var t,e,n=this;return o.__generator(this,(function(r){return t=this.Nl.wl(),(e=this.Ul(t))&&e.then((function(e){n.Or.Qr((function(){return t.commit().then((function(){n.xr.resolve(e)})).catch((function(t){n.jl(t)}))}))})).catch((function(t){n.jl(t)})),[2]}))}))}))},t.prototype.Ul=function(t){try{var e=this.updateFunction(t);return!V(e)&&e.catch&&e.then?e:(this.xr.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.xr.reject(t),null}},t.prototype.jl=function(t){var e=this;this.Ol>0&&this.xl(t)?(this.Ol-=1,this.Or.Qr((function(){return e.Fl(),Promise.resolve()}))):this.xr.reject(t)},t.prototype.xl=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Gt(e)}return!1},t}(),jr=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Fr=function(t){this.key=t,this.Ll=!1},qr=function(){function t(t,e,n,r,i){this.kf=t,this.Nl=e,this.Ml=n,this.currentUser=r,this.ql=i,this.Bl=null,this.Ql=new Fe((function(t){return t.canonicalId()})),this.Gl=new Map,this.Wl=[],this.zl=new A(S.F),this.Kl=new Map,this.Jl=new Ze,this.Hl={},this.Yl=new Map,this.Xl=An.Tc(),this.isPrimary=void 0,this.onlineState="Unknown"}return Object.defineProperty(t.prototype,"$l",{get:function(){return!0===this.isPrimary},enumerable:!0,configurable:!0}),t.prototype.subscribe=function(t){Oe(null!==t,"SyncEngine listener cannot be null"),Oe(null===this.Bl,"SyncEngine already has a subscriber."),this.Bl=t},t.prototype.listen=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n,r,i,s;return o.__generator(this,(function(o){switch(o.label){case 0:return this.Zl("listen()"),(r=this.Ql.get(t))?(this.Ml.ph(e=r.targetId),n=r.view.kl(),[3,4]):[3,1];case 1:return[4,this.kf.Eo(t.qn())];case 2:return i=o.sent(),s=this.Ml.ph(i.targetId),[4,this.td(t,e=i.targetId,"current"===s)];case 3:n=o.sent(),this.isPrimary&&this.Nl.listen(i),o.label=4;case 4:return this.Bl.Ra([n]),[2,e]}}))}))},t.prototype.td=function(t,e,n){return o.__awaiter(this,void 0,void 0,(function(){var r,i,s,a,u,c;return o.__generator(this,(function(o){switch(o.label){case 0:return[4,this.kf.Co(t,!0)];case 1:return r=o.sent(),i=new Vr(t,r.ko),s=i.Tl(r.documents),a=ue.yi(e,n&&"Offline"!==this.onlineState),Oe(0===(u=i.Is(s,!0===this.isPrimary,a)).Al.length,"View returned limbo docs before target ack from the server."),Oe(!!u.snapshot,"applyChanges for new view should always return a snapshot"),c=new jr(t,e,i),this.Ql.set(t,c),this.Gl.has(e)?this.Gl.get(e).push(t):this.Gl.set(e,[t]),[2,u.snapshot]}}))}))},t.prototype.nd=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n;return o.__generator(this,(function(r){switch(r.label){case 0:return[4,this.kf.Co(t.query,!0)];case 1:return e=r.sent(),n=t.view.Vl(e),this.isPrimary&&this.ed(t.targetId,n.Al),[2,n]}}))}))},t.prototype.nl=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n,r=this;return o.__generator(this,(function(i){switch(i.label){case 0:return this.Zl("unlisten()"),Oe(!!(e=this.Ql.get(t)),"Trying to unlisten on query not found:"+t),(n=this.Gl.get(e.targetId)).length>1?(this.Gl.set(e.targetId,n.filter((function(e){return!e.isEqual(t)}))),this.Ql.delete(t),[2]):this.isPrimary?(this.Ml.gh(e.targetId),this.Ml.lh(e.targetId)?[3,2]:[4,this.kf.Ao(e.targetId,!1).then((function(){r.Ml._h(e.targetId),r.Nl.nl(e.targetId),r.rd(e.targetId)})).catch(rn)]):[3,3];case 1:i.sent(),i.label=2;case 2:return[3,5];case 3:return this.rd(e.targetId),[4,this.kf.Ao(e.targetId,!0)];case 4:i.sent(),i.label=5;case 5:return[2]}}))}))},t.prototype.write=function(t,e){return o.__awaiter(this,void 0,void 0,(function(){var n;return o.__generator(this,(function(r){switch(r.label){case 0:return this.Zl("write()"),[4,this.kf.zs(t)];case 1:return n=r.sent(),this.Ml.dh(n.batchId),this.ud(n.batchId,e),[4,this.sd(n.ds)];case 2:return r.sent(),[4,this.Nl.Xf()];case 3:return r.sent(),[2]}}))}))},t.prototype.runTransaction=function(t,e,n){new Ur(t,this.Nl,e,n).run()},t.prototype.ho=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n=this;return o.__generator(this,(function(r){switch(r.label){case 0:this.Zl("applyRemoteEvent()"),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.kf.ho(t)];case 2:return e=r.sent(),t.wi.forEach((function(t,e){var r=n.Kl.get(e);r&&(Oe(t.Ii.size+t.Ti.size+t.Ei.size<=1,"Limbo resolution for single document contains multiple changes."),t.Ii.size>0?r.Ll=!0:t.Ti.size>0?Oe(r.Ll,"Received change for limbo target document without add."):t.Ei.size>0&&(Oe(r.Ll,"Received remove for limbo target document without add."),r.Ll=!1))})),[4,this.sd(e,t)];case 3:return r.sent(),[3,6];case 4:return[4,rn(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},t.prototype.Cl=function(t,e){if(this.isPrimary&&0===e||!this.isPrimary&&1===e){this.Zl("applyOnlineStateChange()");var n=[];this.Ql.forEach((function(e,r){var i=r.view.Cl(t);Oe(0===i.Al.length,"OnlineState should not affect limbo documents."),i.snapshot&&n.push(i.snapshot)})),this.Bl.od(t),this.Bl.Ra(n),this.onlineState=t,this.isPrimary&&this.Ml.Eh(t)}},t.prototype.ul=function(t,e){return o.__awaiter(this,void 0,void 0,(function(){var n,r,i,s,a,u=this;return o.__generator(this,(function(o){switch(o.label){case 0:return this.Zl("rejectListens()"),this.Ml.Ih(t,"rejected",e),n=this.Kl.get(t),(r=n&&n.key)?(this.zl=this.zl.remove(r),this.Kl.delete(t),this.hd(),i=(i=new A(S.F)).ut(r,new At(r,_.V())),s=ee().add(r),a=new ae(_.MIN,new Map,new O(De),i,s),[2,this.ho(a)]):[3,1];case 1:return[4,this.kf.Ao(t,!1).then((function(){return u.rd(t,e)})).catch(rn)];case 2:o.sent(),o.label=3;case 3:return[2]}}))}))},t.prototype.Nh=function(t,e,n){return o.__awaiter(this,void 0,void 0,(function(){var r;return o.__generator(this,(function(i){switch(i.label){case 0:return this.Zl("applyBatchState()"),[4,this.kf.Js(t)];case 1:return null===(r=i.sent())?(Ae("SyncEngine","Cannot apply mutation batch with id: "+t),[2]):"pending"!==e?[3,3]:[4,this.Nl.Xf()];case 2:return i.sent(),[3,4];case 3:"acknowledged"===e||"rejected"===e?(this.ad(t,n||null),this.kf.Fo(t)):xe("Unknown batchState: "+e),i.label=4;case 4:return[4,this.sd(r)];case 5:return i.sent(),[2]}}))}))},t.prototype.fl=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n;return o.__generator(this,(function(r){switch(r.label){case 0:this.Zl("applySuccessfulWrite()"),this.ad(e=t.batch.batchId,null),this.fd(e),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.kf.Ys(t)];case 2:return n=r.sent(),this.Ml.wh(e,"acknowledged"),[4,this.sd(n)];case 3:return r.sent(),[3,6];case 4:return[4,rn(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},t.prototype.vl=function(t,e){return o.__awaiter(this,void 0,void 0,(function(){var n;return o.__generator(this,(function(r){switch(r.label){case 0:this.Zl("rejectFailedWrite()"),this.ad(t,e),this.fd(t),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.kf.no(t)];case 2:return n=r.sent(),this.Ml.wh(t,"rejected",e),[4,this.sd(n)];case 3:return r.sent(),[3,6];case 4:return[4,rn(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},t.prototype.ld=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n;return o.__generator(this,(function(r){switch(r.label){case 0:return this.Nl.xf()||Ae("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),[4,this.kf.ro()];case 1:return-1===(e=r.sent())?(t.resolve(),[2]):((n=this.Yl.get(e)||[]).push(t),this.Yl.set(e,n),[2])}}))}))},t.prototype.fd=function(t){(this.Yl.get(t)||[]).forEach((function(t){t.resolve()})),this.Yl.delete(t)},t.prototype.dd=function(t){this.Yl.forEach((function(e){e.forEach((function(e){e.reject(new d(f.CANCELLED,t))}))})),this.Yl.clear()},t.prototype.ud=function(t,e){var n=this.Hl[this.currentUser.i()];n||(n=new A(De)),n=n.ut(t,e),this.Hl[this.currentUser.i()]=n},t.prototype.ad=function(t,e){var n=this.Hl[this.currentUser.i()];if(n){var r=n.get(t);r&&(Oe(t===n.ot(),"Mutation callbacks processed out-of-order?"),e?r.reject(e):r.resolve(),n=n.remove(t)),this.Hl[this.currentUser.i()]=n}},t.prototype.rd=function(t,e){var n=this;void 0===e&&(e=null),this.Ml.gh(t),Oe(this.Gl.has(t)&&0!==this.Gl.get(t).length,"There are no queries mapped to target id "+t);for(var r=0,i=this.Gl.get(t);r<i.length;r++){var o=i[r];this.Ql.delete(o),e&&this.Bl.vd(o,e)}if(this.Gl.delete(t),this.isPrimary){var s=this.Jl.as(t);this.Jl.hs(t),s.forEach((function(t){n.Jl.fs(t)||n.wd(t)}))}},t.prototype.wd=function(t){var e=this.zl.get(t);null!==e&&(this.Nl.nl(e),this.zl=this.zl.remove(t),this.Kl.delete(e),this.hd())},t.prototype.ed=function(t,e){for(var n=0,r=e;n<r.length;n++){var i=r[n];i instanceof Lr?(this.Jl.es(i.key,t),this.md(i)):i instanceof Mr?(Ae("SyncEngine","Document no longer in limbo: "+i.key),this.Jl.us(i.key,t),this.Jl.fs(i.key)||this.wd(i.key)):xe("Unknown limbo change: "+JSON.stringify(i))}},t.prototype.md=function(t){var e=t.key;this.zl.get(e)||(Ae("SyncEngine","New document in limbo: "+e),this.Wl.push(e),this.hd())},t.prototype.hd=function(){for(;this.Wl.length>0&&this.zl.size<this.ql;){var t=this.Wl.shift(),e=this.Xl.next();this.Kl.set(e,new Fr(t)),this.zl=this.zl.ut(t,e),this.Nl.listen(new zt(xt.Cn(t.path).qn(),e,2,Be.Nr))}},t.prototype.pd=function(){return this.zl},t.prototype.bd=function(){return this.Wl},t.prototype.sd=function(t,e){return o.__awaiter(this,void 0,void 0,(function(){var n,r,i,s=this;return o.__generator(this,(function(o){switch(o.label){case 0:return n=[],r=[],i=[],this.Ql.forEach((function(o,a){i.push(Promise.resolve().then((function(){var e=a.view.Tl(t);return e.ic?s.kf.Co(a.query,!1).then((function(t){return a.view.Tl(t.documents,e)})):e})).then((function(t){var i=e&&e.wi.get(a.targetId),o=a.view.Is(t,!0===s.isPrimary,i);if(s.ed(a.targetId,o.Al),o.snapshot){s.isPrimary&&s.Ml.Ih(a.targetId,o.snapshot.fromCache?"not-current":"current"),n.push(o.snapshot);var u=qe.Ar(a.targetId,o.snapshot);r.push(u)}})))})),[4,Promise.all(i)];case 1:return o.sent(),this.Bl.Ra(n),[4,this.kf.bo(r)];case 2:return o.sent(),[2]}}))}))},t.prototype.Zl=function(t){Oe(null!==this.Bl,"Trying to call "+t+" before calling subscribe().")},t.prototype.ml=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n;return o.__generator(this,(function(r){switch(r.label){case 0:return e=!this.currentUser.isEqual(t),this.currentUser=t,e?(this.dd("'waitForPendingWrites' promise is rejected due to a user change."),[4,this.kf.Ms(t)]):[3,3];case 1:return n=r.sent(),this.Ml.Ms(t,n.Gs,n.Ws),[4,this.sd(n.Qs)];case 2:r.sent(),r.label=3;case 3:return[4,this.Nl.ml()];case 4:return r.sent(),[2]}}))}))},t.prototype.pl=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n,r,i,s,a=this;return o.__generator(this,(function(o){switch(o.label){case 0:return!0!==t||!0===this.isPrimary?[3,3]:(this.isPrimary=!0,[4,this.Nl.pl(!0)]);case 1:return o.sent(),i=this.Ml.fh(),[4,this.gd(i.K())];case 2:for(e=o.sent(),n=0,r=e;n<r.length;n++)this.Nl.listen(r[n]);return[3,7];case 3:return!1!==t||!1===this.isPrimary?[3,7]:(this.isPrimary=!1,i=[],s=Promise.resolve(),this.Gl.forEach((function(t,e){a.Ml.yh(e)?i.push(e):s=s.then((function(){return a.rd(e),a.kf.Ao(e,!0)})),a.Nl.nl(e)})),[4,s]);case 4:return o.sent(),[4,this.gd(i)];case 5:return o.sent(),this.yd(),[4,this.Nl.pl(!1)];case 6:o.sent(),o.label=7;case 7:return[2]}}))}))},t.prototype.yd=function(){var t=this;this.Kl.forEach((function(e,n){t.Nl.nl(n)})),this.Jl.cs(),this.Kl=new Map,this.zl=new A(S.F)},t.prototype.gd=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n,r,i,s,a,u,c,l,h,f,d,p;return o.__generator(this,(function(o){switch(o.label){case 0:e=[],n=[],r=0,i=t,o.label=1;case 1:return r<i.length?(a=void 0,(u=this.Gl.get(s=i[r]))&&0!==u.length?[4,this.kf.Ao(s,!0)]:[3,8]):[3,14];case 2:return o.sent(),[4,this.kf.Eo(u[0].qn())];case 3:a=o.sent(),c=0,l=u,o.label=4;case 4:return c<l.length?(Oe(!!(f=this.Ql.get(h=l[c])),"No query view found for "+h),[4,this.nd(f)]):[3,7];case 5:(d=o.sent()).snapshot&&n.push(d.snapshot),o.label=6;case 6:return c++,[3,4];case 7:return[3,12];case 8:return Oe(!0===this.isPrimary,"A secondary tab should never have an active target without an active query."),[4,this.kf.xo(s)];case 9:return Oe(!!(p=o.sent()),"Target for id "+s+" not found"),[4,this.kf.Eo(p)];case 10:return a=o.sent(),[4,this.td(this._d(p),s,!1)];case 11:o.sent(),o.label=12;case 12:e.push(a),o.label=13;case 13:return r++,[3,1];case 14:return this.Bl.Ra(n),[2,e]}}))}))},t.prototype._d=function(t){return new xt(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)},t.prototype.Oo=function(){return this.kf.Oo()},t.prototype.Oh=function(t,e,n){return o.__awaiter(this,void 0,void 0,(function(){var r,i;return o.__generator(this,(function(o){switch(o.label){case 0:if(this.isPrimary)return Ae("SyncEngine","Ignoring unexpected query state notification."),[2];if(!this.Gl.has(t))return[3,7];switch(e){case"current":case"not-current":return[3,1];case"rejected":return[3,4]}return[3,6];case 1:return[4,this.kf.Lo()];case 2:return r=o.sent(),i=ae.gi(t,"current"===e),[4,this.sd(r,i)];case 3:return o.sent(),[3,7];case 4:return[4,this.kf.Ao(t,!0)];case 5:return o.sent(),this.rd(t,n),[3,7];case 6:xe("Unexpected target state: "+e),o.label=7;case 7:return[2]}}))}))},t.prototype.Fh=function(t,e){return o.__awaiter(this,void 0,void 0,(function(){var n,r,i,s,a,u,c,l,h,f=this;return o.__generator(this,(function(d){switch(d.label){case 0:if(!this.isPrimary)return[2];n=0,r=t,d.label=1;case 1:return n<r.length?(Oe(!this.Gl.has(h=r[n]),"Trying to add an already active target"),[4,this.kf.xo(h)]):[3,6];case 2:return Oe(!!(i=d.sent()),"Query data for active target "+h+" not found"),[4,this.kf.Eo(i)];case 3:return s=d.sent(),[4,this.td(this._d(i),s.targetId,!1)];case 4:d.sent(),this.Nl.listen(s),d.label=5;case 5:return n++,[3,1];case 6:a=function(t){return o.__generator(this,(function(e){switch(e.label){case 0:return u.Gl.has(t)?[4,u.kf.Ao(t,!1).then((function(){f.Nl.nl(t),f.rd(t)})).catch(rn)]:[2,"continue"];case 1:return e.sent(),[2]}}))},u=this,c=0,l=e,d.label=7;case 7:return c<l.length?[5,a(h=l[c])]:[3,10];case 8:d.sent(),d.label=9;case 9:return c++,[3,7];case 10:return[2]}}))}))},t.prototype.enableNetwork=function(){return this.kf.jo(!0),this.Nl.enableNetwork()},t.prototype.disableNetwork=function(){return this.kf.jo(!1),this.Nl.disableNetwork()},t.prototype.he=function(t){var e=this.Kl.get(t);if(e&&e.Ll)return ee().add(e.key);var n=ee(),r=this.Gl.get(t);if(!r)return n;for(var i=0,o=r;i<o.length;i++){var s=o[i],a=this.Ql.get(s);Oe(!!a,"No query view found for "+s),n=n.Ft(a.view.Il)}return n},t}(),Br=function(){this.Id=null,this.targetId=0,this.listeners=[]},zr=function(){function t(t){this.Jo=t,this.Td=new Fe((function(t){return t.canonicalId()})),this.onlineState="Unknown",this.Ed=new Set,this.Jo.subscribe(this)}return t.prototype.listen=function(t){var e=t.query,n=!1,r=this.Td.get(e);return r||(n=!0,r=new Br,this.Td.set(e,r)),r.listeners.push(t),Oe(!t.Cl(this.onlineState),"applyOnlineStateChange() shouldn't raise an event for brand-new listeners."),r.Id&&t.Dd(r.Id)&&this.Rd(),n?this.Jo.listen(e).then((function(t){return r.targetId=t,t})):Promise.resolve(r.targetId)},t.prototype.nl=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n,r,i;return o.__generator(this,(function(o){return n=!1,(r=this.Td.get(e=t.query))&&(i=r.listeners.indexOf(t))>=0&&(r.listeners.splice(i,1),n=0===r.listeners.length),n?(this.Td.delete(e),[2,this.Jo.nl(e)]):[2]}))}))},t.prototype.Ra=function(t){for(var e=!1,n=0,r=t;n<r.length;n++){var i=r[n],o=this.Td.get(i.query);if(o){for(var s=0,a=o.listeners;s<a.length;s++)a[s].Dd(i)&&(e=!0);o.Id=i}}e&&this.Rd()},t.prototype.vd=function(t,e){var n=this.Td.get(t);if(n)for(var r=0,i=n.listeners;r<i.length;r++)i[r].onError(e);this.Td.delete(t)},t.prototype.od=function(t){this.onlineState=t;var e=!1;this.Td.forEach((function(n,r){for(var i=0,o=r.listeners;i<o.length;i++)o[i].Cl(t)&&(e=!0)})),e&&this.Rd()},t.prototype.Sd=function(t){this.Ed.add(t),t.next()},t.prototype.Ad=function(t){this.Ed.delete(t)},t.prototype.Rd=function(){this.Ed.forEach((function(t){t.next()}))},t}(),Hr=function(){function t(t,e,n){this.query=t,this.Cd=e,this.Pd=!1,this.Vd=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Dd=function(t){if(Oe(t.docChanges.length>0||t.li,"We got a new snapshot with no changes?"),!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new se(t.query,t.docs,t.ai,e,t.fi,t.fromCache,t.li,!0)}var o=!1;return this.Pd?this.kd(t)&&(this.Cd.next(t),o=!0):this.Nd(t,this.onlineState)&&(this.Od(t),o=!0),this.Vd=t,o},t.prototype.onError=function(t){this.Cd.error(t)},t.prototype.Cl=function(t){this.onlineState=t;var e=!1;return this.Vd&&!this.Pd&&this.Nd(this.Vd,t)&&(this.Od(this.Vd),e=!0),e},t.prototype.Nd=function(t,e){return Oe(!this.Pd,"Determining whether to raise first event but already had first event"),!t.fromCache||(this.options.Fd&&"Offline"!==e?(Oe(t.fromCache,"Waiting for sync, but snapshot is not from cache"),!1):!t.docs.M()||"Offline"===e)},t.prototype.kd=function(t){return t.docChanges.length>0||!!(t.li||this.Vd&&this.Vd.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.Od=function(t){Oe(!this.Pd,"Trying to raise initial events for second time"),t=se.vi(t.query,t.docs,t.fi,t.fromCache),this.Pd=!0,this.Cd.next(t)},t}(),Gr=function(){function t(t,e,n,r){this.platform=t,this.Ud=e,this.credentials=n,this.Or=r,this.clientId=Re.pr()}return t.prototype.start=function(t,e){var n=this;this.jd();var r=new ze,i=new ze,o=!1;return this.credentials.v((function(s){o?n.Or.Qr((function(){return n.ml(s)})):(o=!0,n.xd(t,e,s,i).then((function(){return n.Ld(s)})).then(r.resolve,r.reject))})),this.Or.Qr((function(){return r.promise})),i.promise},t.prototype.enableNetwork=function(){var t=this;return this.jd(),this.Or.enqueue((function(){return t.Jo.enableNetwork()}))},t.prototype.xd=function(t,e,n,r){return o.__awaiter(this,void 0,void 0,(function(){var i;return o.__generator(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,t.initialize(this.Or,this.Ud,this.platform,this.clientId,n,e)];case 1:return o.sent(),this.persistence=t.Jc(),this.Md=t.Kc(),this.Ml=t.Hc(),r.resolve(),[3,3];case 2:if(i=o.sent(),r.reject(i),!this.qd(i))throw i;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i),[2,this.xd(new Dn,{zc:!1},n,r)];case 3:return[2]}}))}))},t.prototype.qd=function(t){return"FirebaseError"===t.name?t.code===f.FAILED_PRECONDITION||t.code===f.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code},t.prototype.jd=function(){if(this.Or.Yr)throw new d(f.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ld=function(t){var e=this;return Ae("FirestoreClient","Initializing. user=",t.uid),this.platform.Bd(this.Ud).then((function(n){return o.__awaiter(e,void 0,void 0,(function(){var e,r,i,s,a,u=this;return o.__generator(this,(function(c){switch(c.label){case 0:return e=new yn,this.kf=new nn(this.persistence,e,t),[4,this.kf.start()];case 1:return c.sent(),r=this.platform.Qd(),i=this.platform.Gd(this.Ud.ae),s=new Un(this.Or,n,this.credentials,i),a=function(t){return u.Jo.Cl(t,1)},this.Nl=new Pr(this.kf,s,this.Or,(function(t){return u.Jo.Cl(t,0)}),r),this.Jo=new qr(this.kf,this.Nl,this.Ml,t,100),this.Ml.Ho=a,this.Nl.Jo=this.Jo,this.Ml.Jo=this.Jo,this.Wd=new zr(this.Jo),[4,this.Ml.start()];case 2:return c.sent(),[4,this.Nl.start()];case 3:return c.sent(),[4,this.persistence.jc((function(t){return o.__awaiter(u,void 0,void 0,(function(){return o.__generator(this,(function(e){switch(e.label){case 0:return[4,this.Jo.pl(t)];case 1:return e.sent(),t&&!this.Md.qu?this.Md.start(this.kf):t||this.Md.stop(),[2]}}))}))}))];case 4:return c.sent(),[4,this.persistence.xc((function(){return o.__awaiter(u,void 0,void 0,(function(){return o.__generator(this,(function(t){switch(t.label){case 0:return[4,this.terminate()];case 1:return t.sent(),[2]}}))}))}))];case 5:return c.sent(),[2]}}))}))}))},t.prototype.ml=function(t){return this.Or.ru(),Ae("FirestoreClient","Credential Changed. Current user: "+t.uid),this.Jo.ml(t)},t.prototype.disableNetwork=function(){var t=this;return this.jd(),this.Or.enqueue((function(){return t.Jo.disableNetwork()}))},t.prototype.terminate=function(){var t=this;return this.Or.nu((function(){return o.__awaiter(t,void 0,void 0,(function(){return o.__generator(this,(function(t){switch(t.label){case 0:return this.Md.stop(),[4,this.Nl.shutdown()];case 1:return t.sent(),[4,this.Ml.shutdown()];case 2:return t.sent(),[4,this.persistence.shutdown()];case 3:return t.sent(),this.credentials.m(),[2]}}))}))}))},t.prototype.waitForPendingWrites=function(){var t=this;this.jd();var e=new ze;return this.Or.Qr((function(){return t.Jo.ld(e)})),e.promise},t.prototype.listen=function(t,e,n){var r=this;this.jd();var i=new Hr(t,e,n);return this.Or.Qr((function(){return r.Wd.listen(i)})),i},t.prototype.nl=function(t){var e=this;this.zd||this.Or.Qr((function(){return e.Wd.nl(t)}))},t.prototype.Kd=function(t){var e=this;return this.jd(),this.Or.enqueue((function(){return e.kf.Io(t)})).then((function(t){if(t instanceof St)return t;if(t instanceof At)return null;throw new d(f.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")}))},t.prototype.Jd=function(t){var e=this;return this.jd(),this.Or.enqueue((function(){return o.__awaiter(e,void 0,void 0,(function(){var e,n,r;return o.__generator(this,(function(i){switch(i.label){case 0:return[4,this.kf.Co(t,!0)];case 1:return e=i.sent(),n=new Vr(t,e.ko),r=n.Tl(e.documents),[2,n.Is(r,!1).snapshot]}}))}))}))},t.prototype.write=function(t){var e=this;this.jd();var n=new ze;return this.Or.Qr((function(){return e.Jo.write(t,n)})),n.promise},t.prototype.ae=function(){return this.Ud.ae},t.prototype.Sd=function(t){var e=this;this.jd(),this.Or.Qr((function(){return e.Wd.Sd(t),Promise.resolve()}))},t.prototype.Ad=function(t){this.zd||this.Wd.Ad(t)},Object.defineProperty(t.prototype,"zd",{get:function(){return this.Or.Yr},enumerable:!0,configurable:!0}),t.prototype.transaction=function(t){var e=this;this.jd();var n=new ze;return this.Or.Qr((function(){return e.Jo.runTransaction(e.Or,t,n),Promise.resolve()})),n.promise},t}(),Wr=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.Hd(this.observer.next,t)},t.prototype.error=function(t){this.Hd(this.observer.error,t)},t.prototype.Yd=function(){this.muted=!0},t.prototype.Hd=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}();function $r(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}var Kr=function(){function t(t,e,n,r){this.firestore=t,this.timestampsInSnapshots=e,this.Xd=n,this.converter=r}return t.prototype.$d=function(t){switch(z(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Y(t.integerValue||t.doubleValue);case 3:return this.Zd(t.timestampValue);case 4:return this.tv(t);case 5:return t.stringValue;case 6:return new ur(Q(t.bytesValue));case 7:return this.nv(t.referenceValue);case 8:return new wr(t.geoPointValue.latitude,t.geoPointValue.longitude);case 9:return this.iv(t.arrayValue);case 10:return this.ev(t.mapValue);default:throw xe("Invalid value type: "+JSON.stringify(t))}},t.prototype.ev=function(t){var e=this,n={};return P(t.fields||{},(function(t,r){n[t]=e.$d(r)})),n},t.prototype.iv=function(t){var e=this;return(t.values||[]).map((function(t){return e.$d(t)}))},t.prototype.tv=function(t){switch(this.Xd){case"previous":var e=function t(e){var n=e.mapValue.fields.__previous_value__;return F(n)?t(n):n}(t);return null==e?null:this.$d(e);case"estimate":return this.Zd(q(t));default:return null}},t.prototype.Zd=function(t){var e=J(t),n=new b(e.seconds,e.nanos);return this.timestampsInSnapshots?n:n.toDate()},t.prototype.nv=function(t){var e=I.H(t);Oe(Ee(e),"ReferenceValue is not valid "+t);var n=new Ve(e.get(1),e.get(3)),r=new S(e.j(5));return n.isEqual(this.firestore.rv)||ke("Document "+r+" contains a document reference within a different database ("+n.projectId+"/"+n.database+") which is not supported. It will be treated as a reference in the current database ("+this.firestore.rv.projectId+"/"+this.firestore.rv.database+") instead."),new ti(r,this.firestore,this.converter)},t}(),Jr=Ye.Nu,Yr=function(){function t(t){var e,n;if(void 0===t.host){if(void 0!==t.ssl)throw new d(f.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else Wn("settings","non-empty string","host",t.host),this.host=t.host,$n("settings","boolean","ssl",t.ssl),this.ssl=null===(e=t.ssl)||void 0===e||e;if(tr("settings",t,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes","experimentalForceLongPolling"]),$n("settings","object","credentials",t.credentials),this.credentials=t.credentials,$n("settings","boolean","timestampsInSnapshots",t.timestampsInSnapshots),!0===t.timestampsInSnapshots?ke("\n  The timestampsInSnapshots setting now defaults to true and you no\n  longer need to explicitly set it. In a future release, the setting\n  will be removed entirely and so it is recommended that you remove it\n  from your firestore.settings() call now."):!1===t.timestampsInSnapshots&&ke("\n  The timestampsInSnapshots setting will soon be removed. YOU MUST UPDATE\n  YOUR CODE.\n\n  To hide this warning, stop using the timestampsInSnapshots setting in your\n  firestore.settings({ ... }) call.\n\n  Once you remove the setting, Timestamps stored in Cloud Firestore will be\n  read back as Firebase Timestamp objects instead of as system Date objects.\n  So you will also need to update code expecting a Date to instead expect a\n  Timestamp. For example:\n\n  // Old:\n  const date = snapshot.get('created_at');\n  // New:\n  const timestamp = snapshot.get('created_at'); const date =\n  timestamp.toDate();\n\n  Please audit all existing usages of Date when you enable the new\n  behavior."),this.timestampsInSnapshots=null===(n=t.timestampsInSnapshots)||void 0===n||n,$n("settings","number","cacheSizeBytes",t.cacheSizeBytes),void 0===t.cacheSizeBytes)this.cacheSizeBytes=Ye.Fu;else{if(t.cacheSizeBytes!==Jr&&t.cacheSizeBytes<Ye.Ou)throw new d(f.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+Ye.Ou);this.cacheSizeBytes=t.cacheSizeBytes}$n("settings","boolean","experimentalForceLongPolling",t.experimentalForceLongPolling),this.forceLongPolling=void 0!==t.experimentalForceLongPolling&&t.experimentalForceLongPolling}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.timestampsInSnapshots===t.timestampsInSnapshots&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.forceLongPolling===t.forceLongPolling},t}(),Qr=function(){function t(e,n,r){var i=this;if(void 0===r&&(r=new Dn),this.uv=null,this.sv=new Ge,this.INTERNAL={delete:function(){return o.__awaiter(i,void 0,void 0,(function(){return o.__generator(this,(function(t){switch(t.label){case 0:return this.ov(),[4,this.hv.terminate()];case 1:return t.sent(),[2]}}))}))}},"object"==typeof e.options){var s=e;this.uv=s,this.rv=t.cv(s),this.av=s.name,this.fv=new g(n)}else{var a=e;if(!a.projectId)throw new d(f.INVALID_ARGUMENT,"Must provide projectId");this.rv=new Ve(a.projectId,a.database),this.av="[DEFAULT]",this.fv=new m}this.lv=r,this.dv=new Yr({}),this.vv=this.wv(this.rv)}return t.prototype.settings=function(t){if(Fn("Firestore.settings",arguments,1),Hn("Firestore.settings","object",1,t),di(t,"persistence"))throw new d(f.INVALID_ARGUMENT,'"persistence" is now specified with a separate call to firestore.enablePersistence().');var e=new Yr(t);if(this.hv&&!this.dv.isEqual(e))throw new d(f.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this.dv=e,void 0!==e.credentials&&(this.fv=w(e.credentials))},t.prototype.enableNetwork=function(){return this.ov(),this.hv.enableNetwork()},t.prototype.disableNetwork=function(){return this.ov(),this.hv.disableNetwork()},t.prototype.enablePersistence=function(t){var e,n;if(this.hv)throw new d(f.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var r=!1;return t&&(void 0!==t.experimentalTabSynchronization&&ke("The 'experimentalTabSynchronization' setting has been renamed to 'synchronizeTabs'. In a future release, the setting will be removed and it is recommended that you update your firestore.enablePersistence() call to use 'synchronizeTabs'."),r=null!==(n=null!==(e=t.synchronizeTabs)&&void 0!==e?e:t.experimentalTabSynchronization)&&void 0!==n&&n),this.mv(this.lv,{zc:!0,cacheSizeBytes:this.dv.cacheSizeBytes,synchronizeTabs:r})},t.prototype.clearPersistence=function(){return o.__awaiter(this,void 0,void 0,(function(){var t,e=this;return o.__generator(this,(function(n){if(void 0!==this.hv&&!this.hv.zd)throw new d(f.FAILED_PRECONDITION,"Persistence cannot be cleared after this Firestore instance is initialized.");return t=new ze,this.sv.Xr((function(){return o.__awaiter(e,void 0,void 0,(function(){var e,n;return o.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),e=this.pv(),[4,this.lv.clearPersistence(e)];case 1:return r.sent(),t.resolve(),[3,3];case 2:return n=r.sent(),t.reject(n),[3,3];case 3:return[2]}}))}))})),[2,t.promise]}))}))},t.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.INTERNAL.delete()},Object.defineProperty(t.prototype,"bv",{get:function(){return this.ov(),this.hv.zd},enumerable:!0,configurable:!0}),t.prototype.waitForPendingWrites=function(){return this.ov(),this.hv.waitForPendingWrites()},t.prototype.onSnapshotsInSync=function(t){return this.ov(),$r(t)?this.gv(t):(Hn("Firestore.onSnapshotsInSync","function",1,t),this.gv({next:t}))},t.prototype.gv=function(t){var e=this,n=new Wr({next:function(){t.next&&t.next()},error:function(t){throw xe("Uncaught Error in onSnapshotsInSync")}});return this.hv.Sd(n),function(){n.Yd(),e.hv.Ad(n)}},t.prototype.ov=function(){return this.hv||this.mv(new Dn,{zc:!1}),this.hv},t.prototype.pv=function(){return new Me(this.rv,this.av,this.dv.host,this.dv.ssl,this.dv.forceLongPolling)},t.prototype.mv=function(t,e){Oe(!!this.dv.host,"FirestoreSettings.host is not set"),Oe(!this.hv,"configureClient() called multiple times");var n=this.pv();return this.hv=new Gr(Ie.xt(),n,this.fv,this.sv),this.hv.start(t,e)},t.prototype.wv=function(t){var e=new _e(t,{de:Ie.xt().de});return new Sr(e,(function(e){if(e instanceof ti){var n=t,r=e.firestore.rv;if(!r.isEqual(n))throw new d(f.INVALID_ARGUMENT,"Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return new Tr(t,e.yv)}return e}))},t.cv=function(t){if(!di(t.options,"projectId"))throw new d(f.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var e=t.options.projectId;if(!e||"string"!=typeof e)throw new d(f.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new Ve(e)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.uv)throw new d(f.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.uv},enumerable:!0,configurable:!0}),t.prototype.collection=function(t){return Fn("Firestore.collection",arguments,1),Hn("Firestore.collection","non-empty string",1,t),this.ov(),new si(I.H(t),this)},t.prototype.doc=function(t){return Fn("Firestore.doc",arguments,1),Hn("Firestore.doc","non-empty string",1,t),this.ov(),ti._v(I.H(t),this)},t.prototype.collectionGroup=function(t){if(Fn("Firestore.collectionGroup",arguments,1),Hn("Firestore.collectionGroup","non-empty string",1,t),t.indexOf("/")>=0)throw new d(f.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this.ov(),new ii(new xt(I.Y,t),this)},t.prototype.runTransaction=function(t){var e=this;return Fn("Firestore.runTransaction",arguments,1),Hn("Firestore.runTransaction","function",1,t),this.ov().transaction((function(n){return t(new Xr(e,n))}))},t.prototype.batch=function(){return this.ov(),new Zr(this)},Object.defineProperty(t,"logLevel",{get:function(){switch(Te()){case s.LogLevel.DEBUG:return"debug";case s.LogLevel.SILENT:return"silent";default:return"error"}},enumerable:!0,configurable:!0}),t.setLogLevel=function(t){switch(Fn("Firestore.setLogLevel",arguments,1),Hn("Firestore.setLogLevel","non-empty string",1,t),t){case"debug":Se(s.LogLevel.DEBUG);break;case"error":Se(s.LogLevel.ERROR);break;case"silent":Se(s.LogLevel.SILENT);break;default:throw new d(f.INVALID_ARGUMENT,"Invalid log level: "+t)}},t.prototype.Iv=function(){return this.dv.timestampsInSnapshots},t}(),Xr=function(){function t(t,e){this.Tv=t,this.Ev=e}return t.prototype.get=function(t){var e=this;Fn("Transaction.get",arguments,1);var n=li("Transaction.get",t,this.Tv);return this.Ev.lookup([n.yv]).then((function(t){if(!t||1!==t.length)return xe("Mismatch in docs returned from document lookup.");var r=t[0];if(r instanceof At)return new ni(e.Tv,n.yv,null,!1,!1,n.Dv);if(r instanceof St)return new ni(e.Tv,n.yv,r,!1,!1,n.Dv);throw xe("BatchGetDocumentsRequest returned unexpected document type: "+r.constructor.name)}))},t.prototype.set=function(t,e,n){Bn("Transaction.set",arguments,2,3);var r=li("Transaction.set",t,this.Tv);n=ai("Transaction.set",n);var i=fi(r.Dv,e,"Transaction.set"),o=i[0],s=i[1],a=n.merge||n.mergeFields?this.Tv.vv.uf(s,o,n.mergeFields):this.Tv.vv.ef(s,o);return this.Ev.set(r.yv,a),this},t.prototype.update=function(t,e,n){for(var r,i,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];return"string"==typeof e||e instanceof lr?(qn("Transaction.update",arguments,3),r=li("Transaction.update",t,this.Tv),i=this.Tv.vv.af("Transaction.update",e,n,o)):(Fn("Transaction.update",arguments,2),r=li("Transaction.update",t,this.Tv),i=this.Tv.vv.sf("Transaction.update",e)),this.Ev.update(r.yv,i),this},t.prototype.delete=function(t){Fn("Transaction.delete",arguments,1);var e=li("Transaction.delete",t,this.Tv);return this.Ev.delete(e.yv),this},t}(),Zr=function(){function t(t){this.Tv=t,this.Rv=[],this.Sv=!1}return t.prototype.set=function(t,e,n){Bn("WriteBatch.set",arguments,2,3),this.Av();var r=li("WriteBatch.set",t,this.Tv);n=ai("WriteBatch.set",n);var i=fi(r.Dv,e,"WriteBatch.set"),o=i[0],s=i[1],a=n.merge||n.mergeFields?this.Tv.vv.uf(s,o,n.mergeFields):this.Tv.vv.ef(s,o);return this.Rv=this.Rv.concat(a.Ka(r.yv,gt.NONE)),this},t.prototype.update=function(t,e,n){for(var r,i,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];return this.Av(),"string"==typeof e||e instanceof lr?(qn("WriteBatch.update",arguments,3),r=li("WriteBatch.update",t,this.Tv),i=this.Tv.vv.af("WriteBatch.update",e,n,o)):(Fn("WriteBatch.update",arguments,2),r=li("WriteBatch.update",t,this.Tv),i=this.Tv.vv.sf("WriteBatch.update",e)),this.Rv=this.Rv.concat(i.Ka(r.yv,gt.exists(!0))),this},t.prototype.delete=function(t){Fn("WriteBatch.delete",arguments,1),this.Av();var e=li("WriteBatch.delete",t,this.Tv);return this.Rv=this.Rv.concat(new _t(e.yv,gt.NONE)),this},t.prototype.commit=function(){return this.Av(),this.Sv=!0,this.Rv.length>0?this.Tv.ov().write(this.Rv):Promise.resolve()},t.prototype.Av=function(){if(this.Sv)throw new d(f.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}(),ti=function(){function t(t,e,n){this.yv=t,this.firestore=e,this.Dv=n,this.hv=this.firestore.ov()}return t._v=function(e,n,r){if(e.length%2!=0)throw new d(f.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.J()+" has "+e.length);return new t(new S(e),n,r)},Object.defineProperty(t.prototype,"id",{get:function(){return this.yv.path.B()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new si(this.yv.path.L(),this.firestore,this.Dv)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.yv.path.J()},enumerable:!0,configurable:!0}),t.prototype.collection=function(t){if(Fn("DocumentReference.collection",arguments,1),Hn("DocumentReference.collection","non-empty string",1,t),!t)throw new d(f.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var e=I.H(t);return new si(this.yv.path.child(e),this.firestore)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw er("isEqual","DocumentReference",1,e);return this.firestore===e.firestore&&this.yv.isEqual(e.yv)&&this.Dv===e.Dv},t.prototype.set=function(t,e){Bn("DocumentReference.set",arguments,1,2),e=ai("DocumentReference.set",e);var n=fi(this.Dv,t,"DocumentReference.set"),r=n[0],i=n[1],o=e.merge||e.mergeFields?this.firestore.vv.uf(i,r,e.mergeFields):this.firestore.vv.ef(i,r);return this.hv.write(o.Ka(this.yv,gt.NONE))},t.prototype.update=function(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return"string"==typeof t||t instanceof lr?(qn("DocumentReference.update",arguments,2),n=this.firestore.vv.af("DocumentReference.update",t,e,r)):(Fn("DocumentReference.update",arguments,1),n=this.firestore.vv.sf("DocumentReference.update",t)),this.hv.write(n.Ka(this.yv,gt.exists(!0)))},t.prototype.delete=function(){return Fn("DocumentReference.delete",arguments,0),this.hv.write([new _t(this.yv,gt.NONE)])},t.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];Bn("DocumentReference.onSnapshot",arguments,1,4);var n,r={includeMetadataChanges:!1},i=0;"object"!=typeof t[i]||$r(t[i])||(tr("DocumentReference.onSnapshot",r=t[i],["includeMetadataChanges"]),$n("DocumentReference.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),i++);var o={includeMetadataChanges:r.includeMetadataChanges};return $r(t[i])?n=t[i]:(Hn("DocumentReference.onSnapshot","function",i,t[i]),Gn("DocumentReference.onSnapshot","function",i+1,t[i+1]),Gn("DocumentReference.onSnapshot","function",i+2,t[i+2]),n={next:t[i],error:t[i+1],complete:t[i+2]}),this.Cv(o,n)},t.prototype.Cv=function(t,e){var n=this,r=function(t){console.error("Uncaught Error in onSnapshot:",t)};e.error&&(r=e.error.bind(e));var i=new Wr({next:function(t){if(e.next){Oe(t.docs.size<=1,"Too many documents returned on a document query");var r=t.docs.get(n.yv);e.next(new ni(n.firestore,n.yv,r,t.fromCache,t.hasPendingWrites,n.Dv))}},error:r}),o=this.hv.listen(xt.Cn(this.yv.path),i,t);return function(){i.Yd(),n.hv.nl(o)}},t.prototype.get=function(t){var e=this;return Bn("DocumentReference.get",arguments,0,1),ci("DocumentReference.get",t),new Promise((function(n,r){t&&"cache"===t.source?e.firestore.ov().Kd(e.yv).then((function(t){n(new ni(e.firestore,e.yv,t,!0,t instanceof St&&t.nn,e.Dv))}),r):e.Pv(n,r,t)}))},t.prototype.Pv=function(t,e,n){var r=this.Cv({includeMetadataChanges:!0,Fd:!0},{next:function(i){r(),!i.exists&&i.metadata.fromCache?e(new d(f.UNAVAILABLE,"Failed to get document because the client is offline.")):i.exists&&i.metadata.fromCache&&n&&"server"===n.source?e(new d(f.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):t(i)},error:e})},t.prototype.withConverter=function(e){return new t(this.yv,this.firestore,e)},t}(),ei=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),ni=function(){function t(t,e,n,r,i,o){this.Tv=t,this.yv=e,this.Vv=n,this.kv=r,this.Nv=i,this.Dv=o}return t.prototype.data=function(t){if(Bn("DocumentSnapshot.data",arguments,0,1),t=ui("DocumentSnapshot.data",t),this.Vv){if(this.Dv){var e=new ri(this.Tv,this.yv,this.Vv,this.kv,this.Nv);return this.Dv.fromFirestore(e,t)}var n=new Kr(this.Tv,this.Tv.Iv(),t.serverTimestamps,void 0);return n.$d(this.Vv.yn())}},t.prototype.get=function(t,e){if(Bn("DocumentSnapshot.get",arguments,1,2),e=ui("DocumentSnapshot.get",e),this.Vv){var n=this.Vv.data().field(Nr("DocumentSnapshot.get",t));if(null!==n){var r=new Kr(this.Tv,this.Tv.Iv(),e.serverTimestamps,this.Dv);return r.$d(n)}}},Object.defineProperty(t.prototype,"id",{get:function(){return this.yv.path.B()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new ti(this.yv,this.Tv,this.Dv)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return null!==this.Vv},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return new ei(this.Nv,this.kv)},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){if(!(e instanceof t))throw er("isEqual","DocumentSnapshot",1,e);return this.Tv===e.Tv&&this.kv===e.kv&&this.yv.isEqual(e.yv)&&(null===this.Vv?null===e.Vv:this.Vv.isEqual(e.Vv))&&this.Dv===e.Dv},t}(),ri=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(e,t),e.prototype.data=function(e){var n=t.prototype.data.call(this,e);return Oe(void 0!==n,"Document in a QueryDocumentSnapshot should exist"),n},e}(ni),ii=function(){function t(t,e,n){this.Ov=t,this.firestore=e,this.Dv=n}return t.prototype.where=function(e,n,r){Fn("Query.where",arguments,3),Zn("Query.where",3,r);var i,o=["<","<=","==",">=",">","array-contains","in","array-contains-any"];Jn("Query.where",o,2,n);var s=Nr("Query.where",e),a=Ot.H(n);if(s.$()){if(a===Ot.ARRAY_CONTAINS||a===Ot.ARRAY_CONTAINS_ANY)throw new d(f.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+a.toString()+"' queries on FieldPath.documentId().");if(a===Ot.IN){this.Fv(r,a);for(var u=[],c=0,l=r;c<l.length;c++){var h=l[c];u.push(this.Uv(h))}i={arrayValue:{values:u}}}else i=this.Uv(r)}else a!==Ot.IN&&a!==Ot.ARRAY_CONTAINS_ANY||this.Fv(r,a),i=this.firestore.vv.ff("Query.where",r,a===Ot.IN);var p=Rt.create(s,a,i);return this.jv(p),new t(this.Ov.kn(p),this.firestore,this.Dv)},t.prototype.orderBy=function(e,n){var r;if(Bn("Query.orderBy",arguments,1,2),Gn("Query.orderBy","non-empty string",2,n),void 0===n||"asc"===n)r=Ut.ASCENDING;else{if("desc"!==n)throw new d(f.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+n+"', expected 'asc' or 'desc'.");r=Ut.DESCENDING}if(null!==this.Ov.startAt)throw new d(f.INVALID_ARGUMENT,"Invalid query. You must not call Query.startAt() or Query.startAfter() before calling Query.orderBy().");if(null!==this.Ov.endAt)throw new d(f.INVALID_ARGUMENT,"Invalid query. You must not call Query.endAt() or Query.endBefore() before calling Query.orderBy().");var i=Nr("Query.orderBy",e),o=new Ft(i,r);return this.xv(o),new t(this.Ov.On(o),this.firestore,this.Dv)},t.prototype.limit=function(e){return Fn("Query.limit",arguments,1),Hn("Query.limit","number",1,e),nr("Query.limit",1,e),new t(this.Ov.Fn(e),this.firestore,this.Dv)},t.prototype.limitToLast=function(e){return Fn("Query.limitToLast",arguments,1),Hn("Query.limitToLast","number",1,e),nr("Query.limitToLast",1,e),new t(this.Ov.Un(e),this.firestore,this.Dv)},t.prototype.startAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];qn("Query.startAt",arguments,1);var i=this.Lv("Query.startAt",e,n,!0);return new t(this.Ov.jn(i),this.firestore,this.Dv)},t.prototype.startAfter=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];qn("Query.startAfter",arguments,1);var i=this.Lv("Query.startAfter",e,n,!1);return new t(this.Ov.jn(i),this.firestore,this.Dv)},t.prototype.endBefore=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];qn("Query.endBefore",arguments,1);var i=this.Lv("Query.endBefore",e,n,!0);return new t(this.Ov.xn(i),this.firestore,this.Dv)},t.prototype.endAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];qn("Query.endAt",arguments,1);var i=this.Lv("Query.endAt",e,n,!1);return new t(this.Ov.xn(i),this.firestore,this.Dv)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw er("isEqual","Query",1,e);return this.firestore===e.firestore&&this.Ov.isEqual(e.Ov)},t.prototype.withConverter=function(e){return new t(this.Ov,this.firestore,e)},t.prototype.Lv=function(t,e,n,r){if(Zn(t,1,e),e instanceof ni){if(n.length>0)throw new d(f.INVALID_ARGUMENT,"Too many arguments provided to "+t+"().");var i=e;if(!i.exists)throw new d(f.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+t+"().");return this.Mv(i.Vv,r)}var o=[e].concat(n);return this.qv(t,o,r)},t.prototype.Mv=function(t,e){for(var n=[],r=0,i=this.Ov.orderBy;r<i.length;r++){var o=i[r];if(o.field.$())n.push(X(this.firestore.rv,t.key));else{var s=t.field(o.field);if(F(s))throw new d(f.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+o.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===s){var a=o.field.J();throw new d(f.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+a+"' (used as the orderBy) does not exist.")}n.push(s)}}return new jt(n,e)},t.prototype.qv=function(t,e,n){var r=this.Ov.En;if(e.length>r.length)throw new d(f.INVALID_ARGUMENT,"Too many arguments provided to "+t+"(). The number of arguments must be less than or equal to the number of Query.orderBy() clauses");for(var i=[],o=0;o<e.length;o++){var s=e[o];if(r[o].field.$()){if("string"!=typeof s)throw new d(f.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+t+"(), but got a "+typeof s);if(!this.Ov.Yn()&&-1!==s.indexOf("/"))throw new d(f.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+t+"() must be a plain document ID, but '"+s+"' contains a slash.");var a=this.Ov.path.child(I.H(s));if(!S.nt(a))throw new d(f.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+t+"() must result in a valid document path, but '"+a+"' is not because it contains an odd number of segments.");var u=new S(a);i.push(X(this.firestore.rv,u))}else{var c=this.firestore.vv.ff(t,s);i.push(c)}}return new jt(i,n)},t.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];Bn("Query.onSnapshot",arguments,1,4);var n,r={},i=0;return"object"!=typeof t[i]||$r(t[i])||(tr("Query.onSnapshot",r=t[i],["includeMetadataChanges"]),$n("Query.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),i++),$r(t[i])?n=t[i]:(Hn("Query.onSnapshot","function",i,t[i]),Gn("Query.onSnapshot","function",i+1,t[i+1]),Gn("Query.onSnapshot","function",i+2,t[i+2]),n={next:t[i],error:t[i+1],complete:t[i+2]}),this.Bv(this.Ov),this.Cv(r,n)},t.prototype.Cv=function(t,e){var n=this,r=function(t){console.error("Uncaught Error in onSnapshot:",t)};e.error&&(r=e.error.bind(e));var i=new Wr({next:function(t){e.next&&e.next(new oi(n.firestore,n.Ov,t,n.Dv))},error:r}),o=this.firestore.ov(),s=o.listen(this.Ov,i,t);return function(){i.Yd(),o.nl(s)}},t.prototype.Bv=function(t){if(t.Jn()&&0===t.En.length)throw new d(f.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")},t.prototype.get=function(t){var e=this;return Bn("Query.get",arguments,0,1),ci("Query.get",t),this.Bv(this.Ov),new Promise((function(n,r){t&&"cache"===t.source?e.firestore.ov().Jd(e.Ov).then((function(t){n(new oi(e.firestore,e.Ov,t,e.Dv))}),r):e.Pv(n,r,t)}))},t.prototype.Pv=function(t,e,n){var r=this.Cv({includeMetadataChanges:!0,Fd:!0},{next:function(i){r(),i.metadata.fromCache&&n&&"server"===n.source?e(new d(f.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):t(i)},error:e})},t.prototype.Uv=function(t){if("string"==typeof t){if(""===t)throw new d(f.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!this.Ov.Yn()&&-1!==t.indexOf("/"))throw new d(f.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+t+"' contains a '/' character.");var e=this.Ov.path.child(I.H(t));if(!S.nt(e))throw new d(f.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+e+"' is not because it has an odd number of segments ("+e.length+").");return X(this.firestore.rv,new S(e))}if(t instanceof ti)return X(this.firestore.rv,t.yv);throw new d(f.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Xn(t)+".")},t.prototype.Fv=function(t,e){if(!Array.isArray(t)||0===t.length)throw new d(f.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new d(f.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.");if(t.indexOf(null)>=0)throw new d(f.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'null' in the value array.");if(t.filter((function(t){return Number.isNaN(t)})).length>0)throw new d(f.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'NaN' in the value array.")},t.prototype.jv=function(t){if(t instanceof Rt){var e=[Ot.ARRAY_CONTAINS,Ot.ARRAY_CONTAINS_ANY],n=[Ot.IN,Ot.ARRAY_CONTAINS_ANY],r=e.indexOf(t.op)>=0,i=n.indexOf(t.op)>=0;if(t.Nn()){var o=this.Ov.Pn();if(null!==o&&!o.isEqual(t.field))throw new d(f.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+o.toString()+"' and '"+t.field.toString()+"'");var s=this.Ov.Vn();null!==s&&this.Qv(t.field,s)}else if(i||r){var a=null;if(i&&(a=this.Ov.Hn(n)),null===a&&r&&(a=this.Ov.Hn(e)),null!=a)throw new d(f.INVALID_ARGUMENT,a===t.op?"Invalid query. You cannot use more than one '"+t.op.toString()+"' filter.":"Invalid query. You cannot use '"+t.op.toString()+"' filters with '"+a.toString()+"' filters.")}}},t.prototype.xv=function(t){if(null===this.Ov.Vn()){var e=this.Ov.Pn();null!==e&&this.Qv(e,t.field)}},t.prototype.Qv=function(t,e){if(!e.isEqual(t))throw new d(f.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first Query.orderBy(), but your first Query.orderBy() is on field '"+e.toString()+"' instead.")},t}(),oi=function(){function t(t,e,n,r){this.Tv=t,this.Gv=e,this.Wv=n,this.Dv=r,this.zv=null,this.Kv=null,this.metadata=new ei(n.hasPendingWrites,n.fromCache)}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this.Wv.docs.M()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.Wv.docs.size},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;Bn("QuerySnapshot.forEach",arguments,1,2),Hn("QuerySnapshot.forEach","function",1,t),this.Wv.docs.forEach((function(r){t.call(e,n.Jv(r))}))},Object.defineProperty(t.prototype,"query",{get:function(){return new ii(this.Gv,this.Tv,this.Dv)},enumerable:!0,configurable:!0}),t.prototype.docChanges=function(t){t&&(tr("QuerySnapshot.docChanges",t,["includeMetadataChanges"]),$n("QuerySnapshot.docChanges","boolean","includeMetadataChanges",t.includeMetadataChanges));var e=!(!t||!t.includeMetadataChanges);if(e&&this.Wv.di)throw new d(f.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.zv&&this.Kv===e||(this.zv=function(t,e,n,r){if(n.ai.M()){var i,o=0;return n.docChanges.map((function(e){var s=new ri(t,e.doc.key,e.doc,n.fromCache,n.fi.has(e.doc.key),r);return Oe(0===e.type,"Invalid event type for first snapshot"),Oe(!i||n.query.Bn(i,e.doc)<0,"Got added events in wrong order"),i=e.doc,{type:"added",doc:s,oldIndex:-1,newIndex:o++}}))}var s=n.ai;return n.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var i=new ri(t,e.doc.key,e.doc,n.fromCache,n.fi.has(e.doc.key),r),o=-1,a=-1;return 0!==e.type&&(Oe((o=s.indexOf(e.doc.key))>=0,"Index for document not found"),s=s.delete(e.doc.key)),1!==e.type&&(a=(s=s.add(e.doc)).indexOf(e.doc.key)),{type:hi(e.type),doc:i,oldIndex:o,newIndex:a}}))}(this.Tv,e,this.Wv,this.Dv),this.Kv=e),this.zv},t.prototype.isEqual=function(e){if(!(e instanceof t))throw er("isEqual","QuerySnapshot",1,e);return this.Tv===e.Tv&&this.Gv.isEqual(e.Gv)&&this.Wv.isEqual(e.Wv)&&this.Dv===e.Dv},t.prototype.Jv=function(t){return new ri(this.Tv,t.key,t,this.metadata.fromCache,this.Wv.fi.has(t.key),this.Dv)},t}();o.__spreadArrays(["length","forEach","map"],"undefined"!=typeof Symbol?[Symbol.iterator]:[]).forEach((function(t){try{Object.defineProperty(oi.prototype.docChanges,t,{get:function(){return function(){throw new d(f.INVALID_ARGUMENT,'QuerySnapshot.docChanges has been changed from a property into a method, so usages like "querySnapshot.docChanges" should become "querySnapshot.docChanges()"')}()}})}catch(t){}}));var si=function(t){function e(e,n,r){var i=t.call(this,xt.Cn(e),n,r)||this;if(i.Hv=e,e.length%2!=1)throw new d(f.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e.J()+" has "+e.length);return i}return o.__extends(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.Ov.path.B()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.Ov.path.L();return t.M()?null:new ti(new S(t),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.Ov.path.J()},enumerable:!0,configurable:!0}),e.prototype.doc=function(t){if(Bn("CollectionReference.doc",arguments,0,1),0===arguments.length&&(t=Re.pr()),Hn("CollectionReference.doc","non-empty string",1,t),""===t)throw new d(f.INVALID_ARGUMENT,"Document path must be a non-empty string");var e=I.H(t);return ti._v(this.Ov.path.child(e),this.firestore,this.Dv)},e.prototype.add=function(t){Fn("CollectionReference.add",arguments,1);var e=this.Dv?this.Dv.toFirestore(t):t;Hn("CollectionReference.add","object",1,e);var n=this.doc();return n.set(t).then((function(){return n}))},e.prototype.withConverter=function(t){return new e(this.Hv,this.firestore,t)},e}(ii);function ai(t,e){if(void 0===e)return{merge:!1};if(tr(t,e,["merge","mergeFields"]),$n(t,"boolean","merge",e.merge),function(t,e,n,r,i){void 0!==r&&function(t,e,n,r,i){if(!(r instanceof Array))throw new d(f.INVALID_ARGUMENT,"Function "+t+"() requires its "+e+" option to be an array, but it was: "+Xn(r));for(var o=0;o<r.length;++o)if(!i(r[o]))throw new d(f.INVALID_ARGUMENT,"Function "+t+"() requires all "+e+" elements to be a string or a FieldPath, but the value at index "+o+" was: "+Xn(r[o]))}(t,"mergeFields",0,r,(function(t){return"string"==typeof t||t instanceof lr}))}(t,0,0,e.mergeFields),void 0!==e.mergeFields&&void 0!==e.merge)throw new d(f.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function ui(t,e){return void 0===e?{}:(tr(t,e,["serverTimestamps"]),Kn(t,0,"serverTimestamps",e.serverTimestamps,["estimate","previous","none"]),e)}function ci(t,e){Gn(t,"object",1,e),e&&(tr(t,e,["source"]),Kn(t,0,"source",e.source,["default","server","cache"]))}function li(t,e,n){if(e instanceof ti){if(e.firestore!==n)throw new d(f.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}throw er(t,"DocumentReference",1,e)}function hi(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xe("Unknown change type: "+t)}}function fi(t,e,n){var r;return t?(r=t.toFirestore(e),n="toFirestore() in "+n):r=e,[r,n]}function di(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var pi=or(Qr,"Use firebase.firestore() instead."),mi=or(Xr,"Use firebase.firestore().runTransaction() instead."),gi=or(Zr,"Use firebase.firestore().batch() instead."),vi=or(ti,"Use firebase.firestore().doc() instead."),yi=or(ni),wi=or(ri),bi=or(ii),_i=or(oi),Ei=or(si,"Use firebase.firestore().collection() instead."),Ii=function(){function t(e){this.db=e,12.2===t.Yv(a.getUA())&&ke("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.Xv=function(e,n,r){return Oe(t.th(),"IndexedDB not supported in current environment."),Ae("SimpleDb","Opening database:",e),new We((function(i,o){var s=window.indexedDB.open(e,n);s.onsuccess=function(e){i(new t(e.target.result))},s.onblocked=function(){o(new d(f.FAILED_PRECONDITION,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=function(t){var e=t.target.error;o("VersionError"===e.name?new d(f.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):e)},s.onupgradeneeded=function(t){Ae("SimpleDb",'Database "'+e+'" requires upgrade from version:',t.oldVersion),r.createOrUpgrade(t.target.result,s.transaction,t.oldVersion,Wi).next((function(){Ae("SimpleDb","Database upgrade to version "+Wi+" complete")}))}})).wu()},t.delete=function(t){return Ae("SimpleDb","Removing database:",t),Ai(window.indexedDB.deleteDatabase(t)).wu()},t.th=function(){if("undefined"==typeof window||null==window.indexedDB)return!1;if(t.$v())return!0;if(void 0===window.navigator)return!1;var e=a.getUA(),n=t.Yv(e),r=0<n&&n<10,i=t.Zv(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.$v=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.tw)},t.nw=function(t,e){return t.store(e)},t.Yv=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Zv=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.iw=function(t){this.db.onversionchange=function(e){return t(e)}},t.prototype.runTransaction=function(t,e,n){return o.__awaiter(this,void 0,void 0,(function(){var r,i,s,a,u;return o.__generator(this,(function(c){switch(c.label){case 0:r="readonly"===t,i=0,s=function(){var t,s,u,c;return o.__generator(this,(function(o){switch(o.label){case 0:++i,t=Ti.open(a.db,r?"readonly":"readwrite",e),o.label=1;case 1:return o.trys.push([1,3,,4]),(s=n(t).catch((function(e){return t.abort(e),We.reject(e)})).wu()).catch((function(){})),[4,t.ew];case 2:return o.sent(),[2,{value:s}];case 3:return Ae("SimpleDb","Transaction failed with error: %s. Retrying: %s.",(u=o.sent()).message,c="FirebaseError"!==u.name&&i<3),c?[3,4]:[2,{value:Promise.reject(u)}];case 4:return[2]}}))},a=this,c.label=1;case 1:return[5,s()];case 2:return"object"==typeof(u=c.sent())?[2,u.value]:[3,1];case 3:return[2]}}))}))},t.prototype.close=function(){this.db.close()},t}(),Ci=function(){function t(t){this.rw=t,this.uw=!1,this.sw=null}return Object.defineProperty(t.prototype,"fu",{get:function(){return this.uw},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ow",{get:function(){return this.sw},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.rw=t},enumerable:!0,configurable:!0}),t.prototype.done=function(){this.uw=!0},t.prototype.hw=function(t){this.sw=t},t.prototype.delete=function(){return Ai(this.rw.delete())},t}(),Ti=function(){function t(t){var e=this;this.transaction=t,this.aborted=!1,this.cw=new ze,this.transaction.oncomplete=function(){e.cw.resolve()},this.transaction.onabort=function(){t.error?e.cw.reject(t.error):e.cw.resolve()},this.transaction.onerror=function(t){var n=Ni(t.target.error);e.cw.reject(n)}}return t.open=function(e,n,r){return new t(e.transaction(r,n))},Object.defineProperty(t.prototype,"ew",{get:function(){return this.cw.promise},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){t&&this.cw.reject(t),this.aborted||(Ae("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return Oe(!!e,"Object store not part of transaction: "+t),new Si(e)},t}(),Si=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(Ae("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(Ae("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Ai(n)},t.prototype.add=function(t){return Ae("SimpleDb","ADD",this.store.name,t,t),Ai(this.store.add(t))},t.prototype.get=function(t){var e=this;return Ai(this.store.get(t)).next((function(n){return void 0===n&&(n=null),Ae("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return Ae("SimpleDb","DELETE",this.store.name,t),Ai(this.store.delete(t))},t.prototype.count=function(){return Ae("SimpleDb","COUNT",this.store.name),Ai(this.store.count())},t.prototype.aw=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.fw(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.lw=function(t,e){Ae("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.dw=!1;var r=this.cursor(n);return this.fw(r,(function(t,e,n){return n.delete()}))},t.prototype.vw=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.fw(r,e)},t.prototype.ww=function(t){var e=this.cursor({});return new We((function(n,r){e.onerror=function(t){var e=Ni(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.fw=function(t,e){var n=[];return new We((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new Ci(i),s=e(i.primaryKey,i.value,o);if(s instanceof We){var a=s.catch((function(t){return o.done(),We.reject(t)}));n.push(a)}o.fu?r():null===o.ow?i.continue():i.continue(o.ow)}else r()}})).next((function(){return We.pu(n)}))},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:(Oe(void 0===e,"3rd argument must not be defined if 2nd is a range."),e=t)),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.dw?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Ai(t){return new We((function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=Ni(t.target.error);n(e)}}))}var ki=!1;function Ni(t){var e=Ii.Yv(a.getUA());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new d("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return ki||(ki=!0,setTimeout((function(){throw r}),0)),r}}return t}var xi=function(){function t(t,e,n,r){this.userId=t,this.serializer=e,this.Bh=n,this.Cs=r,this.mw={}}return t.pw=function(e,n,r,i){return Oe(""!==e.uid,"UserID must not be an empty string."),new t(e.t()?e.uid:"",n,r,i)},t.prototype.oc=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Di(t).vw({index:Qi.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.Ys=function(t,e,n){return this.bw(t).next((function(e){return e.lastStreamToken=n.toBase64(),Li(t).put(e)}))},t.prototype.uo=function(t){return this.bw(t).next((function(t){return M.fromBase64String(t.lastStreamToken)}))},t.prototype.so=function(t,e){return this.bw(t).next((function(n){return n.lastStreamToken=e.toBase64(),Li(t).put(n)}))},t.prototype.Ks=function(t,e,n,r){var i=this,o=Pi(t),s=Di(t);return s.add({}).next((function(a){Oe("number"==typeof a,"Auto-generated key is not a number");for(var u=new Ue(a,e,n,r),c=i.serializer.gw(i.userId,u),l=[],h=new O((function(t,e){return De(t.J(),e.J())})),f=0,d=r;f<d.length;f++){var p=d[f],m=Xi.key(i.userId,p.key.path,a);h=h.add(p.key.path.L()),l.push(s.put(c)),l.push(o.put(m,Xi.PLACEHOLDER))}return h.forEach((function(e){l.push(i.Bh.rc(t,e))})),t.Lh((function(){i.mw[a]=u.keys()})),We.pu(l).next((function(){return u}))}))},t.prototype.io=function(t,e){var n=this;return Di(t).get(e).next((function(t){return t?(Oe(t.userId===n.userId,"Unexpected user '"+t.userId+"' for mutation batch "+e),n.serializer.yw(t)):null}))},t.prototype.Hs=function(t,e){var n=this;return this.mw[e]?We.resolve(this.mw[e]):this.io(t,e).next((function(t){if(t){var r=t.keys();return n.mw[e]=r,r}return null}))},t.prototype._o=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Di(t).vw({index:Qi.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(Oe(e.batchId>=r,"Should have found mutation after "+r),o=n.serializer.yw(e)),i.done()})).next((function(){return o}))},t.prototype.ro=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Di(t).vw({index:Qi.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.qs=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Di(t).aw(Qi.userMutationsIndex,n).next((function(t){return t.map((function(t){return e.serializer.yw(t)}))}))},t.prototype.Qh=function(t,e){var n=this,r=Xi.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return Pi(t).vw({range:i},(function(r,i,s){var a=r[0],u=r[2],c=En(r[1]);if(a===n.userId&&e.path.isEqual(c))return Di(t).get(u).next((function(t){if(!t)throw xe("Dangling document-mutation reference found: "+r+" which points to "+u);Oe(t.userId===n.userId,"Unexpected user '"+t.userId+"' for mutation batch "+u),o.push(n.serializer.yw(t))}));s.done()})).next((function(){return o}))},t.prototype.zh=function(t,e){var n=this,r=new O(De),i=[];return e.forEach((function(e){var o=Xi.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=Pi(t).vw({range:s},(function(t,i,o){var s=t[0],a=t[2],u=En(t[1]);s===n.userId&&e.path.isEqual(u)?r=r.add(a):o.done()}));i.push(a)})),We.pu(i).next((function(){return n._w(t,r)}))},t.prototype.Xh=function(t,e){var n=this;Oe(!e.Tn(),"Document queries shouldn't go down this path"),Oe(!e.Yn(),"CollectionGroup queries should be handled in LocalDocumentsView");var r=e.path,i=r.length+1,o=Xi.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new O(De);return Pi(t).vw({range:s},(function(t,e,o){var s=t[0],u=t[2],c=En(t[1]);s===n.userId&&r.G(c)?c.length===i&&(a=a.add(u)):o.done()})).next((function(){return n._w(t,a)}))},t.prototype._w=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(Di(t).get(e).next((function(t){if(null===t)throw xe("Dangling document-mutation reference found, which points to "+e);Oe(t.userId===n.userId,"Unexpected user '"+t.userId+"' for mutation batch "+e),r.push(n.serializer.yw(t))})))})),We.pu(i).next((function(){return r}))},t.prototype.eo=function(t,e){var n=this;return Ri(t.Iw,this.userId,e).next((function(r){return t.Lh((function(){n.Uo(e.batchId)})),We.forEach(r,(function(e){return n.Cs.lc(t,e)}))}))},t.prototype.Uo=function(t){delete this.mw[t]},t.prototype.to=function(t){var e=this;return this.oc(t).next((function(n){if(!n)return We.resolve();var r=IDBKeyRange.lowerBound(Xi.prefixForUser(e.userId)),i=[];return Pi(t).vw({range:r},(function(t,n,r){if(t[0]===e.userId){var o=En(t[1]);i.push(o)}else r.done()})).next((function(){Oe(0===i.length,"Document leak -- detected dangling mutation references when queue is empty. Dangling keys: "+i.map((function(t){return t.J()})))}))}))},t.prototype.fs=function(t,e){return Oi(t,this.userId,e)},t.prototype.bw=function(t){var e=this;return Li(t).get(this.userId).next((function(t){return t||new Yi(e.userId,-1,"")}))},t}();function Oi(t,e,n){var r=Xi.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return Pi(t).vw({range:o,dw:!0},(function(t,n,r){t[0]===e&&t[1]===i&&(s=!0),r.done()})).next((function(){return s}))}function Ri(t,e,n){var r=t.store(Qi.store),i=t.store(Xi.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=r.vw({range:s},(function(t,e,n){return a++,n.delete()}));o.push(u.next((function(){Oe(1===a,"Dangling document-mutation reference found: Missing batch "+n.batchId)})));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=Xi.key(e,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return We.pu(o).next((function(){return c}))}function Di(t){return yo.nw(t,Qi.store)}function Pi(t){return yo.nw(t,Xi.store)}function Li(t){return yo.nw(t,Yi.store)}var Mi=function(){function t(t,e){this.Cs=t,this.serializer=e,this.Sc=An.Ic()}return t.prototype.Ro=function(t){var e=this;return this.Tw(t).next((function(n){return n.highestTargetId=e.Sc.after(n.highestTargetId),e.Ew(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.oo=function(t){return this.Tw(t).next((function(t){return _.P(new b(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.Ac=function(t){return ji(t.Iw)},t.prototype.wo=function(t,e,n){var r=this;return this.Tw(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.O()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Ew(t,i)}))},t.prototype.So=function(t,e){var n=this;return this.Cc(t,e).next((function(){return n.Tw(t).next((function(r){return r.targetCount+=1,n.Dw(e,r),n.Ew(t,r)}))}))},t.prototype.do=function(t,e){return this.Cc(t,e)},t.prototype.Pc=function(t,e){var n=this;return this.Vc(t,e.targetId).next((function(){return Vi(t).delete(e.targetId)})).next((function(){return n.Tw(t)})).next((function(e){return Oe(e.targetCount>0,"Removing from an empty target cache"),e.targetCount-=1,n.Ew(t,e)}))},t.prototype.Ju=function(t,e,n){var r=this,i=0,o=[];return Vi(t).vw((function(s,a){var u=r.serializer.Rw(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.Pc(t,u)))})).next((function(){return We.pu(o)})).next((function(){return i}))},t.prototype.$i=function(t,e){var n=this;return Vi(t).vw((function(t,r){var i=n.serializer.Rw(r);e(i)}))},t.prototype.Tw=function(t){return Ui(t.Iw)},t.prototype.Ew=function(t,e){return(n=t,yo.nw(n,oo.store)).put(oo.key,e);var n},t.prototype.Cc=function(t,e){return Vi(t).put(this.serializer.Sw(e))},t.prototype.Dw=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.kc=function(t){return this.Tw(t).next((function(t){return t.targetCount}))},t.prototype.Do=function(t,e){var n=this,r=e.canonicalId(),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),o=null;return Vi(t).vw({range:i,index:ro.queryTargetsIndexName},(function(t,r,i){var s=n.serializer.Rw(r);e.isEqual(s.target)&&(o=s,i.done())})).next((function(){return o}))},t.prototype.ao=function(t,e,n){var r=this,i=[],o=Fi(t);return e.forEach((function(e){var s=wn(e.path);i.push(o.put(new io(n,s))),i.push(r.Cs.es(t,e))})),We.pu(i)},t.prototype.co=function(t,e,n){var r=this,i=Fi(t);return We.forEach(e,(function(e){var o=wn(e.path);return We.pu([i.delete([n,o]),r.Cs.us(t,e)])}))},t.prototype.Vc=function(t,e){var n=Fi(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.Po=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Fi(t),i=ee();return r.vw({range:n,dw:!0},(function(t,e,n){var r=En(t[1]),o=new S(r);i=i.add(o)})).next((function(){return i}))},t.prototype.fs=function(t,e){var n=wn(e.path),r=IDBKeyRange.bound([n],[Le(n)],!1,!0),i=0;return Fi(t).vw({index:io.documentTargetsIndex,dw:!0,range:r},(function(t,e,n){0!==t[0]&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.ce=function(t,e){var n=this;return Vi(t).get(e).next((function(t){return t?n.serializer.Rw(t):null}))},t}();function Vi(t){return yo.nw(t,ro.store)}function Ui(t){return Ii.nw(t,oo.store).get(oo.key).next((function(t){return Oe(null!==t,"Missing metadata row."),t}))}function ji(t){return Ui(t).next((function(t){return t.highestListenSequenceNumber}))}function Fi(t){return yo.nw(t,io.store)}var qi=function(){function t(t,e){this.serializer=t,this.Bh=e}return t.prototype.ms=function(t,e,n){return zi(t).put(Hi(e),n)},t.prototype.bs=function(t,e){var n=zi(t),r=Hi(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.Aw(t,r)}))},t.prototype.gs=function(t,e){var n=this;return zi(t).get(Hi(e)).next((function(t){return n.Cw(t)}))},t.prototype.Pw=function(t,e){var n=this;return zi(t).get(Hi(e)).next((function(t){var e=n.Cw(t);return e?{vc:e,size:Gi(t)}:null}))},t.prototype.getEntries=function(t,e){var n=this,r=Jt();return this.Vw(t,e,(function(t,e){var i=n.Cw(e);r=r.ut(t,i)})).next((function(){return r}))},t.prototype.kw=function(t,e){var n=this,r=Jt(),i=new A(S.F);return this.Vw(t,e,(function(t,e){var o=n.Cw(e);o?(r=r.ut(t,o),i=i.ut(t,Gi(e))):(r=r.ut(t,null),i=i.ut(t,0))})).next((function(){return{Nw:r,Ow:i}}))},t.prototype.Vw=function(t,e,n){if(e.M())return We.resolve();var r=IDBKeyRange.bound(e.first().path.K(),e.last().path.K()),i=e.ft(),o=i.bt();return zi(t).vw({range:r},(function(t,e,r){for(var s=S.rt(t);o&&S.F(o,s)<0;)n(o,null),o=i.bt();o&&o.isEqual(s)&&(n(o,e),o=i.gt()?i.bt():null),o?r.hw(o.path.K()):r.done()})).next((function(){for(;o;)n(o,null),o=i.gt()?i.bt():null}))},t.prototype.Vo=function(t,e,n){var r=this;Oe(!e.Yn(),"CollectionGroup queries should be handled in LocalDocumentsView");var i=Qt(),o=e.path.length+1,s={};if(n.isEqual(_.MIN)){var a=e.path.K();s.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.K(),c=this.serializer.Fw(n);s.range=IDBKeyRange.lowerBound([u,c],!0),s.index=eo.collectionReadTimeIndex}return zi(t).vw(s,(function(t,n,s){if(t.length===o){var a=r.serializer.Uw(n);e.path.G(a.key.path)?a instanceof St&&e.matches(a)&&(i=i.ut(a.key,a)):s.done()}})).next((function(){return i}))},t.prototype.Lo=function(t,e){var n=this,r=Kt(),i=this.serializer.Fw(e),o=zi(t),s=IDBKeyRange.lowerBound(i,!0);return o.vw({index:eo.readTimeIndex,range:s},(function(t,e){var o=n.serializer.Uw(e);r=r.ut(o.key,o),i=e.readTime})).next((function(){return{Mo:r,readTime:n.serializer.jw(i)}}))},t.prototype.qo=function(t){var e=this,n=zi(t),r=_.MIN;return n.vw({index:eo.readTimeIndex,reverse:!0},(function(t,n,i){n.readTime&&(r=e.serializer.jw(n.readTime)),i.done()})).next((function(){return r}))},t.prototype.Xs=function(e){return new t.mc(this,!!e&&e.$s)},t.prototype.pc=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return Bi(t).get(no.key).next((function(t){return Oe(!!t,"Missing document cache metadata"),t}))},t.prototype.Aw=function(t,e){return Bi(t).put(no.key,e)},t.prototype.Cw=function(t){if(t){var e=this.serializer.Uw(t);return e instanceof At&&e.version.isEqual(_.V())?null:e}return null},t.mc=function(t){function e(e,n){var r=t.call(this)||this;return r.bc=e,r.$s=n,r.xw=new Fe((function(t){return t.toString()})),r}return o.__extends(e,t),e.prototype.Is=function(t){var e=this,n=[],r=0,i=new O((function(t,e){return De(t.J(),e.J())}));return this.ds.forEach((function(o,s){var a=e.xw.get(o);if(Oe(void 0!==a,"Cannot modify a document that wasn't read (for "+o+")"),s){Oe(!e.readTime.isEqual(_.MIN),"Cannot add a document with a read time of zero");var u=e.bc.serializer.Lw(s,e.readTime);i=i.add(o.path.L());var c=Gi(u);r+=c-a,n.push(e.bc.ms(t,o,u))}else if(r-=a,e.$s){var l=e.bc.serializer.Lw(new At(o,_.V()),e.readTime);n.push(e.bc.ms(t,o,l))}else n.push(e.bc.bs(t,o))})),i.forEach((function(r){n.push(e.bc.Bh.rc(t,r))})),n.push(this.bc.updateMetadata(t,r)),We.pu(n)},e.prototype.ys=function(t,e){var n=this;return this.bc.Pw(t,e).next((function(t){return null===t?(n.xw.set(e,0),null):(n.xw.set(e,t.size),t.vc)}))},e.prototype._s=function(t,e){var n=this;return this.bc.kw(t,e).next((function(t){var e=t.Nw;return t.Ow.forEach((function(t,e){n.xw.set(t,e)})),e}))},e}(en),t}();function Bi(t){return yo.nw(t,no.store)}function zi(t){return yo.nw(t,eo.store)}function Hi(t){return t.path.K()}function Gi(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw xe("Unknown remote document type");e=t.noDocument}return JSON.stringify(e).length}var Wi=10,$i=function(){function t(t){this.serializer=t}return t.prototype.createOrUpgrade=function(t,e,n,r){var i=this;Oe(n<r&&n>=0&&r<=Wi,"Unexpected schema upgrade from v"+n+" to v"+r+".");var o=new Ti(e);n<1&&r>=1&&(function(t){t.createObjectStore(Ji.store)}(t),function(t){t.createObjectStore(Yi.store,{keyPath:Yi.keyPath}),t.createObjectStore(Qi.store,{keyPath:Qi.keyPath,autoIncrement:!0}).createIndex(Qi.userMutationsIndex,Qi.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Xi.store)}(t),ao(t),function(t){t.createObjectStore(eo.store)}(t));var s=We.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(io.store),t.deleteObjectStore(ro.store),t.deleteObjectStore(oo.store)}(t),ao(t)),s=s.next((function(){return function(t){var e=t.store(oo.store),n=new oo(0,0,_.MIN.O(),0);return e.put(oo.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(s=s.next((function(){return function(t,e){return e.store(Qi.store).aw().next((function(n){t.deleteObjectStore(Qi.store),t.createObjectStore(Qi.store,{keyPath:Qi.keyPath,autoIncrement:!0}).createIndex(Qi.userMutationsIndex,Qi.userMutationsKeyPath,{unique:!0});var r=e.store(Qi.store),i=n.map((function(t){return r.put(t)}));return We.pu(i)}))}(t,o)}))),s=s.next((function(){!function(t){t.createObjectStore(uo.store,{keyPath:uo.keyPath})}(t)}))),n<5&&r>=5&&(s=s.next((function(){return i.removeAcknowledgedMutations(o)}))),n<6&&r>=6&&(s=s.next((function(){return function(t){t.createObjectStore(no.store)}(t),i.addDocumentGlobal(o)}))),n<7&&r>=7&&(s=s.next((function(){return i.ensureSequenceNumbers(o)}))),n<8&&r>=8&&(s=s.next((function(){return i.createCollectionParentIndex(t,o)}))),n<9&&r>=9&&(s=s.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(eo.store);e.createIndex(eo.readTimeIndex,eo.readTimeIndexPath,{unique:!1}),e.createIndex(eo.collectionReadTimeIndex,eo.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(s=s.next((function(){return i.rewriteCanonicalIds(o)}))),s},t.prototype.addDocumentGlobal=function(t){var e=0;return t.store(eo.store).vw((function(t,n){e+=Gi(n)})).next((function(){var n=new no(e);return t.store(no.store).put(no.key,n)}))},t.prototype.removeAcknowledgedMutations=function(t){var e=this,n=t.store(Yi.store),r=t.store(Qi.store);return n.aw().next((function(n){return We.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.aw(Qi.userMutationsIndex,i).next((function(r){return We.forEach(r,(function(r){Oe(r.userId===n.userId,"Cannot process batch "+r.batchId+" from unexpected user");var i=e.serializer.yw(r);return Ri(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.ensureSequenceNumbers=function(t){var e=t.store(io.store),n=t.store(eo.store);return ji(t).next((function(t){var r=[];return n.vw((function(n,i){var o=new I(n),s=function(t){return[0,wn(t)]}(o);r.push(e.get(s).next((function(n){return n?We.resolve():function(n){return e.put(new io(0,wn(n),t))}(o)})))})).next((function(){return We.pu(r)}))}))},t.prototype.createCollectionParentIndex=function(t,e){t.createObjectStore(so.store,{keyPath:so.keyPath});var n=e.store(so.store),r=new Cn,i=function(t){if(r.add(t)){var e=t.B(),i=t.L();return n.put({collectionId:e,parent:wn(i)})}};return e.store(eo.store).vw({dw:!0},(function(t,e){var n=new I(t);return i(n.L())})).next((function(){return e.store(Xi.store).vw({dw:!0},(function(t,e){var n=En(t[1]);return i(n.L())}))}))},t.prototype.rewriteCanonicalIds=function(t){var e=this,n=t.store(ro.store);return n.vw((function(t,r){var i=e.serializer.Rw(r),o=e.serializer.Sw(i);return n.put(o)}))},t}(),Ki=function(t,e){this.seconds=t,this.nanoseconds=e},Ji=function(){function t(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n}return t.store="owner",t.key="owner",t}(),Yi=function(){function t(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n}return t.store="mutationQueues",t.keyPath="userId",t}(),Qi=function(){function t(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i}return t.store="mutations",t.keyPath="batchId",t.userMutationsIndex="userMutationsIndex",t.userMutationsKeyPath=["userId","batchId"],t}(),Xi=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,wn(e)]},t.key=function(t,e,n){return[t,wn(e),n]},t.store="documentMutations",t.PLACEHOLDER=new t,t}(),Zi=function(t,e){this.path=t,this.readTime=e},to=function(t,e){this.path=t,this.version=e},eo=function(){function t(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o}return t.store="remoteDocuments",t.readTimeIndex="readTimeIndex",t.readTimeIndexPath="readTime",t.collectionReadTimeIndex="collectionReadTimeIndex",t.collectionReadTimeIndexPath=["parentPath","readTime"],t}(),no=function(){function t(t){this.byteSize=t}return t.store="remoteDocumentGlobal",t.key="remoteDocumentGlobalKey",t}(),ro=function(){function t(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s}return t.store="targets",t.keyPath="targetId",t.queryTargetsIndexName="queryTargetsIndex",t.queryTargetsKeyPath=["canonicalId","targetId"],t}(),io=function(){function t(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n,Oe(0===t==(void 0!==n),"A target-document row must either have targetId == 0 and a defined sequence number, or a non-zero targetId and no sequence number")}return t.store="targetDocuments",t.keyPath=["targetId","path"],t.documentTargetsIndex="documentTargetsIndex",t.documentTargetsKeyPath=["path","targetId"],t}(),oo=function(){function t(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r}return t.key="targetGlobalKey",t.store="targetGlobal",t}(),so=function(){function t(t,e){this.collectionId=t,this.parent=e}return t.store="collectionParents",t.keyPath=["collectionId","parent"],t}();function ao(t){t.createObjectStore(io.store,{keyPath:io.keyPath}).createIndex(io.documentTargetsIndex,io.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(ro.store,{keyPath:ro.keyPath}).createIndex(ro.queryTargetsIndexName,ro.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(oo.store)}var uo=function(){function t(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r}return t.store="clientMetadata",t.keyPath="clientId",t}(),co=o.__spreadArrays([Yi.store,Qi.store,Xi.store,eo.store,ro.store,Ji.store,oo.store,io.store],[uo.store]),lo=o.__spreadArrays(co,[no.store]),ho=o.__spreadArrays(lo,[so.store]),fo=function(){function t(){this.Mw=new Cn}return t.prototype.rc=function(t,e){var n=this;if(Oe(e.length%2==1,"Expected a collection path."),!this.Mw.has(e)){var r=e.B(),i=e.L();t.Lh((function(){n.Mw.add(e)}));var o={collectionId:r,parent:wn(i)};return po(t).put(o)}return We.resolve()},t.prototype.Yh=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Le(e),""],!1,!0);return po(t).aw(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(En(o.parent))}return n}))},t}();function po(t){return yo.nw(t,so.store)}var mo=function(){function t(t){this.qw=t}return t.prototype.Uw=function(t){if(t.document)return this.qw.Ae(t.document,!!t.hasCommittedMutations);if(t.noDocument){var e=S.rt(t.noDocument.path),n=this.Bw(t.noDocument.readTime);return new At(e,n,{hasCommittedMutations:!!t.hasCommittedMutations})}return t.unknownDocument?(e=S.rt(t.unknownDocument.path),n=this.Bw(t.unknownDocument.version),new kt(e,n)):xe("Unexpected DbRemoteDocument")},t.prototype.Lw=function(t,e){var n=this.Fw(e),r=t.key.path.L().K();if(t instanceof St){var i=this.qw.Se(t),o=t.hasCommittedMutations;return new eo(null,null,i,o,n,r)}if(t instanceof At){var s=t.key.path.K(),a=this.Qw(t.version);return o=t.hasCommittedMutations,new eo(null,new Zi(s,a),null,o,n,r)}if(t instanceof kt){s=t.key.path.K();var u=this.Qw(t.version);return new eo(new to(s,u),null,null,!0,n,r)}return xe("Unexpected MaybeDocument")},t.prototype.Fw=function(t){var e=t.O();return[e.seconds,e.nanoseconds]},t.prototype.jw=function(t){var e=new b(t[0],t[1]);return _.P(e)},t.prototype.Qw=function(t){var e=t.O();return new Ki(e.seconds,e.nanoseconds)},t.prototype.Bw=function(t){var e=new b(t.seconds,t.nanoseconds);return _.P(e)},t.prototype.gw=function(t,e){var n=this,r=e.baseMutations.map((function(t){return n.qw.Fe(t)})),i=e.mutations.map((function(t){return n.qw.Fe(t)}));return new Qi(t,e.batchId,e.gr.toMillis(),r,i)},t.prototype.yw=function(t){var e=this,n=(t.baseMutations||[]).map((function(t){return e.qw.Le(t)})),r=t.mutations.map((function(t){return e.qw.Le(t)})),i=b.fromMillis(t.localWriteTimeMs);return new Ue(t.batchId,i,n,r)},t.prototype.Gw=function(t){var e=[];return t.forEach((function(t){e.push(wn(t.path))})),e},t.prototype.Ww=function(t){for(var e=ee(),n=0,r=t;n<r.length;n++)e=e.add(new S(En(r[n])));return e},t.prototype.Rw=function(t){var e,n=this.Bw(t.readTime),r=void 0!==t.lastLimboFreeSnapshotVersion?this.Bw(t.lastLimboFreeSnapshotVersion):_.MIN;return e=void 0!==t.query.documents?this.qw.ze(t.query):this.qw.Xe(t.query),new zt(e,t.targetId,0,t.lastListenSequenceNumber,n,r,M.fromBase64String(t.resumeToken))},t.prototype.Sw=function(t){Oe(0===t.ti,"Only queries with purpose 0 may be stored, got "+t.ti);var e,n=this.Qw(t.ni),r=this.Qw(t.lastLimboFreeSnapshotVersion);e=t.target.Tn()?this.qw.We(t.target):this.qw.Ke(t.target);var i=t.resumeToken.toBase64();return new ro(t.targetId,t.target.canonicalId(),n,i,t.sequenceNumber,r,e)},t}(),go="Another tab has exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `synchronizeTabs:true` in all tabs.",vo=function(t){function e(e,n){var r=t.call(this)||this;return r.Iw=e,r.fo=n,r}return o.__extends(e,t),e}(gn),yo=function(){function t(e,n,r,i,o,s,a,u){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.zo=s,this.zw=u,this.Fc=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Kw=null,this.inForeground=!1,this.Jw=null,this.Hw=null,this.Yw=Number.NEGATIVE_INFINITY,this.Xw=function(t){return Promise.resolve()},this.Cs=new _o(this,o),this.$w=n+t.Zw,this.serializer=new mo(a),this.document=i.document,this.Os=new Mi(this.Cs,this.serializer),this.Bh=new fo,this.qh=new qi(this.serializer,this.Bh),!i.window||!i.window.localStorage)throw new d(f.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");this.window=i.window,this.tm=this.window.localStorage}return t.nw=function(t,e){if(t instanceof vo)return Ii.nw(t.Iw,e);throw xe("IndexedDbPersistence must use instances of IndexedDbTransaction")},t.nm=function(e){return o.__awaiter(this,void 0,void 0,(function(){var n;return o.__generator(this,(function(r){switch(r.label){case 0:if(!t.th())throw new d(f.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");return[4,(n=new t(e.allowTabSynchronization,e.persistenceKey,e.clientId,e.platform,e.im,e.zo,e.serializer,e.zw)).start()];case 1:return r.sent(),[2,n]}}))}))},t.prototype.start=function(){var t=this;return Oe(!this.qu,"IndexedDbPersistence double-started!"),Oe(null!==this.window,"Expected 'window' to be defined"),Ii.Xv(this.$w,Wi,new $i(this.serializer)).then((function(e){return t.em=e,t.rm()})).then((function(){return t.um(),t.sm(),t.om(),t.em.runTransaction("readonly",[oo.store],(function(t){return ji(t)}))})).then((function(e){t.Oc=new Be(e,t.zw)})).then((function(){t.Fc=!0})).catch((function(e){return t.em&&t.em.close(),Promise.reject(e)}))},t.prototype.jc=function(t){var e=this;return this.Xw=function(n){return o.__awaiter(e,void 0,void 0,(function(){return o.__generator(this,(function(e){return this.qu?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.xc=function(t){var e=this;this.em.iw((function(n){return o.__awaiter(e,void 0,void 0,(function(){return o.__generator(this,(function(e){switch(e.label){case 0:return null!==n.newVersion?[3,2]:[4,t()];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.jo=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.zo.Qr((function(){return o.__awaiter(e,void 0,void 0,(function(){return o.__generator(this,(function(t){switch(t.label){case 0:return this.qu?[4,this.rm()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.rm=function(){var t=this;return this.em.runTransaction("readwrite",ho,(function(e){return bo(e).put(new uo(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.hm(e).next((function(e){e||(t.isPrimary=!1,t.zo.Qr((function(){return t.Xw(!1)})))}))})).next((function(){return t.cm(e)})).next((function(n){return t.isPrimary&&!n?t.am(e).next((function(){return!1})):!!n&&t.fm(e).next((function(){return!0}))}))})).catch((function(e){if(!t.allowTabSynchronization)throw e;return Ae("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.zo.Qr((function(){return t.Xw(e)})),t.isPrimary=e}))},t.prototype.hm=function(t){var e=this;return wo(t).get(Ji.key).next((function(t){return We.resolve(e.lm(t))}))},t.prototype.dm=function(t){return bo(t).delete(this.clientId)},t.prototype.vm=function(){return o.__awaiter(this,void 0,void 0,(function(){var e=this;return o.__generator(this,(function(n){switch(n.label){case 0:return!this.isPrimary||this.wm(this.Yw,18e5)?[3,2]:(this.Yw=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(n){var r=t.nw(n,uo.store);return r.aw().next((function(t){var n=e.mm(t,18e5),i=t.filter((function(t){return-1===n.indexOf(t)}));return We.forEach(i,(function(t){return r.delete(t.clientId)})).next((function(){return i}))}))})).catch((function(){return[]}))]);case 1:n.sent().forEach((function(t){e.window.localStorage.removeItem(e.pm(t.clientId))})),n.label=2;case 2:return[2]}}))}))},t.prototype.om=function(){var t=this;this.Hw=this.zo.iu("client_metadata_refresh",4e3,(function(){return t.rm().then((function(){return t.vm()})).then((function(){return t.om()}))}))},t.prototype.lm=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.cm=function(t){var e=this;return wo(t).get(Ji.key).next((function(n){if(null!==n&&e.wm(n.leaseTimestampMs,5e3)&&!e.bm(n.ownerId)){if(e.lm(n)&&e.networkEnabled)return!0;if(!e.lm(n)){if(!n.allowTabSynchronization)throw new d(f.FAILED_PRECONDITION,go);return!1}}return!(!e.networkEnabled||!e.inForeground)||bo(t).aw().next((function(t){return void 0===e.mm(t,5e3).find((function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))}))}))})).next((function(t){return e.isPrimary!==t&&Ae("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.shutdown=function(){return o.__awaiter(this,void 0,void 0,(function(){var t=this;return o.__generator(this,(function(e){switch(e.label){case 0:return this.Fc=!1,this.gm(),this.Hw&&(this.Hw.cancel(),this.Hw=null),this.ym(),this._m(),[4,this.em.runTransaction("readwrite",[Ji.store,uo.store],(function(e){return t.am(e).next((function(){return t.dm(e)}))}))];case 1:return e.sent(),this.em.close(),this.Im(),[2]}}))}))},t.prototype.mm=function(t,e){var n=this;return t.filter((function(t){return n.wm(t.updateTimeMs,e)&&!n.bm(t.clientId)}))},t.prototype.Oo=function(){var t=this;return this.em.runTransaction("readonly",[uo.store],(function(e){return bo(e).aw().next((function(e){return t.mm(e,18e5).map((function(t){return t.clientId}))}))}))},t.clearPersistence=function(e){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(n){switch(n.label){case 0:return t.th()?[4,Ii.delete(e+t.Zw)]:[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))},Object.defineProperty(t.prototype,"qu",{get:function(){return this.Fc},enumerable:!0,configurable:!0}),t.prototype.Vs=function(t){return Oe(this.qu,"Cannot initialize MutationQueue before persistence is started."),xi.pw(t,this.serializer,this.Bh,this.Cs)},t.prototype.Fs=function(){return Oe(this.qu,"Cannot initialize TargetCache before persistence is started."),this.Os},t.prototype.Ns=function(){return Oe(this.qu,"Cannot initialize RemoteDocumentCache before persistence is started."),this.qh},t.prototype.js=function(){return Oe(this.qu,"Cannot initialize IndexManager before persistence is started."),this.Bh},t.prototype.runTransaction=function(t,e,n){var r,i=this;return Ae("IndexedDbPersistence","Starting transaction:",t),this.em.runTransaction("readonly"===e?"readonly":"readwrite",ho,(function(o){return r=new vo(o,i.Oc.next()),"readwrite-primary"===e?i.hm(o).next((function(t){return!!t||i.cm(o)})).next((function(e){if(!e)throw ke("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.zo.Qr((function(){return i.Xw(!1)})),new d(f.FAILED_PRECONDITION,mn);return n(r)})).next((function(t){return i.fm(o).next((function(){return t}))})):i.Tm(o).next((function(){return n(r)}))})).then((function(t){return r.Mh(),t}))},t.prototype.Tm=function(t){var e=this;return wo(t).get(Ji.key).next((function(t){if(null!==t&&e.wm(t.leaseTimestampMs,5e3)&&!e.bm(t.ownerId)&&!e.lm(t)&&!t.allowTabSynchronization)throw new d(f.FAILED_PRECONDITION,go)}))},t.prototype.fm=function(t){var e=new Ji(this.clientId,this.allowTabSynchronization,Date.now());return wo(t).put(Ji.key,e)},t.th=function(){return Ii.th()},t.Em=function(t){var e=t.ae.projectId;return t.ae.br||(e+="."+t.ae.database),"firestore/"+t.persistenceKey+"/"+e+"/"},t.prototype.am=function(t){var e=this,n=wo(t);return n.get(Ji.key).next((function(t){return e.lm(t)?(Ae("IndexedDbPersistence","Releasing primary lease."),n.delete(Ji.key)):We.resolve()}))},t.prototype.wm=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(ke("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.um=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Jw=function(){t.zo.Qr((function(){return t.inForeground="visible"===t.document.visibilityState,t.rm()}))},this.document.addEventListener("visibilitychange",this.Jw),this.inForeground="visible"===this.document.visibilityState)},t.prototype.ym=function(){this.Jw&&(Oe(null!==this.document&&"function"==typeof this.document.addEventListener,"Expected 'document.addEventListener' to be a function"),this.document.removeEventListener("visibilitychange",this.Jw),this.Jw=null)},t.prototype.sm=function(){var t=this;"function"==typeof this.window.addEventListener&&(this.Kw=function(){t.gm(),t.zo.Qr((function(){return t.shutdown()}))},this.window.addEventListener("unload",this.Kw))},t.prototype._m=function(){this.Kw&&(Oe("function"==typeof this.window.removeEventListener,"Expected 'window.removeEventListener' to be a function"),this.window.removeEventListener("unload",this.Kw),this.Kw=null)},t.prototype.bm=function(t){try{var e=null!==this.tm.getItem(this.pm(t));return Ae("IndexedDbPersistence","Client '"+t+"' "+(e?"is":"is not")+" zombied in LocalStorage"),e}catch(t){return ke("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.gm=function(){try{this.tm.setItem(this.pm(this.clientId),String(Date.now()))}catch(t){ke("Failed to set zombie client id.",t)}},t.prototype.Im=function(){try{this.tm.removeItem(this.pm(this.clientId))}catch(t){}},t.prototype.pm=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t.Zw="main",t}();function wo(t){return t.store(Ji.store)}function bo(t){return t.store(uo.store)}var _o=function(){function t(t,e){this.db=t,this.Bc=null,this.ju=new Xe(this,e)}return t.prototype.Wu=function(t){var e=this.Dm(t);return this.db.Fs().kc(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.Dm=function(t){var e=0;return this.Ku(t,(function(t){e++})).next((function(){return e}))},t.prototype.$i=function(t,e){return this.db.Fs().$i(t,e)},t.prototype.Ku=function(t,e){return this.Rm(t,(function(t,n){return e(n)}))},t.prototype.As=function(t){this.Bc=t},t.prototype.es=function(t,e){return Eo(t,e)},t.prototype.us=function(t,e){return Eo(t,e)},t.prototype.Ju=function(t,e,n){return this.db.Fs().Ju(t,e,n)},t.prototype.lc=function(t,e){return Eo(t,e)},t.prototype.Sm=function(t,e){return this.Bc.fs(e)?We.resolve(!0):function(t,e){var n=!1;return Li(t).ww((function(r){return Oi(t,r,e).next((function(t){return t&&(n=!0),We.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.Hu=function(t,e){var n=this,r=this.db.Ns().Xs(),i=[],o=0;return this.Rm(t,(function(s,a){if(a<=e){var u=n.Sm(t,s).next((function(e){if(!e)return o++,r.gs(t,s).next((function(){return r.bs(s),Fi(t).delete([0,wn(s.path)])}))}));i.push(u)}})).next((function(){return We.pu(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},t.prototype.removeTarget=function(t,e){var n=e.ii(t.fo);return this.db.Fs().do(t,n)},t.prototype.vo=function(t,e){return Eo(t,e)},t.prototype.Rm=function(t,e){var n,r=Fi(t),i=Be.Nr;return r.vw({index:io.documentTargetsIndex},(function(t,r){var o=r.path,s=r.sequenceNumber;0===t[0]?(i!==Be.Nr&&e(new S(En(n)),i),i=s,n=o):i=Be.Nr})).next((function(){i!==Be.Nr&&e(new S(En(n)),i)}))},t.prototype.Xu=function(t){return this.db.Ns().pc(t)},t}();function Eo(t,e){return Fi(t).put(function(t,e){return new io(0,wn(t.path),e)}(e,t.fo))}var Io=function(){function t(){}return t.prototype.initialize=function(t,e,n,r,i,s){return o.__awaiter(this,void 0,void 0,(function(){var a,u,c;return o.__generator(this,(function(o){switch(o.label){case 0:if(Oe(s.zc,"IndexedDbPersistenceProvider can only provide durable persistence"),Oe(!this.persistence,"configure() already called"),a=yo.Em(e),u=new _e(e.ae,{de:Ie.xt().de}),!dn.th(n))throw new d(f.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");return this.Ml=s.synchronizeTabs?new dn(t,n,a,r,i):new pn,c=this,[4,yo.nm({allowTabSynchronization:s.synchronizeTabs,persistenceKey:a,clientId:r,platform:n,zo:t,serializer:u,im:Ye.Pu(s.cacheSizeBytes),zw:this.Ml})];case 1:return c.persistence=o.sent(),this.Md=new Qe(this.persistence.Cs.ju,t),[2]}}))}))},t.prototype.Jc=function(){return Oe(!!this.persistence,"initialize() not called"),this.persistence},t.prototype.Hc=function(){return Oe(!!this.Ml,"initialize() not called"),this.Ml},t.prototype.Kc=function(){return Oe(!!this.Md,"initialize() not called"),this.Md},t.prototype.clearPersistence=function(t){var e=yo.Em(t);return yo.clearPersistence(e)},t}(),Co={Firestore:pi,GeoPoint:wr,Timestamp:b,Blob:cr,Transaction:mi,WriteBatch:gi,DocumentReference:vi,DocumentSnapshot:yi,Query:bi,QueryDocumentSnapshot:wi,QuerySnapshot:_i,CollectionReference:Ei,FieldPath:lr,FieldValue:yr,setLogLevel:Qr.setLogLevel,CACHE_SIZE_UNLIMITED:Jr},To=function(){function t(){}return t.prototype.jf=function(t){},t.prototype.shutdown=function(){},t}(),So=function(){function t(){var t=this;this.Am=function(){return t.Cm()},this.Pm=function(){return t.Vm()},this.km=[],this.Nm()}return t.prototype.jf=function(t){this.km.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.Am),window.removeEventListener("offline",this.Pm)},t.prototype.Nm=function(){window.addEventListener("online",this.Am),window.addEventListener("offline",this.Pm)},t.prototype.Cm=function(){Ae("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.km;t<e.length;t++)(0,e[t])(0)},t.prototype.Vm=function(){Ae("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.km;t<e.length;t++)(0,e[t])(1)},t.th=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),Ao=function(){function t(t){this.Om=t.Om,this.Fm=t.Fm}return t.prototype.Ea=function(t){Oe(!this.Um,"Called onOpen on stream twice!"),this.Um=t},t.prototype.ga=function(t){Oe(!this.jm,"Called onClose on stream twice!"),this.jm=t},t.prototype.onMessage=function(t){Oe(!this.xm,"Called onMessage on stream twice!"),this.xm=t},t.prototype.close=function(){this.Fm()},t.prototype.send=function(t){this.Om(t)},t.prototype.Lm=function(){Oe(void 0!==this.Um,"Cannot call onOpen because no callback was set"),this.Um()},t.prototype.Mm=function(t){Oe(void 0!==this.jm,"Cannot call onClose because no callback was set"),this.jm(t)},t.prototype.qm=function(t){Oe(void 0!==this.xm,"Cannot call onMessage because no callback was set"),this.xm(t)},t}(),ko={BatchGetDocuments:"batchGet",Commit:"commit"},No="gl-js/ fire/"+l,xo=function(){function t(t){this.ae=t.ae,this.Bm=(t.ssl?"https":"http")+"://"+t.host,this.forceLongPolling=t.forceLongPolling}return t.prototype.Qm=function(t,e){if(e)for(var n in e.o)e.o.hasOwnProperty(n)&&(t[n]=e.o[n]);t["X-Goog-Api-Client"]=No},t.prototype.Ua=function(t,e,n){var r=this,i=this.Gm(t);return new Promise((function(s,a){var u=new c.XhrIo;u.listenOnce(c.EventType.COMPLETE,(function(){try{switch(u.getLastErrorCode()){case c.ErrorCode.NO_ERROR:var e=u.getResponseJson();Ae("Connection","XHR received:",JSON.stringify(e)),s(e);break;case c.ErrorCode.TIMEOUT:Ae("Connection",'RPC "'+t+'" timed out'),a(new d(f.DEADLINE_EXCEEDED,"Request time out"));break;case c.ErrorCode.HTTP_ERROR:var n=u.getStatus();if(Ae("Connection",'RPC "'+t+'" failed with status:',n,"response text:",u.getResponseText()),n>0){var r=u.getResponseJson().error;if(r&&r.status&&r.message){var i=(o=r.status.toLowerCase().replace("_","-"),Object.values(f).indexOf(o)>=0?o:f.UNKNOWN);a(new d(i,r.message))}else a(new d(f.UNKNOWN,"Server responded with status "+u.getStatus()))}else Ae("Connection",'RPC "'+t+'" failed'),a(new d(f.UNAVAILABLE,"Connection failed."));break;default:xe('RPC "'+t+'" failed with unanticipated webchannel error '+u.getLastErrorCode()+": "+u.getLastError()+", giving up.")}}finally{Ae("Connection",'RPC "'+t+'" completed.')}var o}));var l=o.__assign({},e);delete l.database;var h=JSON.stringify(l);Ae("Connection","XHR sending: ",i+" "+h);var p={"Content-Type":"text/plain"};r.Qm(p,n),u.send(i,"POST",h,p,15)}))},t.prototype.ja=function(t,e,n){return this.Ua(t,e,n)},t.prototype.Da=function(t,e){var n=[this.Bm,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=c.createWebChannelTransport(),i={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.ae.projectId+"/databases/"+this.ae.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling};this.Qm(i.initMessageHeaders,e),a.isMobileCordova()||a.isReactNative()||a.isElectron()||a.isIE()||a.isUWP()||a.isBrowserExtension()||(i.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");Ae("Connection","Creating WebChannel: "+o+" "+i);var s=r.createWebChannel(o,i),u=!1,l=!1,h=new Ao({Om:function(t){l?Ae("Connection","Not sending because WebChannel is closed:",t):(u||(Ae("Connection","Opening WebChannel transport."),s.open(),u=!0),Ae("Connection","WebChannel sending:",t),s.send(t))},Fm:function(){return s.close()}}),p=function(t,e){s.listen(t,(function(t){try{e(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return p(c.WebChannel.EventType.OPEN,(function(){l||Ae("Connection","WebChannel transport opened.")})),p(c.WebChannel.EventType.CLOSE,(function(){l||(l=!0,Ae("Connection","WebChannel transport closed"),h.Mm())})),p(c.WebChannel.EventType.ERROR,(function(t){l||(l=!0,Ae("Connection","WebChannel transport errored:",t),h.Mm(new d(f.UNAVAILABLE,"The operation could not be completed")))})),p(c.WebChannel.EventType.MESSAGE,(function(t){var e;if(!l){var n=t.data[0];Oe(!!n,"Got a webchannel message without data.");var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){Ae("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=ht[t];if(void 0!==e)return Wt(e)}(i),a=r.message;void 0===o&&(o=f.INTERNAL,a="Unknown error status: "+i+" with message "+r.message),l=!0,h.Mm(new d(o,a)),s.close()}else Ae("Connection","WebChannel received:",n),h.qm(n)}})),setTimeout((function(){h.Lm()}),0),h},t.prototype.Gm=function(t){var e=ko[t];return Oe(void 0!==e,"Unknown REST mapping for: "+t),this.Bm+"/v1/projects/"+this.ae.projectId+"/databases/"+this.ae.database+"/documents:"+e},t}(),Oo=window.crypto||window.__PRIVATE_msCrypto,Ro=function(){function t(){this.de=!0,this.xa="undefined"!=typeof atob}return Object.defineProperty(t.prototype,"document",{get:function(){return"undefined"!=typeof document?document:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"window",{get:function(){return"undefined"!=typeof window?window:null},enumerable:!0,configurable:!0}),t.prototype.Bd=function(t){return Promise.resolve(new xo(t))},t.prototype.Qd=function(){return So.th()?new So:new To},t.prototype.Gd=function(t){return new _e(t,{de:!0})},t.prototype.mr=function(t){return JSON.stringify(t)},t.prototype.atob=function(t){return atob(t)},t.prototype.btoa=function(t){return btoa(t)},t.prototype.randomBytes=function(t){if(t<=0)return new Uint8Array;var e=new Uint8Array(t);return Oo.getRandomValues(e),e},t}();function Do(t){!function(t,e){t.INTERNAL.registerComponent(new u.Component("firestore",(function(t){return function(t,e){return new Qr(t,e,new Io)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(o.__assign({},Co)))}(t),t.registerVersion("@firebase/firestore","1.13.1")}Ie.wr(new Ro),Do(i),e.__PRIVATE_registerFirestore=Do},"S+S0":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("mrSG"),i=n("zVF4"),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),s=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t="[DEFAULT]");var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.Deferred;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=r.__assign({identifier:"[DEFAULT]",optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);try{var o=this.getOrInitializeService(i);if(!o){if(n)return null;throw Error("Service "+this.name+" is not available")}return o}catch(s){if(n)return null;throw s}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService("[DEFAULT]")}catch(l){}try{for(var i=r.__values(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var s=r.__read(o.value,2),a=s[1],u=this.normalizeInstanceIdentifier(s[0]);try{var c=this.getOrInitializeService(u);a.resolve(c)}catch(l){}}}catch(h){e={error:h}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return r.__awaiter(this,void 0,void 0,(function(){var t;return r.__generator(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return"[DEFAULT]"===t?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t}(),a=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new s(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();e.Component=o,e.ComponentContainer=a,e.Provider=s},Wcq6:function(t,e,n){"use strict";var r,i=(r=n("wj3C"))&&"object"==typeof r&&"default"in r?r.default:r;i.registerVersion("firebase","7.13.2","app"),t.exports=i},mrSG:function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",(function(){return i})),n.d(e,"__assign",(function(){return o})),n.d(e,"__rest",(function(){return s})),n.d(e,"__decorate",(function(){return a})),n.d(e,"__param",(function(){return u})),n.d(e,"__metadata",(function(){return c})),n.d(e,"__awaiter",(function(){return l})),n.d(e,"__generator",(function(){return h})),n.d(e,"__exportStar",(function(){return f})),n.d(e,"__values",(function(){return d})),n.d(e,"__read",(function(){return p})),n.d(e,"__spread",(function(){return m})),n.d(e,"__spreadArrays",(function(){return g})),n.d(e,"__await",(function(){return v})),n.d(e,"__asyncGenerator",(function(){return y})),n.d(e,"__asyncDelegator",(function(){return w})),n.d(e,"__asyncValues",(function(){return b})),n.d(e,"__makeTemplateObject",(function(){return _})),n.d(e,"__importStar",(function(){return E})),n.d(e,"__importDefault",(function(){return I})),n.d(e,"__classPrivateFieldGet",(function(){return C})),n.d(e,"__classPrivateFieldSet",(function(){return T}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function a(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s}function u(t,e){return function(n,r){e(n,r,t)}}function c(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function l(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch(e){o(e)}}function a(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))}function h(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function f(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function d(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function p(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function m(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(p(arguments[e]));return t}function g(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}function v(t){return this instanceof v?(this.v=t,this):new v(t)}function y(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(t){i[t]&&(r[t]=function(e){return new Promise((function(n,r){o.push([t,e,n,r])>1||a(t,e)}))})}function a(t,e){try{(n=i[t](e)).value instanceof v?Promise.resolve(n.value.v).then(u,c):l(o[0][2],n)}catch(r){l(o[0][3],r)}var n}function u(t){a("next",t)}function c(t){a("throw",t)}function l(t,e){t(e),o.shift(),o.length&&a(o[0][0],o[0][1])}}function w(t){var e,n;return e={},r("next"),r("throw",(function(t){throw t})),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:v(t[r](e)),done:"return"===r}:i?i(e):e}:i}}function b(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=d(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,i){!function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)}(r,i,(e=t[n](e)).done,e.value)}))}}}function _(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function E(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function I(t){return t&&t.__esModule?t:{default:t}}function C(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function T(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}var i;n.r(e),n.d(e,"LogLevel",(function(){return s})),n.d(e,"Logger",(function(){return h})),n.d(e,"setLogLevel",(function(){return f})),n.d(e,"setUserLogHandler",(function(){return d}));var o=[],s=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},u=s.INFO,c=((i={})[s.DEBUG]="log",i[s.VERBOSE]="log",i[s.INFO]="info",i[s.WARN]="warn",i[s.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),s=c[e];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[s].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in s))throw new TypeError("Invalid value assigned to `logLevel`");this._logLevel=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!0,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.DEBUG],t)),this._logHandler.apply(this,r([this,s.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.VERBOSE],t)),this._logHandler.apply(this,r([this,s.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.INFO],t)),this._logHandler.apply(this,r([this,s.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.WARN],t)),this._logHandler.apply(this,r([this,s.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.ERROR],t)),this._logHandler.apply(this,r([this,s.ERROR],t))},t}();function f(t){var e="string"==typeof t?a[t]:t;o.forEach((function(t){t.logLevel=e}))}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:s[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},wj3C:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i,o=n("mrSG"),s=n("zVF4"),a=n("S+S0"),u=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new s.ErrorFactory("app","Firebase",c),h=((i={})["@firebase/app"]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),f=new u.Logger("@firebase/app"),d=function(){function t(t,e,n){var r,i,u=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=s.deepCopy(t),this.container=new a.ComponentContainer(e.name),this._addComponent(new a.Component("app",(function(){return u}),"PUBLIC"));try{for(var c=o.__values(this.firebase_.INTERNAL.components.values()),l=c.next();!l.done;l=c.next())this._addComponent(l.value)}catch(h){r={error:h}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!0,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){return void 0===e&&(e="[DEFAULT]"),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e="[DEFAULT]"),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){f.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();d.prototype.name&&d.prototype.options||d.prototype.delete||console.log("dc");var p=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name="[DEFAULT]");var a=o.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(s.contains(e,a))throw l.create("duplicate-app",{appName:a});var u=new t(n,o,r);return e[a]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=h[t])&&void 0!==r?r:t;n&&(i+="-"+n);var o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return o&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&s&&u.push("and"),s&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void f.warn(u.join(" "))}c(new a.Component(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:u.setLogLevel,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument",{appName:name});u.setUserLogHandler(t,e)},apps:null,SDK_VERSION:"7.13.2",INTERNAL:{registerComponent:c,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(!s.contains(e,t=t||"[DEFAULT]"))throw l.create("no-app",{appName:t});return e[t]}function c(a){var u,c,h=a.name;if(n.has(h))return f.debug("There were multiple attempts to register component "+h+"."),"PUBLIC"===a.type?r[h]:null;if(n.set(h,a),"PUBLIC"===a.type){var d=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[h])throw l.create("invalid-app-argument",{appName:h});return t[h]()};void 0!==a.serviceProps&&s.deepExtend(d,a.serviceProps),r[h]=d,t.prototype[h]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._getService.bind(this,h);return n.apply(this,a.multipleInstances?t:[])}}try{for(var p=o.__values(Object.keys(e)),m=p.next();!m.done;m=p.next())e[m.value]._addComponent(a)}catch(g){u={error:g}}finally{try{m&&!m.done&&(c=p.return)&&c.call(p)}finally{if(u)throw u.error}}return"PUBLIC"===a.type?r[h]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}(d);return e.INTERNAL=o.__assign(o.__assign({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){s.deepExtend(e,t)},createSubscribe:s.createSubscribe,ErrorFactory:s.ErrorFactory,deepExtend:s.deepExtend}),e}(),m=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();if(s.isBrowser()&&void 0!==self.firebase){f.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var g=self.firebase.SDK_VERSION;g&&g.indexOf("LITE")>=0&&f.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var v=p.initializeApp;p.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return s.isNode()&&f.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),v.apply(void 0,t)};var y=p;!function(t,e){t.INTERNAL.registerComponent(new a.Component("platform-logger",(function(t){return new m(t)}),"PRIVATE")),t.registerVersion("@firebase/app","0.6.1",void 0),t.registerVersion("fire-js","")}(y),e.default=y,e.firebase=y},x7I3:function(t,e,n){"use strict";n.r(e),n.d(e,"ErrorCode",(function(){return ar})),n.d(e,"EventType",(function(){return ur})),n.d(e,"WebChannel",(function(){return cr})),n.d(e,"XhrIo",(function(){return lr})),n.d(e,"createWebChannelTransport",(function(){return sr}));var r,i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},o=o||{},s=i;function a(t){return"string"==typeof t}function u(t){return"number"==typeof t}function c(t,e){t=t.split("."),e=e||s;for(var n=0;n<t.length;n++)if(null==(e=e[t[n]]))return null;return e}function l(){}function h(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function f(t){return"array"==h(t)}function d(t){var e=h(t);return"array"==e||"object"==e&&"number"==typeof t.length}function p(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var m="closure_uid_"+(1e9*Math.random()>>>0),g=0;function v(t,e,n){return t.call.apply(t.bind,arguments)}function y(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function w(t,e,n){return(w=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?v:y).apply(null,arguments)}function b(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var _=Date.now||function(){return+new Date};function E(t,e){function n(){}n.prototype=e.prototype,t.N=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.yb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function I(){this.j=this.j,this.i=this.i}I.prototype.j=!1,I.prototype.la=function(){!this.j&&(this.j=!0,this.G(),0)&&(this[m]||(this[m]=++g))},I.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var C=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(a(t))return a(e)&&1==e.length?t.indexOf(e,0):-1;for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},T=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i=a(t)?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function S(t){return Array.prototype.concat.apply([],arguments)}function A(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function k(t){return/^[\s\xa0]*$/.test(t)}var N,x=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function O(t,e){return-1!=t.indexOf(e)}function R(t,e){return t<e?-1:t>e?1:0}t:{var D=s.navigator;if(D){var P=D.userAgent;if(P){N=P;break t}}N=""}function L(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function M(t){var e,n={};for(e in t)n[e]=t[e];return n}var V="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function U(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<V.length;o++)n=V[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function j(t){return j[" "](t),t}j[" "]=l;var F,q,B=O(N,"Opera"),z=O(N,"Trident")||O(N,"MSIE"),H=O(N,"Edge"),G=H||z,W=O(N,"Gecko")&&!(O(N.toLowerCase(),"webkit")&&!O(N,"Edge"))&&!(O(N,"Trident")||O(N,"MSIE"))&&!O(N,"Edge"),$=O(N.toLowerCase(),"webkit")&&!O(N,"Edge");function K(){var t=s.document;return t?t.documentMode:void 0}t:{var J="",Y=(q=N,W?/rv:([^\);]+)(\)|;)/.exec(q):H?/Edge\/([\d\.]+)/.exec(q):z?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(q):$?/WebKit\/(\S+)/.exec(q):B?/(?:Version)[ \/]?(\S+)/.exec(q):void 0);if(Y&&(J=Y?Y[1]:""),z){var Q=K();if(null!=Q&&Q>parseFloat(J)){F=String(Q);break t}}F=J}var X,Z={};function tt(t){return function(t,e){var n=Z;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=x(String(F)).split("."),r=x(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=R(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||R(0==s[2].length,0==a[2].length)||R(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e}))}var et=s.document;X=et&&z?K()||("CSS1Compat"==et.compatMode?parseInt(F,10):5):void 0;var nt=!z||9<=Number(X),rt=z&&!tt("9"),it=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{s.addEventListener("test",l,e),s.removeEventListener("test",l,e)}catch(n){}return t}();function ot(t,e){this.type=t,this.a=this.target=e,this.Ia=!0}function st(t,e){if(ot.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(W){t:{try{j(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=a(t.pointerType)?t.pointerType:at[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}ot.prototype.b=function(){this.Ia=!1},E(st,ot);var at={2:"touch",3:"pen",4:"mouse"};st.prototype.b=function(){st.N.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,rt)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var ut="closure_listenable_"+(1e6*Math.random()|0),ct=0;function lt(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.da=i,this.key=++ct,this.X=this.Z=!1}function ht(t){t.X=!0,t.listener=null,t.proxy=null,t.src=null,t.da=null}function ft(t){this.src=t,this.a={},this.b=0}function dt(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=C(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(ht(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function pt(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.X&&o.listener==e&&o.capture==!!n&&o.da==r)return i}return-1}ft.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=pt(t,e,r,i);return-1<s?(e=t[s],n||(e.Z=!1)):((e=new lt(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var mt="closure_lm_"+(1e6*Math.random()|0),gt={};function vt(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,o){if(f(n)){for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);return null}return r=Ct(r),e&&e[ut]?e.Aa(n,r,p(i)?!!i.capture:!!i,o):yt(e,n,r,!0,i,o)}(t,e,n,r,i);if(f(e)){for(var o=0;o<e.length;o++)vt(t,e[o],n,r,i);return null}return n=Ct(n),t&&t[ut]?t.za(e,n,p(r)?!!r.capture:!!r,i):yt(t,e,n,!1,r,i)}function yt(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=p(i)?!!i.capture:!!i;if(s&&!nt)return null;var a=Et(t);if(a||(t[mt]=a=new ft(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=_t,e=nt?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)it||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(bt(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function wt(t){if(!u(t)&&t&&!t.X){var e=t.src;if(e&&e[ut])dt(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(bt(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Et(e))?(dt(n,t),0==n.b&&(n.src=null,e[mt]=null)):ht(t)}}}function bt(t){return t in gt?gt[t]:gt[t]="on"+t}function _t(t,e){return!!t.X||function(t,e){var n=t.listener,r=t.da||t.src;return t.Z&&wt(t),n.call(r,e)}(t,nt?new st(e,this):e=new st(e||c("window.event"),this))}function Et(t){return(t=t[mt])instanceof ft?t:null}var It="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ct(t){return"function"==h(t)?t:(t[It]||(t[It]=function(e){return t.handleEvent(e)}),t[It])}function Tt(){I.call(this),this.c=new ft(this),this.J=this,this.B=null}function St(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.X&&s.capture==n){var a=s.listener,u=s.da||s.src;s.Z&&dt(t.c,s),i=!1!==a.call(u,r)&&i}}return i&&0!=r.Ia}E(Tt,I),Tt.prototype[ut]=!0,(r=Tt.prototype).addEventListener=function(t,e,n,r){vt(this,t,e,n,r)},r.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,o){if(f(n))for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);else i=p(i)?!!i.capture:!!i,r=Ct(r),e&&e[ut]?(e=e.c,(n=String(n).toString())in e.a&&-1<(r=pt(s=e.a[n],r,i,o))&&(ht(s[r]),Array.prototype.splice.call(s,r,1),0==s.length&&(delete e.a[n],e.b--))):e&&(e=Et(e))&&(n=e.a[n.toString()],e=-1,n&&(e=pt(n,r,i,o)),(r=-1<e?n[e]:null)&&wt(r))}(this,t,e,n,r)},r.dispatchEvent=function(t){var e,n=this.B;if(n)for(e=[];n;n=n.B)e.push(n);n=this.J;var r=t.type||t;if(a(t))t=new ot(t,n);else if(t instanceof ot)t.target=t.target||n;else{var i=t;U(t=new ot(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var s=t.a=e[o];i=St(s,r,!0,t)&&i}if(i=St(s=t.a=n,r,!0,t)&&i,i=St(s,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=St(s=t.a=e[o],r,!1,t)&&i;return i},r.G=function(){if(Tt.N.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)ht(n[r]);delete e.a[t],e.b--}}this.B=null},r.za=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},r.Aa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var At=s.JSON.stringify;function kt(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function Nt(){this.b=this.a=null}kt.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var xt,Ot=new kt((function(){return new Dt}),(function(t){t.reset()}));function Rt(){var t=Vt,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Dt(){this.next=this.b=this.a=null}function Pt(t){s.setTimeout((function(){throw t}),0)}function Lt(t,e){xt||function(){var t=s.Promise.resolve(void 0);xt=function(){t.then(Ut)}}(),Mt||(xt(),Mt=!0),Vt.add(t,e)}Nt.prototype.add=function(t,e){var n=Ot.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Dt.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Dt.prototype.reset=function(){this.next=this.b=this.a=null};var Mt=!1,Vt=new Nt;function Ut(){for(var t;t=Rt();){try{t.a.call(t.b)}catch(n){Pt(n)}var e=Ot;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}Mt=!1}function jt(t,e){Tt.call(this),this.b=t||1,this.a=e||s,this.f=w(this.gb,this),this.g=_()}function Ft(t){t.ba=!1,t.L&&(t.a.clearTimeout(t.L),t.L=null)}function qt(t,e,n){if("function"==h(t))n&&(t=w(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=w(t.handleEvent,t)}return 2147483647<Number(e)?-1:s.setTimeout(t,e||0)}function Bt(t,e,n){I.call(this),this.f=null!=n?w(t,n):t,this.c=e,this.b=w(this.$a,this),this.a=[]}function zt(t){t.U=qt(t.b,t.c),t.f.apply(null,t.a)}function Ht(t){I.call(this),this.b=t,this.a={}}E(jt,Tt),(r=jt.prototype).ba=!1,r.L=null,r.gb=function(){if(this.ba){var t=_()-this.g;0<t&&t<.8*this.b?this.L=this.a.setTimeout(this.f,this.b-t):(this.L&&(this.a.clearTimeout(this.L),this.L=null),this.dispatchEvent("tick"),this.ba&&(Ft(this),this.start()))}},r.start=function(){this.ba=!0,this.L||(this.L=this.a.setTimeout(this.f,this.b),this.g=_())},r.G=function(){jt.N.G.call(this),Ft(this),delete this.a},E(Bt,I),(r=Bt.prototype).ea=!1,r.U=null,r.Ta=function(t){this.a=arguments,this.U?this.ea=!0:zt(this)},r.G=function(){Bt.N.G.call(this),this.U&&(s.clearTimeout(this.U),this.U=null,this.ea=!1,this.a=[])},r.$a=function(){this.U=null,this.ea&&(this.ea=!1,zt(this))},E(Ht,I);var Gt=[];function Wt(t,e,n,r){f(n)||(n&&(Gt[0]=n.toString()),n=Gt);for(var i=0;i<n.length;i++){var o=vt(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function $t(t){L(t.a,(function(t,e){this.a.hasOwnProperty(e)&&wt(t)}),t),t.a={}}function Kt(){}Ht.prototype.G=function(){Ht.N.G.call(this),$t(this)},Ht.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Jt=new Tt;function Yt(t){ot.call(this,"serverreachability",t)}function Qt(t){Jt.dispatchEvent(new Yt(Jt,t))}function Xt(t){ot.call(this,"statevent",t)}function Zt(t){Jt.dispatchEvent(new Xt(Jt,t))}function te(t){ot.call(this,"timingevent",t)}function ee(t,e){if("function"!=h(t))throw Error("Fn must not be null and must be a function");return s.setTimeout((function(){t()}),e)}E(Yt,ot),E(Xt,ot),E(te,ot);var ne={NO_ERROR:0,hb:1,ob:2,nb:3,kb:4,mb:5,pb:6,La:7,TIMEOUT:8,sb:9},re={jb:"complete",wb:"success",Ma:"error",La:"abort",ub:"ready",vb:"readystatechange",TIMEOUT:"timeout",qb:"incrementaldata",tb:"progress",lb:"downloadprogress",xb:"uploadprogress"};function ie(){}function oe(){}ie.prototype.a=null;var se,ae={OPEN:"a",ib:"b",Ma:"c",rb:"d"};function ue(){ot.call(this,"d")}function ce(){ot.call(this,"c")}function le(){}function he(t,e,n){this.g=t,this.W=e,this.V=n||1,this.I=new Ht(this),this.O=fe,this.P=new jt(t=G?125:void 0),this.h=null,this.b=!1,this.l=this.D=this.f=this.F=this.v=this.R=this.i=null,this.j=[],this.a=null,this.A=0,this.c=this.w=null,this.o=-1,this.m=!1,this.J=0,this.B=null,this.s=this.S=this.H=!1}E(ue,ot),E(ce,ot),E(le,ie),se=new le;var fe=45e3,de={},pe={};function me(t,e,n){t.F=1,t.f=Fe(De(e)),t.l=n,t.H=!0,ve(t,null)}function ge(t,e,n,r){t.F=1,t.f=Fe(De(e)),t.l=null,t.H=n,ve(t,r)}function ve(t,e){t.v=_(),be(t),t.D=De(t.f),je(t.D,"t",t.V),t.A=0,t.a=t.g.$(t.g.Y()?e:null),0<t.J&&(t.B=new Bt(w(t.Ja,t,t.a),t.J)),Wt(t.I,t.a,"readystatechange",t.cb),e=t.h?M(t.h):{},t.l?(t.w||(t.w="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ca(t.D,t.w,t.l,e)):(t.w="GET",t.a.ca(t.D,t.w,null,e)),Qt(1)}function ye(t,e,n){for(var r=!0;!t.m&&t.A<n.length;){var i=we(t,n);if(i==pe){4==e&&(t.c=4,Zt(14),r=!1);break}if(i==de){t.c=4,Zt(15),r=!1;break}Te(t,i)}4==e&&0==n.length&&(t.c=1,Zt(16),r=!1),t.b=t.b&&r,r||(Ce(t),Ie(t))}function we(t,e){var n=t.A,r=e.indexOf("\n",n);return-1==r?pe:(n=Number(e.substring(n,r)),isNaN(n)?de:(r+=1)+n>e.length?pe:(e=e.substr(r,n),t.A=r+n,e))}function be(t){t.R=_()+t.O,_e(t,t.O)}function _e(t,e){if(null!=t.i)throw Error("WatchDog timer not null");t.i=ee(w(t.ab,t),e)}function Ee(t){t.i&&(s.clearTimeout(t.i),t.i=null)}function Ie(t){t.g.Ca()||t.m||t.g.na(t)}function Ce(t){Ee(t);var e=t.B;e&&"function"==typeof e.la&&e.la(),t.B=null,Ft(t.P),$t(t.I),t.a&&(e=t.a,t.a=null,e.abort(),e.la())}function Te(t,e){try{t.g.Fa(t,e),Qt(4)}catch(n){}}function Se(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(d(t)||a(t))T(t,e,void 0);else{if(t.K&&"function"==typeof t.K)var n=t.K();else if(t.C&&"function"==typeof t.C)n=void 0;else if(d(t)||a(t)){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.C&&"function"==typeof t.C)return t.C();if(a(t))return t.split("");if(d(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function Ae(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Ae)for(n=t.K(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function ke(t,e){xe(t.b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Ne(t))}function Ne(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];xe(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)xe(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function xe(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(r=he.prototype).setTimeout=function(t){this.O=t},r.cb=function(t){t=t.target;var e=this.B;e&&3==Dn(t)?e.Ta():this.Ja(t)},r.Ja=function(t){try{if(t==this.a)t:{var e=Dn(this.a),n=this.a.ya(),r=this.a.T();if(!(3>e||3==e&&!G&&!this.a.aa())){this.m||4!=e||7==n||Qt(8==n||0>=r?3:2),Ee(this);var i=this.a.T();this.o=i;var o=this.a.aa();if(this.b=200==i){if(this.S&&!this.s){e:{if(this.a){var s=Pn(this.a,"X-HTTP-Initial-Response");if(s&&!k(s)){var a=s;break e}}a=null}if(!a){this.b=!1,this.c=3,Zt(12),Ce(this),Ie(this);break t}this.s=!0,Te(this,a)}this.H?(ye(this,e,o),G&&this.b&&3==e&&(Wt(this.I,this.P,"tick",this.bb),this.P.start())):Te(this,o),4==e&&Ce(this),this.b&&!this.m&&(4==e?this.g.na(this):(this.b=!1,be(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.c=3,Zt(12)):(this.c=0,Zt(13)),Ce(this),Ie(this)}}}catch(u){}},r.bb=function(){if(this.a){var t=Dn(this.a),e=this.a.aa();this.A<e.length&&(Ee(this),ye(this,t,e),this.b&&4!=t&&be(this))}},r.cancel=function(){this.m=!0,Ce(this)},r.ab=function(){this.i=null;var t=_();0<=t-this.R?(2!=this.F&&(Qt(3),Zt(17)),Ce(this),this.c=2,Ie(this)):_e(this,this.R-t)},(r=Ae.prototype).C=function(){Ne(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},r.K=function(){return Ne(this),this.a.concat()},r.get=function(t,e){return xe(this.b,t)?this.b[t]:e},r.set=function(t,e){xe(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},r.forEach=function(t,e){for(var n=this.K(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Oe=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Re(t,e){var n;this.b=this.j=this.f="",this.i=null,this.g=this.a="",this.h=!1,t instanceof Re?(this.h=void 0!==e?e:t.h,Pe(this,t.f),this.j=t.j,Le(this,t.b),Me(this,t.i),this.a=t.a,Ve(this,tn(t.c)),this.g=t.g):t&&(n=String(t).match(Oe))?(this.h=!!e,Pe(this,n[1]||"",!0),this.j=qe(n[2]||""),Le(this,n[3]||"",!0),Me(this,n[4]),this.a=qe(n[5]||"",!0),Ve(this,n[6]||"",!0),this.g=qe(n[7]||"")):(this.h=!!e,this.c=new Je(null,this.h))}function De(t){return new Re(t)}function Pe(t,e,n){t.f=n?qe(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Le(t,e,n){t.b=n?qe(e,!0):e}function Me(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.i=e}else t.i=null}function Ve(t,e,n){e instanceof Je?(t.c=e,function(t,e){e&&!t.f&&(Ye(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Qe(this,e),Ze(this,n,t))}),t)),t.f=e}(t.c,t.h)):(n||(e=Be(e,$e)),t.c=new Je(e,t.h))}function Ue(t,e,n){t.c.set(e,n)}function je(t,e,n){f(n)||(n=[String(n)]),Ze(t.c,e,n)}function Fe(t){return Ue(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^_()).toString(36)),t}function qe(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Be(t,e,n){return a(t)?(t=encodeURI(t).replace(e,ze),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function ze(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Re.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Be(e,He,!0),":");var n=this.b;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(Be(e,He,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.i)&&t.push(":",String(n))),(n=this.a)&&(this.b&&"/"!=n.charAt(0)&&t.push("/"),t.push(Be(n,"/"==n.charAt(0)?We:Ge,!0))),(n=this.c.toString())&&t.push("?",n),(n=this.g)&&t.push("#",Be(n,Ke)),t.join("")},Re.prototype.resolve=function(t){var e=De(this),n=!!t.f;n?Pe(e,t.f):n=!!t.j,n?e.j=t.j:n=!!t.b,n?Le(e,t.b):n=null!=t.i;var r=t.a;if(n)Me(e,t.i);else if(n=!!t.a){if("/"!=r.charAt(0))if(this.b&&!this.a)r="/"+r;else{var i=e.a.lastIndexOf("/");-1!=i&&(r=e.a.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(O(i,"./")||O(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],s=0;s<i.length;){var a=i[s++];"."==a?r&&s==i.length&&o.push(""):".."==a?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&s==i.length&&o.push("")):(o.push(a),r=!0)}r=o.join("/")}else r=i}return n?e.a=r:n=""!==t.c.toString(),n?Ve(e,tn(t.c)):n=!!t.g,n&&(e.g=t.g),e};var He=/[#\/\?@]/g,Ge=/[#\?:]/g,We=/[#\?]/g,$e=/[#\?@]/g,Ke=/#/g;function Je(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Ye(t){t.a||(t.a=new Ae,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Qe(t,e){Ye(t),e=en(t,e),xe(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,ke(t.a,e))}function Xe(t,e){return Ye(t),e=en(t,e),xe(t.a.b,e)}function Ze(t,e,n){Qe(t,e),0<n.length&&(t.c=null,t.a.set(en(t,e),A(n)),t.b+=n.length)}function tn(t){var e=new Je;return e.c=t.c,t.a&&(e.a=new Ae(t.a),e.b=t.b),e}function en(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function nn(t){this.a=t,this.b=this.h=null,this.g=!1,this.i=null,this.c=-1,this.l=this.f=null}function rn(t){var e=t.a.F.a;if(null!=e)Zt(4),e?(Zt(10),Wn(t.a,t,!1)):(Zt(11),Wn(t.a,t,!0));else{t.b=new he(t,void 0,void 0),t.b.h=t.h,e=Qn(e=t.a,e.Y()?t.f:null,t.i),Zt(4),je(e,"TYPE","xmlhttp");var n=t.a.j,r=t.a.I;n&&r&&Ue(e,n,r),ge(t.b,e,!1,t.f)}}function on(){this.a=this.b=null}function sn(){this.a=new Ae}function an(t){var e=typeof t;return"object"==e&&t||"function"==e?"o"+(t[m]||(t[m]=++g)):e.charAt(0)+t}function un(t,e){this.b=t,this.a=e}function cn(t){this.g=t||ln,t=s.PerformanceNavigationTiming?0<(t=s.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(s.ka&&s.ka.Da&&s.ka.Da()&&s.ka.Da().zb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new sn),this.b=null,this.c=[]}(r=Je.prototype).add=function(t,e){Ye(this),this.c=null,t=en(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},r.forEach=function(t,e){Ye(this),this.a.forEach((function(n,r){T(n,(function(n){t.call(e,n,r,this)}),this)}),this)},r.K=function(){Ye(this);for(var t=this.a.C(),e=this.a.K(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},r.C=function(t){Ye(this);var e=[];if(a(t))Xe(this,t)&&(e=S(e,this.a.get(en(this,t))));else{t=this.a.C();for(var n=0;n<t.length;n++)e=S(e,t[n])}return e},r.set=function(t,e){return Ye(this),this.c=null,Xe(this,t=en(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},r.get=function(t,e){return t&&0<(t=this.C(t)).length?String(t[0]):e},r.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.K(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.C(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")},E((function(){}),(function(){})),(r=nn.prototype).M=null,r.$=function(t){return this.a.$(t)},r.abort=function(){this.b&&(this.b.cancel(),this.b=null),this.c=-1},r.Ca=function(){return!1},r.Fa=function(t,e){if(this.c=t.o,0==this.M){if(!this.a.o&&(t=t.a)){var n=Pn(t,"X-Client-Wire-Protocol");this.l=n||null,this.a.j&&(t=Pn(t,"X-HTTP-Session-Id"))&&(this.a.I=t)}if(e){try{var r=this.a.ja.a.parse(e)}catch(i){return(e=this.a).m=this.c,void Jn(e,2)}this.f=r[0]}else(e=this.a).m=this.c,Jn(e,2)}else 1==this.M&&(this.g?Zt(6):"11111"==e?(Zt(5),this.g=!0,(!z||10<=Number(X))&&(this.c=200,this.b.cancel(),Zt(11),Wn(this.a,this,!0))):(Zt(7),this.g=!1))},r.na=function(){if(this.c=this.b.o,this.b.b)0==this.M?(this.M=1,rn(this)):1==this.M&&(this.g?(Zt(11),Wn(this.a,this,!0)):(Zt(10),Wn(this.a,this,!1)));else{0==this.M?Zt(8):1==this.M&&Zt(9);var t=this.a;t.m=this.c,Jn(t,2)}},r.Y=function(){return this.a.Y()},r.ma=function(){return this.a.ma()},sn.prototype.add=function(t){this.a.set(an(t),t)},sn.prototype.C=function(){return this.a.C()};var ln=10;function hn(t,e){!t.a&&(O(e,"spdy")||O(e,"quic")||O(e,"h2"))&&(t.f=t.g,t.a=new sn,t.b&&(mn(t,t.b),t.b=null))}function fn(t){return!!t.b||!!t.a&&t.a.a.c>=t.f}function dn(t){return t.b?1:t.a?t.a.a.c:0}function pn(t,e){return t.b?t=t.b==e:t.a?(e=an(e),t=xe(t.a.a.b,e)):t=!1,t}function mn(t,e){t.a?t.a.add(e):t.b=e}function gn(t,e){var n;t.b&&t.b==e?t.b=null:((n=t.a)&&(n=an(e),n=xe(t.a.a.b,n)),n&&ke(t.a.a,an(e)))}function vn(t){if(null!=t.b)return t.c.concat(t.b.j);if(null!=t.a&&0!=t.a.a.c){var e=t.c;return T(t.a.C(),(function(t){e=e.concat(t.j)})),e}return A(t.c)}function yn(){}function wn(){this.a=new yn}function bn(t,e,n){var r=n||"";try{Se(t,(function(t,n){var i=t;p(t)&&(i=At(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function _n(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}cn.prototype.cancel=function(){this.c=vn(this),this.b?(this.b.cancel(),this.b=null):this.a&&0!=this.a.a.c&&(T(this.a.C(),(function(t){t.cancel()})),function(t){t.b={},t.a.length=0,t.c=0}(this.a.a))},yn.prototype.stringify=function(t){return s.JSON.stringify(t,void 0)},yn.prototype.parse=function(t){return s.JSON.parse(t,void 0)};var En=s.JSON.parse;function In(t){Tt.call(this),this.headers=new Ae,this.H=t||null,this.b=!1,this.s=this.a=null,this.A="",this.h=0,this.f="",this.g=this.w=this.l=this.v=!1,this.o=0,this.m=null,this.I=Cn,this.D=this.F=!1}E(In,Tt);var Cn="",Tn=/^https?$/i,Sn=["POST","PUT"];function An(t){return"content-type"==t.toLowerCase()}function kn(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,Nn(t),On(t)}function Nn(t){t.v||(t.v=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function xn(t){if(t.b&&void 0!==o&&(!t.s[1]||4!=Dn(t)||2!=t.T()))if(t.l&&4==Dn(t))qt(t.Ea,0,t);else if(t.dispatchEvent("readystatechange"),4==Dn(t)){t.b=!1;try{var e,n=t.T();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var a=String(t.A).match(Oe)[1]||null;if(!a&&s.self&&s.self.location){var u=s.self.location.protocol;a=u.substr(0,u.length-1)}i=!Tn.test(a?a.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{t.h=6;try{var c=2<Dn(t)?t.a.statusText:""}catch(l){c=""}t.f=c+" ["+t.T()+"]",Nn(t)}}finally{On(t)}}}function On(t,e){if(t.a){Rn(t);var n=t.a,r=t.s[0]?l:null;t.a=null,t.s=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){}}}function Rn(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(s.clearTimeout(t.m),t.m=null)}function Dn(t){return t.a?t.a.readyState:0}function Pn(t,e){return t.a?t.a.getResponseHeader(e):null}function Ln(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}if(r)return t;if(n=function(t){var e="";return L(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),a(t)){if(e=encodeURIComponent(String(e)),e+=n=null!=n?"="+encodeURIComponent(String(n)):""){if(0>(n=t.indexOf("#"))&&(n=t.length),0>(r=t.indexOf("?"))||r>n){r=n;var i=""}else i=t.substring(r+1,n);n=(t=[t.substr(0,r),i,t.substr(n)])[1],t[1]=e?n?n+"&"+e:e:n,t=t[0]+(t[1]?"?"+t[1]:"")+t[2]}return t}return Ue(t,e,n),t}function Mn(t){this.f=[],this.F=new on,this.ga=this.pa=this.B=this.ha=this.a=this.I=this.j=this.V=this.g=this.J=this.i=null,this.Qa=this.P=0,this.Oa=!!c("internalChannelParams.failFast",t),this.ia=this.w=this.s=this.l=this.h=this.c=null,this.oa=!0,this.m=this.ra=this.O=-1,this.S=this.v=this.A=0,this.Na=c("internalChannelParams.baseRetryDelayMs",t)||5e3,this.Ra=c("internalChannelParams.retryDelaySeedMs",t)||1e4,this.Pa=c("internalChannelParams.forwardChannelMaxRetries",t)||2,this.qa=c("internalChannelParams.forwardChannelRequestTimeoutMs",t)||2e4,this.Ka=t&&t.Ab||void 0,this.D=void 0,this.R=t&&t.supportsCrossDomainXhr||!1,this.H="",this.b=new cn(t&&t.concurrentRequestLimit),this.ja=new wn,this.o=!t||void 0===t.backgroundChannelTest||t.backgroundChannelTest,(this.W=t&&t.fastHandshake||!1)&&!this.o&&(this.o=!0),t&&t.forceLongPolling&&(this.oa=!1),this.fa=void 0}function Vn(t){if(Un(t),3==t.u){var e=t.P++,n=De(t.B);Ue(n,"SID",t.H),Ue(n,"RID",e),Ue(n,"TYPE","terminate"),Bn(t,n),(e=new he(t,e,void 0)).F=2,e.f=Fe(De(n)),n=!1,s.navigator&&s.navigator.sendBeacon&&(n=s.navigator.sendBeacon(e.f.toString(),"")),!n&&s.Image&&((new Image).src=e.f,n=!0),n||(e.a=e.g.$(null),e.a.ca(e.f)),e.v=_(),be(e)}Yn(t)}function Un(t){t.w&&(t.w.abort(),t.w=null),t.a&&(t.a.cancel(),t.a=null),t.l&&(s.clearTimeout(t.l),t.l=null),$n(t),t.b.cancel(),t.h&&(u(t.h)&&s.clearTimeout(t.h),t.h=null)}function jn(t,e){t.f.push(new un(t.Qa++,e)),3==t.u&&Fn(t)}function Fn(t){fn(t.b)||t.h||(t.h=!0,Lt(t.Ha,t),t.A=0)}function qn(t,e){var n;n=e?e.W:t.P++;var r=De(t.B);Ue(r,"SID",t.H),Ue(r,"RID",n),Ue(r,"AID",t.O),Bn(t,r),t.g&&t.i&&Ln(r,t.g,t.i),n=new he(t,n,t.A+1),null===t.g&&(n.h=t.i),e&&(t.f=e.j.concat(t.f)),e=zn(t,n,1e3),n.setTimeout(Math.round(.5*t.qa)+Math.round(.5*t.qa*Math.random())),mn(t.b,n),me(n,r,e)}function Bn(t,e){t.c&&Se({},(function(t,n){Ue(e,n,t)}))}function zn(t,e,n){n=Math.min(t.f.length,n);var r=t.c?w(t.c.Sa,t.c,t):null;t:for(var i=t.f,o=-1;;){var s=["count="+n];-1==o?0<n?s.push("ofs="+(o=i[0].b)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),a=!1;else try{bn(l,s,"req"+c+"_")}catch(h){r&&r(l)}}if(a){r=s.join("&");break t}}return t=t.f.splice(0,n),e.j=t,r}function Hn(t){t.a||t.l||(t.S=1,Lt(t.Ga,t),t.v=0)}function Gn(t){return!(t.a||t.l||3<=t.v||(t.S++,t.l=ee(w(t.Ga,t),Kn(t,t.v)),t.v++,0))}function Wn(t,e,n){var r=e.l;r&&hn(t.b,r),t.ia=t.oa&&n,t.m=e.c,t.B=Qn(t,null,t.ha),Fn(t)}function $n(t){null!=t.s&&(s.clearTimeout(t.s),t.s=null)}function Kn(t,e){var n=t.Na+Math.floor(Math.random()*t.Ra);return t.ma()||(n*=2),n*e}function Jn(t,e){if(2==e){var n=null;t.c&&(n=null);var r=w(t.eb,t);n||(n=new Re("//www.google.com/images/cleardot.gif"),s.location&&"http"==s.location.protocol||Pe(n,"https"),Fe(n)),function(t,e){var n=new Kt;if(s.Image){var r=new Image;r.onload=b(_n,n,r,"TestLoadImage: loaded",!0,e),r.onerror=b(_n,n,r,"TestLoadImage: error",!1,e),r.onabort=b(_n,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=b(_n,n,r,"TestLoadImage: timeout",!1,e),s.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else Zt(2);t.u=0,t.c&&t.c.ta(e),Yn(t),Un(t)}function Yn(t){t.u=0,t.m=-1,t.c&&(0==vn(t.b).length&&0==t.f.length||(t.b.c.length=0,A(t.f),t.f.length=0),t.c.sa())}function Qn(t,e,n){var r=function(t){return t instanceof Re?De(t):new Re(t,void 0)}(n);if(""!=r.b)e&&Le(r,e+"."+r.b),Me(r,r.i);else{var i=s.location;r=function(t,e,n,r){var i=new Re(null,void 0);return t&&Pe(i,t),e&&Le(i,e),n&&Me(i,n),r&&(i.a=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&L(t.V,(function(t,e){Ue(r,e,t)})),n=t.I,(e=t.j)&&n&&Ue(r,e,n),Ue(r,"VER",t.wa),Bn(t,r),r}function Xn(){}function Zn(){if(z&&!(10<=Number(X)))throw Error("Environmental error: no available transport.")}function tr(t,e){Tt.call(this),this.a=new Mn(e),this.g=t,this.m=e&&e.fb?e.fb:function(t){for(var e=arguments[0],n=1;n<arguments.length;n++){var r,i=arguments[n];0==i.lastIndexOf("/",0)?e=i:((r=""==e)||(r=0<=(r=e.length-1)&&e.indexOf("/",r)==r),e+=r?i:"/"+i)}return e}(this.g,"test"),this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.i=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.xa&&(t?t["X-WebChannel-Client-Profile"]=e.xa:t={"X-WebChannel-Client-Profile":e.xa}),this.a.J=t,(t=e&&e.httpHeadersOverwriteParam)&&!k(t)&&(this.a.g=t),this.l=e&&e.supportsCrossDomainXhr||!1,this.h=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!k(e)&&(this.a.j=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new rr(this)}function er(t){ue.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function nr(){ce.call(this),this.status=1}function rr(t){this.a=t}(r=In.prototype).ca=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.A+"; newUri="+t);e=e?e.toUpperCase():"GET",this.A=t,this.f="",this.h=0,this.v=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:se),this.a.onreadystatechange=w(this.Ea,this);try{this.w=!0,this.a.open(e,String(t),!0),this.w=!1}catch(o){return void kn(this,o)}t=n||"";var i=new Ae(this.headers);r&&Se(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=An,n=t.length,r=a(t)?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:a(t)?t.charAt(e):t[e]}(i.K()),n=s.FormData&&t instanceof s.FormData,!(0<=C(Sn,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Rn(this),0<this.o&&((this.D=function(t){return z&&tt(9)&&u(t.timeout)&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=w(this.Ba,this)):this.m=qt(this.Ba,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){kn(this,o)}},r.Ba=function(){void 0!==o&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},r.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),On(this))},r.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),On(this,!0)),In.N.G.call(this)},r.Ea=function(){this.j||(this.w||this.l||this.g?xn(this):this.Za())},r.Za=function(){xn(this)},r.T=function(){try{return 2<Dn(this)?this.a.status:-1}catch(q){return-1}},r.aa=function(){try{return this.a?this.a.responseText:""}catch(q){return""}},r.Ua=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),En(e)}},r.ya=function(){return this.h},r.Xa=function(){return a(this.f)?this.f:String(this.f)},(r=Mn.prototype).wa=8,r.u=1,r.Ca=function(){return 0==this.u},r.Ha=function(t){if(this.h)if(this.h=null,1==this.u){if(!t){this.P=Math.floor(1e5*Math.random());var e,n=new he(this,t=this.P++,void 0),r=this.i;if(this.J&&(r?U(r=M(r),this.J):r=this.J),null===this.g&&(n.h=r),this.W)t:{for(var i=e=0;i<this.f.length;i++){var o=this.f[i];if(void 0===(o="__data__"in o.a&&a(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.f.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=zn(this,n,e),Ue(i=De(this.B),"RID",t),Ue(i,"CVER",22),this.o&&this.j&&Ue(i,"X-HTTP-Session-Id",this.j),Bn(this,i),this.g&&r&&Ln(i,this.g,r),mn(this.b,n),this.W?(Ue(i,"$req",e),Ue(i,"SID","null"),n.S=!0,me(n,i,null)):me(n,i,e),this.u=2}}else 3==this.u&&(t?qn(this,t):0==this.f.length||fn(this.b)||qn(this))},r.Ga=function(){this.l=null,this.a=new he(this,"rpc",this.S),null===this.g&&(this.a.h=this.i),this.a.J=0;var t=De(this.pa);Ue(t,"RID","rpc"),Ue(t,"SID",this.H),Ue(t,"CI",this.ia?"0":"1"),Ue(t,"AID",this.O),Bn(this,t),Ue(t,"TYPE","xmlhttp"),this.g&&this.i&&Ln(t,this.g,this.i),this.D&&this.a.setTimeout(this.D),ge(this.a,t,!0,this.ga)},r.Fa=function(t,e){if(0!=this.u&&(this.a==t||pn(this.b,t)))if(this.m=t.o,!t.s&&pn(this.b,t)&&3==this.u){try{var n=this.ja.a.parse(e)}catch(o){n=null}if(f(n)&&3==n.length){if(0==(e=n)[0]){t:if(!this.l){if(this.a){if(!(this.a.v+3e3<t.v))break t;$n(this),this.a.cancel(),this.a=null}Gn(this),Zt(18)}}else this.ra=e[1],0<this.ra-this.O&&37500>e[2]&&this.ia&&0==this.v&&!this.s&&(this.s=ee(w(this.Ya,this),6e3));if(1>=dn(this.b)&&this.fa){try{this.fa()}catch(o){}this.fa=void 0}}else Jn(this,11)}else if((t.s||this.a==t)&&$n(this),!k(e))for(e=n=this.ja.a.parse(e),n=0;n<e.length;n++){var r=e[n];if(this.O=r[0],r=r[1],2==this.u)if("c"==r[0]){this.H=r[1],this.ga=r[2];var i=r[3];null!=i&&(this.wa=i),null!=(r=r[5])&&u(r)&&0<r&&(this.D=1.5*r),this.o&&(r=t.a)&&((i=Pn(r,"X-Client-Wire-Protocol"))&&hn(this.b,i),this.j&&(r=Pn(r,"X-HTTP-Session-Id")))&&(this.I=r,Ue(this.B,this.j,r)),this.u=3,this.c&&this.c.va(),r=t,this.pa=Qn(this,this.Y()?this.ga:null,this.ha),r.s?(gn(this.b,r),(i=this.D)&&r.setTimeout(i),r.i&&(Ee(r),be(r)),this.a=r):Hn(this),0<this.f.length&&Fn(this)}else"stop"!=r[0]&&"close"!=r[0]||Jn(this,7);else 3==this.u&&("stop"==r[0]||"close"==r[0]?"stop"==r[0]?Jn(this,7):Vn(this):"noop"!=r[0]&&this.c&&this.c.ua(r),this.v=0)}},r.Ya=function(){null!=this.s&&(this.s=null,this.a.cancel(),this.a=null,Gn(this),Zt(19))},r.na=function(t){var e=null;if(this.a==t){$n(this),this.a=null;var n=2}else{if(!pn(this.b,t))return;e=t.j,gn(this.b,t),n=1}if(this.m=t.o,0!=this.u)if(t.b)1==n?(e=_()-t.v,Jt.dispatchEvent(new te(Jt,t.l?t.l.length:0,e,this.A)),Fn(this)):Hn(this);else{var r=t.c;if(3==r||0==r&&0<this.m||!(1==n&&function(t,e){return!(dn(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.f=e.j.concat(t.f),0):1==t.u||2==t.u||t.A>=(t.Oa?0:t.Pa)||(t.h=ee(w(t.Ha,t,e),Kn(t,t.A)),t.A++,0)))}(this,t)||2==n&&Gn(this)))switch(e&&0<e.length&&(t=this.b,t.c=t.c.concat(e)),r){case 1:Jn(this,5);break;case 4:Jn(this,10);break;case 3:Jn(this,6);break;default:Jn(this,2)}}},r.eb=function(t){Zt(t?2:1)},r.$=function(t){if(t&&!this.R)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new In(this.Ka)).F=this.R,t},r.ma=function(){return!!this.c&&!0},r.Y=function(){return this.R},(r=Xn.prototype).va=function(){},r.ua=function(){},r.ta=function(){},r.sa=function(){},r.Sa=function(){},Zn.prototype.a=function(t,e){return new tr(t,e)},E(tr,Tt),(r=tr.prototype).addEventListener=function(t,e,n,r){tr.N.addEventListener.call(this,t,e,n,r)},r.removeEventListener=function(t,e,n,r){tr.N.removeEventListener.call(this,t,e,n,r)},r.Va=function(){this.a.c=this.f,this.l&&(this.a.R=!0);var t=this.a,e=this.m,n=this.g,r=this.b||void 0;Zt(0),t.ha=n,t.V=r||{},t.o&&(t.F.b=[],t.F.a=!1),t.w=new nn(t),null===t.g&&(t.w.h=t.i),n=e,t.g&&t.i&&(n=Ln(e,t.g,t.i)),(t=t.w).i=n,e=Qn(t.a,null,t.i),Zt(3),null!=(n=t.a.F.b)?(t.f=n[0],t.M=1,rn(t)):(je(e,"MODE","init"),!t.a.o&&t.a.j&&je(e,"X-HTTP-Session-Id",t.a.j),t.b=new he(t,void 0,void 0),t.b.h=t.h,ge(t.b,e,!1,null),t.M=0)},r.close=function(){Vn(this.a)},r.Wa=function(t){if(a(t)){var e={};e.__data__=t,jn(this.a,e)}else this.h?((e={}).__data__=At(t),jn(this.a,e)):jn(this.a,t)},r.G=function(){this.a.c=null,delete this.f,Vn(this.a),delete this.a,tr.N.G.call(this)},E(er,ue),E(nr,ce),E(rr,Xn),rr.prototype.va=function(){this.a.dispatchEvent("a")},rr.prototype.ua=function(t){this.a.dispatchEvent(new er(t))},rr.prototype.ta=function(t){this.a.dispatchEvent(new nr(t))},rr.prototype.sa=function(){this.a.dispatchEvent("b")};var ir=b((function(t,e){function n(){}n.prototype=t.prototype;var r=new n;return t.apply(r,Array.prototype.slice.call(arguments,1)),r}),Zn);Zn.prototype.createWebChannel=Zn.prototype.a,tr.prototype.send=tr.prototype.Wa,tr.prototype.open=tr.prototype.Va,tr.prototype.close=tr.prototype.close,ne.NO_ERROR=0,ne.TIMEOUT=8,ne.HTTP_ERROR=6,re.COMPLETE="complete",oe.EventType=ae,ae.OPEN="a",ae.CLOSE="b",ae.ERROR="c",ae.MESSAGE="d",Tt.prototype.listen=Tt.prototype.za,In.prototype.listenOnce=In.prototype.Aa,In.prototype.getLastError=In.prototype.Xa,In.prototype.getLastErrorCode=In.prototype.ya,In.prototype.getStatus=In.prototype.T,In.prototype.getResponseJson=In.prototype.Ua,In.prototype.getResponseText=In.prototype.aa,In.prototype.send=In.prototype.ca;var or={createWebChannelTransport:ir,ErrorCode:ne,EventType:re,WebChannel:oe,XhrIo:In},sr=or.createWebChannelTransport,ar=or.ErrorCode,ur=or.EventType,cr=or.WebChannel,lr=or.XhrIo;e.default=or},zUnb:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.r(e);let i=!1;const o={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else i&&console.log("RxJS: Back to a better error behavior. Thank you. <3");i=t},get useDeprecatedSynchronousErrorHandling(){return i}};function s(t){setTimeout(()=>{throw t},0)}const a={closed:!0,next(t){},error(t){if(o.useDeprecatedSynchronousErrorHandling)throw t;s(t)},complete(){}},u=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))();function c(t){return null!==t&&"object"==typeof t}const l=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let h=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_unsubscribe:i,_subscriptions:o}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(r(i))try{i.call(this)}catch(s){e=s instanceof l?f(s.errors):[s]}if(u(o)){let t=-1,n=o.length;for(;++t<n;){const n=o[t];if(c(n))try{n.unsubscribe()}catch(s){e=e||[],s instanceof l?e=e.concat(f(s.errors)):e.push(s)}}}if(e)throw new l(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}return t.EMPTY=function(t){return t.closed=!0,t}(new t),t})();function f(t){return t.reduce((t,e)=>t.concat(e instanceof l?e.errors:e),[])}const d=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())();class p extends h{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=a;break;case 1:if(!t){this.destination=a;break}if("object"==typeof t){t instanceof p?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new m(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new m(this,t,e,n)}}[d](){return this}static create(t,e,n){const r=new p(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class m extends p{constructor(t,e,n,i){let o;super(),this._parentSubscriber=t;let s=this;r(e)?o=e:e&&(o=e.next,n=e.error,i=e.complete,e!==a&&(s=Object.create(e),r(s.unsubscribe)&&this.add(s.unsubscribe.bind(s)),s.unsubscribe=this.unsubscribe.bind(this))),this._context=s,this._next=o,this._error=n,this._complete=i}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;o.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=o;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):s(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;s(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);o.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),o.useDeprecatedSynchronousErrorHandling)throw n;s(n)}}__tryOrSetError(t,e,n){if(!o.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return o.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(s(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}const g=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")();function v(){}function y(...t){return w(t)}function w(t){return t?1===t.length?t[0]:function(e){return t.reduce((t,e)=>e(t),e)}:v}let b=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:r}=this,i=function(t,e,n){if(t){if(t instanceof p)return t;if(t[d])return t[d]()}return t||e||n?new p(t,e,n):new p(a)}(t,e,n);if(i.add(r?r.call(i,this.source):this.source||o.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),o.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i}_trySubscribe(t){try{return this._subscribe(t)}catch(e){o.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:r}=t;if(e||r)return!1;t=n&&n instanceof p?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=_(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[g](){return this}pipe(...t){return 0===t.length?this:w(t)(this)}toPromise(t){return new(t=_(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function _(t){if(t||(t=o.Promise||Promise),!t)throw new Error("no Promise impl found");return t}const E=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})();class I extends h{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}class C extends p{constructor(t){super(t),this.destination=t}}let T=(()=>{class t extends b{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[d](){return new C(this)}lift(t){const e=new S(this,this);return e.operator=t,e}next(t){if(this.closed)throw new E;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new E;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new E;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new E;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new E;return this.hasError?(t.error(this.thrownError),h.EMPTY):this.isStopped?(t.complete(),h.EMPTY):(this.observers.push(t),new I(this,t))}asObservable(){const t=new b;return t.source=this,t}}return t.create=(t,e)=>new S(t,e),t})();class S extends T{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):h.EMPTY}}function A(t){return t&&"function"==typeof t.schedule}class k extends p{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}const N=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()};function x(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}const O=x(),R=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function D(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}const P=t=>{if(t&&"function"==typeof t[g])return r=t,t=>{const e=r[g]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(R(t))return N(t);if(D(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,s),t);if(t&&"function"==typeof t[O])return e=t,t=>{const n=e[O]();for(;;){const e=n.next();if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=c(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected.`+" You can provide an Observable, Promise, Array, or Iterable.")}var e,n,r};function L(t,e,n,r,i=new k(t,n,r)){if(!i.closed)return e instanceof b?e.subscribe(i):P(e)(i)}class M extends p{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}function V(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new U(t,e))}}class U{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new j(t,this.project,this.thisArg))}}class j extends p{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}function F(t,e){return new b(n=>{const r=new h;let i=0;return r.add(e.schedule((function(){i!==t.length?(n.next(t[i++]),n.closed||r.add(this.schedule())):n.complete()}))),r})}function q(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[g]}(t))return function(t,e){return new b(n=>{const r=new h;return r.add(e.schedule(()=>{const i=t[g]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(D(t))return function(t,e){return new b(n=>{const r=new h;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(R(t))return F(t,e);if(function(t){return t&&"function"==typeof t[O]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new b(n=>{const r=new h;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[O](),r.add(e.schedule((function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())})))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof b?t:new b(P(t))}function B(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?r=>r.pipe(B((n,r)=>q(t(n,r)).pipe(V((t,i)=>e(n,t,r,i))),n)):("number"==typeof e&&(n=e),e=>e.lift(new z(t,n)))}class z{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new H(t,this.project,this.concurrent))}}class H extends M{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e,t,n)}_innerSub(t,e,n){const r=new k(this,e,n),i=this.destination;i.add(r);const o=L(this,t,void 0,void 0,r);o!==r&&i.add(o)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t,e,n,r,i){this.destination.next(e)}notifyComplete(t){const e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function G(t){return t}function W(t=Number.POSITIVE_INFINITY){return B(G,t)}function $(t,e){return e?F(t,e):new b(N(t))}function K(){return function(t){return t.lift(new J(t))}}class J{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new Y(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class Y extends p{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}class Q extends b{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new h,t.add(this.source.subscribe(new Z(this.getSubject(),this))),t.closed&&(this._connection=null,t=h.EMPTY)),t}refCount(){return K()(this)}}const X=(()=>{const t=Q.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class Z extends C{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function tt(){return new T}function et(t){return{toString:t}.toString()}function nt(t,e,n){return et(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty("__parameters__")?t.__parameters__:Object.defineProperty(t,"__parameters__",{value:[]}).__parameters__;for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}const rt=nt("Inject",t=>({token:t})),it=nt("Optional"),ot=nt("Self"),st=nt("SkipSelf");var at=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function ut(t){for(let e in t)if(t[e]===ut)return e;throw Error("Could not find renamed property on target object.")}function ct(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function lt(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function ht(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function ft(t){return dt(t,t[mt])||dt(t,t[yt])}function dt(t,e){return e&&e.token===t?e:null}function pt(t){return t&&(t.hasOwnProperty(gt)||t.hasOwnProperty(wt))?t[gt]:null}const mt=ut({"\u0275prov":ut}),gt=ut({"\u0275inj":ut}),vt=ut({"\u0275provFallback":ut}),yt=ut({ngInjectableDef:ut}),wt=ut({ngInjectorDef:ut});function bt(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(bt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function _t(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const Et=ut({__forward_ref__:ut});function It(t){return t.__forward_ref__=It,t.toString=function(){return bt(this())},t}function Ct(t){return Tt(t)?t():t}function Tt(t){return"function"==typeof t&&t.hasOwnProperty(Et)&&t.__forward_ref__===It}const St="undefined"!=typeof globalThis&&globalThis,At="undefined"!=typeof window&&window,kt="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Nt="undefined"!=typeof global&&global,xt=St||Nt||At||kt,Ot=ut({"\u0275cmp":ut}),Rt=ut({"\u0275dir":ut}),Dt=ut({"\u0275pipe":ut}),Pt=ut({"\u0275mod":ut}),Lt=ut({"\u0275loc":ut}),Mt=ut({"\u0275fac":ut}),Vt=ut({__NG_ELEMENT_ID__:ut});class Ut{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=lt({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const jt=new Ut("INJECTOR",-1),Ft={},qt=/\n/gm,Bt=ut({provide:String,useValue:ut});let zt,Ht=void 0;function Gt(t){const e=Ht;return Ht=t,e}function Wt(t){const e=zt;return zt=t,e}function $t(t,e=at.Default){if(void 0===Ht)throw new Error("inject() must be called from an injection context");return null===Ht?Jt(t,void 0,e):Ht.get(t,e&at.Optional?null:void 0,e)}function Kt(t,e=at.Default){return(zt||$t)(Ct(t),e)}function Jt(t,e,n){const r=ft(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&at.Optional)return null;if(void 0!==e)return e;throw new Error(`Injector: NOT_FOUND [${bt(t)}]`)}function Yt(t){const e=[];for(let n=0;n<t.length;n++){const r=Ct(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t=void 0,n=at.Default;for(let e=0;e<r.length;e++){const i=r[e];i instanceof it||"Optional"===i.ngMetadataName||i===it?n|=at.Optional:i instanceof st||"SkipSelf"===i.ngMetadataName||i===st?n|=at.SkipSelf:i instanceof ot||"Self"===i.ngMetadataName||i===ot?n|=at.Self:t=i instanceof rt||i===rt?i.token:i}e.push(Kt(t,n))}else e.push(Kt(r))}return e}class Qt{get(t,e=Ft){if(e===Ft){const e=new Error(`NullInjectorError: No provider for ${bt(t)}!`);throw e.name="NullInjectorError",e}return e}}class Xt{}class Zt{}function te(t,e){t.forEach(t=>Array.isArray(t)?te(t,e):e(t))}function ee(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function ne(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function re(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function ie(t,e,n){let r=se(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function oe(t,e){const n=se(t,e);if(n>=0)return t[1|n]}function se(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),o=t[n<<1];if(e===o)return n<<1;o>e?i=n:r=n+1}return~(i<<1)}(t,e)}const ae=function(){var t={OnPush:0,Default:1};return t[t.OnPush]="OnPush",t[t.Default]="Default",t}(),ue=function(){var t={Emulated:0,Native:1,None:2,ShadowDom:3};return t[t.Emulated]="Emulated",t[t.Native]="Native",t[t.None]="None",t[t.ShadowDom]="ShadowDom",t}(),ce={},le=[];let he=0;function fe(t){return et(()=>{const e=t.type,n=e.prototype,r={},i={type:e,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:t.exportAs||null,onChanges:null,onInit:n.ngOnInit||null,doCheck:n.ngDoCheck||null,afterContentInit:n.ngAfterContentInit||null,afterContentChecked:n.ngAfterContentChecked||null,afterViewInit:n.ngAfterViewInit||null,afterViewChecked:n.ngAfterViewChecked||null,onDestroy:n.ngOnDestroy||null,onPush:t.changeDetection===ae.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||le,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||ue.Emulated,id:"c",styles:t.styles||le,_:null,setInput:null,schemas:t.schemas||null,tView:null},o=t.directives,s=t.features,a=t.pipes;return i.id+=he++,i.inputs=ve(t.inputs,r),i.outputs=ve(t.outputs),s&&s.forEach(t=>t(i)),i.directiveDefs=o?()=>("function"==typeof o?o():o).map(de):null,i.pipeDefs=a?()=>("function"==typeof a?a():a).map(pe):null,i})}function de(t){return we(t)||function(t){return t[Rt]||null}(t)}function pe(t){return function(t){return t[Dt]||null}(t)}const me={};function ge(t){const e={type:t.type,bootstrap:t.bootstrap||le,declarations:t.declarations||le,imports:t.imports||le,exports:t.exports||le,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&et(()=>{me[t.id]=t.type}),e}function ve(t,e){if(null==t)return ce;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}const ye=fe;function we(t){return t[Ot]||null}function be(t,e){return t.hasOwnProperty(Mt)?t[Mt]:null}function _e(t,e){const n=t[Pt]||null;if(!n&&!0===e)throw new Error(`Type ${bt(t)} does not have '\u0275mod' property.`);return n}function Ee(t){return Array.isArray(t)&&"object"==typeof t[1]}function Ie(t){return Array.isArray(t)&&!0===t[1]}function Ce(t){return 0!=(8&t.flags)}function Te(t){return 2==(2&t.flags)}function Se(t){return 1==(1&t.flags)}function Ae(t){return null!==t.template}function ke(t){return 0!=(512&t[2])}let Ne=void 0;function xe(t){return!!t.listen}const Oe={createRenderer:(t,e)=>void 0!==Ne?Ne:"undefined"!=typeof document?document:void 0};function Re(t){for(;Array.isArray(t);)t=t[0];return t}function De(t,e){return Re(e[t+19])}function Pe(t,e){return Re(e[t.index])}function Le(t,e){return t.data[e+19]}function Me(t,e){const n=e[t];return Ee(n)?n:n[0]}function Ve(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Ue(t){return 4==(4&t[2])}function je(t){return 128==(128&t[2])}function Fe(t,e){return null===t||null==e?null:t[e]}function qe(t){t[18]=0}const Be={lFrame:un(null),bindingsEnabled:!0,checkNoChangesMode:!1};function ze(){return Be.bindingsEnabled}function He(){return Be.lFrame.lView}function Ge(){return Be.lFrame.tView}function We(t){Be.lFrame.contextLView=t}function $e(){return Be.lFrame.previousOrParentTNode}function Ke(t,e){Be.lFrame.previousOrParentTNode=t,Be.lFrame.isParent=e}function Je(){return Be.lFrame.isParent}function Ye(){Be.lFrame.isParent=!1}function Qe(){return Be.checkNoChangesMode}function Xe(t){Be.checkNoChangesMode=t}function Ze(){return Be.lFrame.bindingIndex++}function tn(t){const e=Be.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function en(t,e){const n=Be.lFrame;n.bindingIndex=n.bindingRootIndex=t,n.currentDirectiveIndex=e}function nn(){return Be.lFrame.currentQueryIndex}function rn(t){Be.lFrame.currentQueryIndex=t}function on(t,e){const n=an();Be.lFrame=n,n.previousOrParentTNode=e,n.lView=t}function sn(t,e){const n=an(),r=t[1];Be.lFrame=n,n.previousOrParentTNode=e,n.lView=t,n.tView=r,n.contextLView=t,n.bindingIndex=r.bindingStartIndex}function an(){const t=Be.lFrame,e=null===t?null:t.child;return null===e?un(t):e}function un(t){const e={previousOrParentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentSanitizer:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null};return null!==t&&(t.child=e),e}function cn(){const t=Be.lFrame;return Be.lFrame=t.parent,t.previousOrParentTNode=null,t.lView=null,t}const ln=cn;function hn(){const t=cn();t.isParent=!0,t.tView=null,t.selectedIndex=0,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.currentSanitizer=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function fn(){return Be.lFrame.selectedIndex}function dn(t){Be.lFrame.selectedIndex=t}function pn(){const t=Be.lFrame;return Le(t.tView,t.selectedIndex)}function mn(){Be.lFrame.currentNamespace="http://www.w3.org/2000/svg"}function gn(){Be.lFrame.currentNamespace=null}function vn(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n];e.afterContentInit&&(t.contentHooks||(t.contentHooks=[])).push(-n,e.afterContentInit),e.afterContentChecked&&((t.contentHooks||(t.contentHooks=[])).push(n,e.afterContentChecked),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,e.afterContentChecked)),e.afterViewInit&&(t.viewHooks||(t.viewHooks=[])).push(-n,e.afterViewInit),e.afterViewChecked&&((t.viewHooks||(t.viewHooks=[])).push(n,e.afterViewChecked),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,e.afterViewChecked)),null!=e.onDestroy&&(t.destroyHooks||(t.destroyHooks=[])).push(n,e.onDestroy)}}function yn(t,e,n){_n(t,e,3,n)}function wn(t,e,n,r){(3&t[2])===n&&_n(t,e,n,r)}function bn(t,e){let n=t[2];(3&n)===e&&(n&=1023,n+=1,t[2]=n)}function _n(t,e,n,r){const i=null!=r?r:-1;let o=0;for(let s=void 0!==r?65535&t[18]:0;s<e.length;s++)if("number"==typeof e[s+1]){if(o=e[s],null!=r&&o>=r)break}else e[s]<0&&(t[18]+=65536),(o<i||-1==i)&&(En(t,n,e,s),t[18]=(4294901760&t[18])+s+2),s++}function En(t,e,n,r){const i=n[r]<0,o=n[r+1],s=t[i?-n[r]:n[r]];i?t[2]>>10<t[18]>>16&&(3&t[2])===e&&(t[2]+=1024,o.call(s)):o.call(s)}class In{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function Cn(t,e,n){const r=xe(t);let i=0;for(;i<n.length;){const o=n[i];if("number"==typeof o){if(0!==o)break;i++;const s=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,s):e.setAttributeNS(s,a,u)}else{const s=o,a=n[++i];Sn(s)?r&&t.setProperty(e,s,a):r?t.setAttribute(e,s,a):e.setAttribute(s,a),i++}}return i}function Tn(t){return 3===t||4===t||6===t}function Sn(t){return 64===t.charCodeAt(0)}function An(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||kn(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function kn(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const n=t[o++];if("number"==typeof n){if(n===e){s=-1;break}if(n>e){s=o-1;break}}}for(;o<t.length;){const e=t[o];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function Nn(t){return-1!==t}function xn(t){return 32767&t}function On(t){return t>>16}function Rn(t,e){let n=On(t),r=e;for(;n>0;)r=r[15],n--;return r}function Dn(t){return"string"==typeof t?t:null==t?"":""+t}function Pn(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Dn(t)}const Ln=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(xt))();function Mn(t){return t instanceof Function?t():t}let Vn=!0;function Un(t){const e=Vn;return Vn=t,e}let jn=0;function Fn(t,e){const n=Bn(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,qn(r.data,t),qn(e,null),qn(r.blueprint,null));const i=zn(t,e),o=t.injectorIndex;if(Nn(i)){const t=xn(i),n=Rn(i,e),r=n[1].data;for(let i=0;i<8;i++)e[o+i]=n[t+i]|r[t+i]}return e[o+8]=i,o}function qn(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Bn(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null==e[t.injectorIndex+8]?-1:t.injectorIndex}function zn(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=e[6],r=1;for(;n&&-1===n.injectorIndex;)n=(e=e[15])?e[6]:null,r++;return n?n.injectorIndex|r<<16:-1}function Hn(t,e,n){!function(t,e,n){let r="string"!=typeof n?n[Vt]:n.charCodeAt(0)||0;null==r&&(r=n[Vt]=jn++);const i=255&r,o=1<<i,s=64&i,a=32&i,u=e.data;128&i?s?a?u[t+7]|=o:u[t+6]|=o:a?u[t+5]|=o:u[t+4]|=o:s?a?u[t+3]|=o:u[t+2]|=o:a?u[t+1]|=o:u[t]|=o}(t,e,n)}function Gn(t,e,n,r=at.Default,i){if(null!==t){const i=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t[Vt];return"number"==typeof e&&e>0?255&e:e}(n);if("function"==typeof i){on(e,t);try{const t=i();if(null!=t||r&at.Optional)return t;throw new Error(`No provider for ${Pn(n)}!`)}finally{ln()}}else if("number"==typeof i){if(-1===i)return new Xn(t,e);let o=null,s=Bn(t,e),a=-1,u=r&at.Host?e[16][6]:null;for((-1===s||r&at.SkipSelf)&&(a=-1===s?zn(t,e):e[s+8],Qn(r,!1)?(o=e[1],s=xn(a),e=Rn(a,e)):s=-1);-1!==s;){a=e[s+8];const t=e[1];if(Yn(i,s,t.data)){const t=$n(s,e,n,o,r,u);if(t!==Wn)return t}Qn(r,e[1].data[s+8]===u)&&Yn(i,s,e)?(o=t,s=xn(a),e=Rn(a,e)):s=-1}}}if(r&at.Optional&&void 0===i&&(i=null),0==(r&(at.Self|at.Host))){const t=e[9],o=Wt(void 0);try{return t?t.get(n,i,r&at.Optional):Jt(n,i,r&at.Optional)}finally{Wt(o)}}if(r&at.Optional)return i;throw new Error(`NodeInjector: NOT_FOUND [${Pn(n)}]`)}const Wn={};function $n(t,e,n,r,i,o){const s=e[1],a=s.data[t+8],u=Kn(a,s,n,null==r?Te(a)&&Vn:r!=s&&3===a.type,i&at.Host&&o===a);return null!==u?Jn(e,s,u,a):Wn}function Kn(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=65535&o,u=t.directiveStart,c=o>>16,l=i?a+c:t.directiveEnd;for(let h=r?a:a+c;h<l;h++){const t=s[h];if(h<u&&n===t||h>=u&&t.type===n)return h}if(i){const t=s[u];if(t&&Ae(t)&&t.type===n)return u}return null}function Jn(t,e,n,r){let i=t[n];const o=e.data;if(i instanceof In){const s=i;if(s.resolving)throw new Error(`Circular dep for ${Pn(o[n])}`);const a=Un(s.canSeeViewProviders);let u;s.resolving=!0,s.injectImpl&&(u=Wt(s.injectImpl)),on(t,r);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{onChanges:r,onInit:i,doCheck:o}=e;r&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)),i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{s.injectImpl&&Wt(u),Un(a),s.resolving=!1,ln()}}return i}function Yn(t,e,n){const r=64&t,i=32&t;let o;return o=128&t?r?i?n[e+7]:n[e+6]:i?n[e+5]:n[e+4]:r?i?n[e+3]:n[e+2]:i?n[e+1]:n[e],!!(o&1<<t)}function Qn(t,e){return!(t&at.Self||t&at.Host&&e)}class Xn{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return Gn(this._tNode,this._lView,t,void 0,e)}}function Zn(t){return et(()=>{const e=Object.getPrototypeOf(t.prototype).constructor,n=e[Mt]||function t(e){const n=e;if(Tt(e))return()=>{const e=t(Ct(n));return e?e():null};let r=be(n);if(null===r){const t=pt(n);r=t&&t.factory}return r||null}(e);return null!==n?n:t=>new t})}function tr(t){return t.ngDebugContext}function er(t){return t.ngOriginalError}function nr(t,...e){t.error(...e)}class rr{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||nr}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?tr(t)?tr(t):this._findContext(er(t)):null}_findOriginalError(t){let e=er(t);for(;e&&er(e);)e=er(e);return e}}class ir{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity}`+" (see http://g.co/ng/security#xss)"}}function or(t){return t instanceof ir?t.changingThisBreaksApplicationSecurity:t}let sr=!0,ar=!1;function ur(){return ar=!0,sr}const cr=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,lr=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i,hr=function(){var t={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return t[t.NONE]="NONE",t[t.HTML]="HTML",t[t.STYLE]="STYLE",t[t.SCRIPT]="SCRIPT",t[t.URL]="URL",t[t.RESOURCE_URL]="RESOURCE_URL",t}();function fr(t){const e=function(){const t=He();return t&&t[12]}();return e?e.sanitize(hr.URL,t)||"":function(t,e){const n=function(t){return t instanceof ir&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see http://g.co/ng/security#xss)`)}return n===e}(t,"URL")?or(t):(n=Dn(t),(n=String(n)).match(cr)||n.match(lr)?n:(ur()&&console.warn(`WARNING: sanitizing unsafe URL value ${n} (see http://g.co/ng/security#xss)`),"unsafe:"+n));var n}function dr(t,e){t.__ngContext__=e}function pr(t){throw new Error(`Multiple components match node with tagname ${t.tagName}`)}function mr(){throw new Error("Cannot mix multi providers and regular providers")}function gr(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}function vr(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==gr(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function yr(t,e,n){return e===(0!==t.type||n?t.tagName:"ng-template")}function wr(t,e,n){let r=4;const i=t.attrs||[],o=function(t){for(let e=0;e<t.length;e++)if(Tn(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!yr(t,u,n)||""===u&&1===e.length){if(br(r))return!1;s=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!vr(t.attrs,c,n)){if(br(r))return!1;s=!0}continue}const l=_r(8&r?"class":u,i,0==t.type&&"ng-template"!==t.tagName,n);if(-1===l){if(br(r))return!1;s=!0;continue}if(""!==c){let t;t=l>o?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==gr(e,c,0)||2&r&&c!==t){if(br(r))return!1;s=!0}}}}else{if(!s&&!br(r)&&!br(u))return!1;if(s&&br(u))continue;s=!1,r=u|1&r}}return br(r)||s}function br(t){return 0==(1&t)}function _r(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){if(t[n]===e)return n;n++}return-1}(e,t)}function Er(t,e,n=!1){for(let r=0;r<e.length;r++)if(wr(t,e[r],n))return!0;return!1}function Ir(t,e){return t?":not("+e.trim()+")":e}function Cr(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const e=t[++n];i+="["+s+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""===i||br(s)||(e+=Ir(o,i),i=""),r=s,o=o||!br(r);n++}return""!==i&&(e+=Ir(o,i)),e}const Tr={};function Sr(t){const e=t[3];return Ie(e)?e[3]:e}function Ar(t){kr(Ge(),He(),fn()+t,Qe())}function kr(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&yn(e,r,n)}else{const r=t.preOrderHooks;null!==r&&wn(e,r,0,n)}dn(n)}function Nr(t,e){return t<<17|e<<2}function xr(t){return t>>17&32767}function Or(t){return 2|t}function Rr(t){return(131068&t)>>2}function Dr(t,e){return-131069&t|e<<2}function Pr(t){return 1|t}function Lr(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],o=n[r+1];if(-1!==o){const n=t.data[o];rn(i),n.contentQueries(2,e[o],o)}}}function Mr(t,e,n){return xe(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function Vr(t,e,n,r,i,o,s,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,qe(l),l[3]=l[15]=t,l[8]=n,l[10]=s||t&&t[10],l[11]=a||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function Ur(t,e,n,r,i,o){const s=n+19,a=t.data[s]||function(t,e,n,r,i,o){const s=$e(),a=Je(),u=a?s:s&&s.parent,c=t.data[n]=$r(0,u&&u!==e?u:null,r,n,i,o);return null===t.firstChild&&(t.firstChild=c),s&&(!a||null!=s.child||null===c.parent&&2!==s.type?a||(s.next=c):s.child=c),c}(t,e,s,r,i,o);return Ke(a,!0),a}function jr(t,e,n){sn(e,e[6]);try{const r=t.viewQuery;null!==r&&gi(1,r,n);const i=t.template;null!==i&&Br(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Lr(t,e),t.staticViewQueries&&gi(2,t.viewQuery,n);const o=t.components;null!==o&&function(t,e){for(let n=0;n<e.length;n++)hi(t,e[n])}(e,o)}finally{e[2]&=-5,hn()}}function Fr(t,e,n,r){const i=e[2];if(256==(256&i))return;sn(e,e[6]);const o=Qe();try{qe(e),Be.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Br(t,e,n,2,r);const s=3==(3&i);if(!o)if(s){const n=t.preOrderCheckHooks;null!==n&&yn(e,n,null)}else{const n=t.preOrderHooks;null!==n&&wn(e,n,0,null),bn(e,0)}if(function(t){let e=t[13];for(;null!==e;){let n;if(Ie(e)&&(n=e[2])>>1==-1){for(let t=9;t<e.length;t++){const n=e[t],r=n[1];je(n)&&Fr(r,n,r.template,n[8])}0!=(1&n)&&ci(e,t[16])}e=e[4]}}(e),null!==t.contentQueries&&Lr(t,e),!o)if(s){const n=t.contentCheckHooks;null!==n&&yn(e,n)}else{const n=t.contentHooks;null!==n&&wn(e,n,1),bn(e,1)}!function(t,e){try{const n=t.expandoInstructions;if(null!==n){let r=t.expandoStartIndex,i=-1,o=-1;for(let t=0;t<n.length;t++){const s=n[t];"number"==typeof s?s<=0?(o=0-s,dn(o),r+=9+n[++t],i=r):r+=s:(null!==s&&(en(r,i),s(2,e[i])),i++)}}}finally{dn(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)li(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&gi(2,u,r),!o)if(s){const n=t.viewCheckHooks;null!==n&&yn(e,n)}else{const n=t.viewHooks;null!==n&&wn(e,n,2),bn(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73)}finally{hn()}}function qr(t,e,n,r){const i=e[10],o=!Qe(),s=Ue(e);try{o&&!s&&i.begin&&i.begin(),s&&jr(t,e,r),Fr(t,e,n,r)}finally{o&&!s&&i.end&&i.end()}}function Br(t,e,n,r,i){const o=fn();try{dn(-1),2&r&&e.length>19&&kr(t,e,0,Qe()),n(r,i)}finally{dn(o)}}function zr(t,e,n){ze()&&(function(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||Fn(n,e),dr(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const r=t.data[a],o=Ae(r);o&&oi(e,n,r);const u=Jn(e,t,a,n);dr(u,e),null!==s&&si(0,a-i,u,r,0,s),o&&(Me(n.index,e)[8]=u)}}(t,e,n,Pe(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=t.expandoInstructions,s=t.firstCreatePass,a=n.index-19;try{dn(a);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];null!==r.hostBindings||0!==r.hostVars||null!==r.hostAttrs?Zr(r,i):s&&o.push(null)}}finally{dn(-1)}}(t,e,n))}function Hr(t,e,n=Pe){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function Gr(t){return t.tView||(t.tView=Wr(1,-1,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts))}function Wr(t,e,n,r,i,o,s,a,u,c){const l=19+r,h=l+i,f=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:Tr);return n}(l,h);return f[1]={type:t,id:e,blueprint:f,template:n,queries:null,viewQuery:a,node:null,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:c}}function $r(t,e,n,r,i,o){return{type:n,index:r,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,residualStyles:void 0,classes:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Kr(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function Jr(t,e,n,r,i,o,s,a){const u=Pe(e,n);let c,l=e.inputs;!a&&null!=l&&(c=l[r])?(_i(t,n,c,r,i),Te(e)&&function(t,e){const n=Me(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3===e.type&&(r=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=s?s(i,e.tagName||"",r):i,xe(o)?o.setProperty(u,r,i):Sn(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function Yr(t,e,n,r){let i=!1;if(ze()){const o=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];Er(n,s.selectors,!1)&&(i||(i=[]),Hn(Fn(n,e),t,s.type),Ae(s)?(2&n.flags&&pr(n),ei(t,n),i.unshift(s)):i.push(s))}return i}(t,e,n),s=null===r?null:{"":-1};if(null!==o){let r=0;i=!0,ri(n,t.data.length,o.length);for(let t=0;t<o.length;t++){const e=o[t];e.providersResolver&&e.providersResolver(e)}ti(t,n,o.length);let a=!1,u=!1;for(let i=0;i<o.length;i++){const c=o[i];n.mergedAttrs=An(n.mergedAttrs,c.hostAttrs),ii(t,e,c),ni(t.data.length-1,c,s),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128),!a&&(c.onChanges||c.onInit||c.doCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index-19),a=!0),u||!c.onChanges&&!c.doCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index-19),u=!0),Qr(t,c),r+=c.hostVars}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,o=[];let s=null,a=null;for(let u=e.directiveStart;u<n;u++){const t=r[u],e=t.inputs;o.push(null!==i?ai(e,i):null),s=Kr(e,u,s),a=Kr(t.outputs,u,a)}null!==s&&(s.hasOwnProperty("class")&&(e.flags|=16),s.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=s,e.outputs=a}(t,n),Xr(t,e,r)}s&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new Error(`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,s)}return n.mergedAttrs=An(n.mergedAttrs,n.attrs),i}function Qr(t,e){const n=t.expandoInstructions;n.push(e.hostBindings),0!==e.hostVars&&n.push(e.hostVars)}function Xr(t,e,n){for(let r=0;r<n;r++)e.push(Tr),t.blueprint.push(Tr),t.data.push(null)}function Zr(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function ti(t,e,n){const r=19-e.index,i=t.data.length-(65535&e.providerIndexes);(t.expandoInstructions||(t.expandoInstructions=[])).push(r,i,n)}function ei(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function ni(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Ae(e)&&(n[""]=t)}}function ri(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function ii(t,e,n){t.data.push(n);const r=n.factory||(n.factory=be(n.type)),i=new In(r,Ae(n),null);t.blueprint.push(i),e.push(i)}function oi(t,e,n){const r=Pe(e,t),i=Gr(n),o=t[10],s=fi(t,Vr(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n)));t[e.index]=s}function si(t,e,n,r,i,o){const s=o[e];if(null!==s){const t=r.setInput;for(let e=0;e<s.length;){const i=s[e++],o=s[e++],a=s[e++];null!==t?r.setInput(n,a,i,o):n[o]=a}}}function ai(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function ui(t,e,n,r){return new Array(t,!0,-2,e,null,null,r,n,null)}function ci(t,e){const n=t[5];for(let r=0;r<n.length;r++){const t=n[r],i=t[3][3][16];if(i!==e&&0==(16&i[2])){const e=t[1];Fr(e,t,e.template,t[8])}}}function li(t,e){const n=Me(e,t);if(je(n)&&80&n[2]){const t=n[1];Fr(t,n,t.template,n[8])}}function hi(t,e){const n=Me(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),jr(r,n,n[8])}function fi(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function di(t){for(;t;){t[2]|=64;const e=Sr(t);if(ke(t)&&!e)return t;t=e}return null}function pi(t,e,n){const r=e[10];r.begin&&r.begin();try{Fr(t,e,t.template,n)}catch(i){throw bi(e,i),i}finally{r.end&&r.end()}}function mi(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=Ve(n),i=r[1];qr(i,r,i.template,n)}}(t[8])}function gi(t,e,n){rn(0),e(t,n)}const vi=(()=>Promise.resolve(null))();function yi(t){return t[7]||(t[7]=[])}function wi(t){return t.cleanup||(t.cleanup=[])}function bi(t,e){const n=t[9],r=n?n.get(rr,null):null;r&&r.handleError(e)}function _i(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],u=e[s],c=t.data[s];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function Ei(t,e){const n=e[3];return-1===t.index?Ie(n)?n:null:n}function Ii(t,e){const n=Ei(t,e);return n?Li(e[11],n[7]):null}function Ci(t,e,n,r,i){if(null!=r){let o,s=!1;Ie(r)?o=r:Ee(r)&&(s=!0,r=r[0]);const a=Re(r);0===t&&null!==n?null==i?Di(e,n,a):Ri(e,n,a,i||null):1===t&&null!==n?Ri(e,n,a,i||null):2===t?function(t,e,n){const r=Li(t,e);r&&function(t,e,n,r){xe(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function(t,e,n,r,i){const o=n[7];o!==Re(n)&&Ci(e,t,r,o,i);for(let s=9;s<n.length;s++){const i=n[s];Fi(i[1],i,t,e,r,o)}}(e,t,o,n,i)}}function Ti(t,e,n,r){const i=Ii(t.node,e);i&&Fi(t,e,e[11],n?1:2,i,r)}function Si(t,e){const n=t[5],r=n.indexOf(e);n.splice(r,1)}function Ai(t,e){if(t.length<=9)return;const n=9+e,r=t[n];if(r){const i=r[17];null!==i&&i!==t&&Si(i,r),e>0&&(t[n-1][4]=r[4]);const o=ne(t,9+e);Ti(r[1],r,!1,null);const s=o[5];null!==s&&s.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function ki(t,e){if(!(256&e[2])){const n=e[11];xe(n)&&n.destroyNode&&Fi(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return xi(t[1],t);for(;e;){let n=null;if(Ee(e))n=e[13];else{const t=e[9];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)Ee(e)&&xi(e[1],e),e=Ni(e,t);null===e&&(e=t),Ee(e)&&xi(e[1],e),n=e&&e[4]}e=n}}(e)}}function Ni(t,e){let n;return Ee(t)&&(n=t[6])&&2===n.type?Ei(n,t):t[3]===e?null:t[3]}function xi(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];t instanceof In||n[r+1].call(t)}}(t,e),function(t,e){const n=t.cleanup;if(null!==n){const t=e[7];for(let r=0;r<n.length-1;r+=2)if("string"==typeof n[r]){const i=n[r+1],o="function"==typeof i?i(e):Re(e[i]),s=t[n[r+2]],a=n[r+3];"boolean"==typeof a?o.removeEventListener(n[r],s,a):a>=0?t[a]():t[-a].unsubscribe(),r+=2}else n[r].call(t[n[r+1]]);e[7]=null}}(t,e);const n=e[6];n&&3===n.type&&xe(e[11])&&e[11].destroy();const r=e[17];if(null!==r&&Ie(e[3])){r!==e[3]&&Si(r,e);const n=e[5];null!==n&&n.detachView(t)}}}function Oi(t,e,n){let r=e.parent;for(;null!=r&&(4===r.type||5===r.type);)r=(e=r).parent;if(null==r){const t=n[6];return 2===t.type?Ii(t,n):n[0]}if(e&&5===e.type&&4&e.flags)return Pe(e,n).parentNode;if(2&r.flags){const e=t.data,n=e[e[r.index].directiveStart].encapsulation;if(n!==ue.ShadowDom&&n!==ue.Native)return null}return Pe(r,n)}function Ri(t,e,n,r){xe(t)?t.insertBefore(e,n,r):e.insertBefore(n,r,!0)}function Di(t,e,n){xe(t)?t.appendChild(e,n):e.appendChild(n)}function Pi(t,e,n,r){null!==r?Ri(t,e,n,r):Di(t,e,n)}function Li(t,e){return xe(t)?t.parentNode(e):e.parentNode}function Mi(t,e){if(2===t.type){const n=Ei(t,e);return null===n?null:Ui(n.indexOf(e,9)-9,n)}return 4===t.type||5===t.type?Pe(t,e):null}function Vi(t,e,n,r){const i=Oi(t,r,e);if(null!=i){const t=e[11],o=Mi(r.parent||e[6],e);if(Array.isArray(n))for(let e=0;e<n.length;e++)Pi(t,i,n[e],o);else Pi(t,i,n,o)}}function Ui(t,e){const n=9+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return function t(e,n){if(null!==n){const r=n.type;if(3===r)return Pe(n,e);if(0===r)return Ui(-1,e[n.index]);if(4===r||5===r){const r=n.child;if(null!==r)return t(e,r);{const t=e[n.index];return Ie(t)?Ui(-1,t):Re(t)}}{const r=e[16],i=r[6],o=Sr(r),s=i.projection[n.projection];return null!=s?t(o,s):t(e,n.next)}}return null}(t,r)}return e[7]}function ji(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],u=n.type;s&&0===e&&(a&&dr(Re(a),r),n.flags|=4),64!=(64&n.flags)&&(4===u||5===u?(ji(t,e,n.child,r,i,o,!1),Ci(e,t,i,a,o)):1===u?qi(t,e,r,n,i,o):Ci(e,t,i,a,o)),n=s?n.projectionNext:n.next}}function Fi(t,e,n,r,i,o){ji(n,r,t.node.child,e,i,o,!1)}function qi(t,e,n,r,i,o){const s=n[16],a=s[6].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)Ci(e,t,i,a[u],o);else ji(t,e,a,s[3],i,o,!0)}function Bi(t,e,n){xe(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function zi(t,e,n){xe(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}class Hi{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._viewContainerRef=null,this._tViewNode=null}get rootNodes(){const t=this._lView;return null==t[0]?function t(e,n,r,i,o=!1){for(;null!==r;){const s=n[r.index];if(null!==s&&i.push(Re(s)),Ie(s))for(let e=9;e<s.length;e++){const n=s[e],r=n[1].firstChild;null!==r&&t(n[1],n,r,i)}const a=r.type;if(4===a||5===a)t(e,n,r.child,i);else if(1===a){const e=n[16],o=e[6],s=Sr(e);let a=o.projection[r.projection];null!==a&&null!==s&&t(s[1],s,a,i,!0)}r=o?r.projectionNext:r.next}return i}(t[1],t,t[6].child,[]):[]}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){const t=this._viewContainerRef.indexOf(this);t>-1&&this._viewContainerRef.detach(t),this._viewContainerRef=null}ki(this._lView[1],this._lView)}onDestroy(t){var e,n,r;e=this._lView[1],r=t,yi(n=this._lView).push(r),e.firstCreatePass&&wi(e).push(n[7].length-1,null)}markForCheck(){di(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){pi(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){Xe(!0);try{pi(t,e,n)}finally{Xe(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}detachFromAppRef(){var t;this._appRef=null,Fi(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class Gi extends Hi{constructor(t){super(t),this._view=t}detectChanges(){mi(this._view)}checkNoChanges(){!function(t){Xe(!0);try{mi(t)}finally{Xe(!1)}}(this._view)}get context(){return null}}let Wi,$i,Ki;function Ji(t,e,n){return Wi||(Wi=class extends t{}),new Wi(Pe(e,n))}function Yi(t,e,n,r){return $i||($i=class extends t{constructor(t,e,n){super(),this._declarationView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=Vr(this._declarationView,e,t,16,null,e.node);n[17]=this._declarationView[this._declarationTContainer.index];const r=this._declarationView[5];null!==r&&(n[5]=r.createEmbeddedView(e)),jr(e,n,t);const i=new Hi(n);return i._tViewNode=n[6],i}}),0===n.type?new $i(r,n,Ji(e,n,r)):null}function Qi(t,e,n,r){let i;Ki||(Ki=class extends t{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostView=n}get element(){return Ji(e,this._hostTNode,this._hostView)}get injector(){return new Xn(this._hostTNode,this._hostView)}get parentInjector(){const t=zn(this._hostTNode,this._hostView),e=Rn(t,this._hostView),n=function(t,e,n){if(n.parent&&-1!==n.parent.injectorIndex){const t=n.parent.injectorIndex;let e=n.parent;for(;null!=e.parent&&t==e.parent.injectorIndex;)e=e.parent;return e}let r=On(t),i=e,o=e[6];for(;r>1;)i=i[15],o=i[6],r--;return o}(t,this._hostView,this._hostTNode);return Nn(t)&&null!=n?new Xn(n,e):new Xn(null,this._hostView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){return null!==this._lContainer[8]&&this._lContainer[8][t]||null}get length(){return this._lContainer.length-9}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){const t=o.get(Xt,null);t&&(i=t)}const s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}insert(t,e){const n=t._lView,r=n[1];if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(this.allocateContainerIfNeeded(),Ie(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new Ki(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e);return function(t,e,n,r){const i=9+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-9?(e[4]=n[i],ee(n,9+r,e)):(n.push(e),e[4]=null),e[3]=n;const s=e[17];null!==s&&n!==s&&function(t,e){const n=t[5],r=e[3][3][16];16!=(16&r[2])&&e[16]!==r&&(t[2]|=1),null===n?t[5]=[e]:n.push(e)}(s,e);const a=e[5];null!==a&&a.insertView(t),e[2]|=128}(r,n,this._lContainer,i),Ti(r,n,!0,Ui(i,this._lContainer)),t.attachToViewContainerRef(this),ee(this._lContainer[8],i,t),t}move(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(t,e)}indexOf(t){const e=this._lContainer[8];return null!==e?e.indexOf(t):-1}remove(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1);(function(t,e){const n=Ai(t,e);n&&ki(n[1],n)})(this._lContainer,e),ne(this._lContainer[8],e)}detach(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1),n=Ai(this._lContainer,e);return n&&null!=ne(this._lContainer[8],e)?new Hi(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}allocateContainerIfNeeded(){null===this._lContainer[8]&&(this._lContainer[8]=[])}});const o=r[n.index];if(Ie(o))i=o,function(t,e){t[2]=-2}(i);else{let t;if(4===n.type)t=Re(o);else if(t=r[11].createComment(""),ke(r)){const e=r[11],i=Pe(n,r);Ri(e,Li(e,i),t,function(t,e){return xe(t)?t.nextSibling(e):e.nextSibling}(e,i))}else Vi(r[1],r,t,n);r[n.index]=i=ui(o,r,t,n),fi(r,i)}return new Ki(i,n,r)}let Xi=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Zi(),t})();const Zi=function(t=!1){return function(t,e,n){if(!n&&Te(t)){const n=Me(t.index,e);return new Hi(n,n)}return 3===t.type||0===t.type||4===t.type||5===t.type?new Hi(e[16],e):null}($e(),He(),t)},to=new Ut("Set Injector scope."),eo={},no={},ro=[];let io=void 0;function oo(){return void 0===io&&(io=new Qt),io}function so(t,e=null,n=null,r){return new ao(t,n,e||oo(),r)}class ao{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&te(e,n=>this.processProvider(n,t,e)),te([t],t=>this.processInjectorType(t,[],i)),this.records.set(jt,lo(void 0,this));const o=this.records.get(to);this.scope=null!=o?o.value:null,this.source=r||("object"==typeof t?null:bt(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=Ft,n=at.Default){this.assertNotDestroyed();const r=Gt(this);try{if(!(n&at.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof Ut)&&ft(t);e=n&&this.injectableDefInScope(n)?lo(uo(t),eo):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&at.Self?oo():this.parent).get(t,e=n&at.Optional&&e===Ft?null:e)}catch(o){if("NullInjectorError"===o.name){if((o.ngTempTokenPath=o.ngTempTokenPath||[]).unshift(bt(t)),r)throw o;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e.__source&&i.unshift(e.__source),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=bt(e);if(Array.isArray(e))i=e.map(bt).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):bt(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(qt,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(o,t,"R3InjectorError",this.source)}throw o}finally{Gt(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(bt(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=Ct(t)))return!1;let r=pt(t);const i=null==r&&t.ngModule||void 0,o=void 0===i?t:i,s=-1!==n.indexOf(o);if(void 0!==i&&(r=pt(i)),null==r)return!1;if(null!=r.imports&&!s){let t;n.push(o);try{te(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];te(r,t=>this.processProvider(t,n,r||ro))}}this.injectorDefTypes.add(o),this.records.set(o,lo(r.factory,eo));const a=r.providers;if(null!=a&&!s){const e=t;te(a,t=>this.processProvider(t,e,a))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=fo(t=Ct(t))?t:Ct(t&&t.provide);const i=function(t,e,n){return ho(t)?lo(void 0,t.useValue):lo(co(t,e,n),eo)}(t,e,n);if(fo(t)||!0!==t.multi){const t=this.records.get(r);t&&void 0!==t.multi&&mr()}else{let e=this.records.get(r);e?void 0===e.multi&&mr():(e=lo(void 0,eo,!0),e.factory=()=>Yt(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===no?function(t){throw new Error(`Cannot instantiate cyclic dependency! ${t}`)}(bt(t)):e.value===eo&&(e.value=no,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function uo(t){const e=ft(t),n=null!==e?e.factory:be(t);if(null!==n)return n;const r=pt(t);if(null!==r)return r.factory;if(t instanceof Ut)throw new Error(`Token ${bt(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=re(e,"?");throw new Error(`Can't resolve all parameters for ${bt(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[mt]||t[yt]||t[vt]&&t[vt]());if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\n`+`This will become an error in v10. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function co(t,e,n){let r=void 0;if(fo(t)){const e=Ct(t);return be(e)||uo(e)}if(ho(t))r=()=>Ct(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...Yt(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>Kt(Ct(t.useExisting));else{const i=Ct(t&&(t.useClass||t.provide));if(i||function(t,e,n){let r="";throw t&&e&&(r=` - only instances of Provider and Type are allowed, got: [${e.map(t=>t==n?"?"+n+"?":"...").join(", ")}]`),new Error(`Invalid provider for the NgModule '${bt(t)}'`+r)}(e,n,t),!function(t){return!!t.deps}(t))return be(i)||uo(i);r=()=>new i(...Yt(t.deps))}var i;return r}function lo(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function ho(t){return null!==t&&"object"==typeof t&&Bt in t}function fo(t){return"function"==typeof t}const po=function(t,e,n){return function(t,e=null,n=null,r){const i=so(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let mo=(()=>{class t{static create(t,e){return Array.isArray(t)?po(t,e,""):po(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=Ft,t.NULL=new Qt,t.\u0275prov=lt({token:t,providedIn:"any",factory:()=>Kt(jt)}),t.__NG_ELEMENT_ID__=-1,t})();const go=new Ut("AnalyzeForEntryComponents");let vo=new Map;const yo=new Set;function wo(t){return"string"==typeof t?t:t.text()}function bo(t,e){let n=t.styles,r=t.classes,i=0;for(let o=0;o<e.length;o++){const t=e[o];"number"==typeof t?i=t:1==i?r=_t(r,t):2==i&&(n=_t(n,t+": "+e[++o]+";"))}null!==n&&(t.styles=n),null!==r&&(t.classes=r)}let _o=null;function Eo(){if(!_o){const t=xt.Symbol;if(t&&t.iterator)_o=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(_o=n)}}}return _o}function Io(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}function Co(t){return!!To(t)&&(Array.isArray(t)||!(t instanceof Map)&&Eo()in t)}function To(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function So(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Ao(t,e,n,r){const i=He();return So(i,Ze(),e)&&(Ge(),function(t,e,n,r,i,o){const s=Pe(t,e),a=e[11];if(null==r)xe(a)?a.removeAttribute(s,n,o):s.removeAttribute(n);else{const e=null==i?Dn(r):i(r,t.tagName||"",n);xe(a)?a.setAttribute(s,n,e,o):o?s.setAttributeNS(o,n,e):s.setAttribute(n,e)}}(pn(),i,t,e,n,r)),Ao}function ko(t,e,n,r,i,o,s,a){const u=He(),c=Ge(),l=t+19,h=c.firstCreatePass?function(t,e,n,r,i,o,s,a,u){const c=e.consts,l=Ur(e,n[6],t,0,s||null,Fe(c,a));Yr(e,n,l,Fe(c,u)),vn(e,l);const h=l.tViews=Wr(2,-1,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c),f=$r(0,null,2,-1,null,null);return f.injectorIndex=l.injectorIndex,h.node=f,null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(t,c,u,e,n,r,i,o,s):c.data[l];Ke(h,!1);const f=u[11].createComment("");Vi(c,u,f,h),dr(f,u),fi(u,u[l]=ui(f,u,f,h)),Se(h)&&zr(c,u,h),null!=s&&Hr(u,h,a)}function No(t,e=at.Default){const n=He();return null==n?Kt(t,e):Gn($e(),n,Ct(t),e)}function xo(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(Tn(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}($e(),t)}function Oo(){throw new Error("invalid")}function Ro(t,e,n){const r=He();return So(r,Ze(),e)&&Jr(Ge(),pn(),r,t,e,r[11],n,!1),Ro}function Do(t,e,n,r,i){const o=i?"class":"style";_i(t,n,e.inputs[o],o,r)}function Po(t,e,n,r){const i=He(),o=Ge(),s=19+t,a=i[11],u=i[s]=Mr(e,a,Be.lFrame.currentNamespace),c=o.firstCreatePass?function(t,e,n,r,i,o,s){const a=e.consts,u=Fe(a,o),c=Ur(e,n[6],t,3,i,u);return Yr(e,n,c,Fe(a,s)),null!==c.mergedAttrs&&bo(c,c.mergedAttrs),null!==e.queries&&e.queries.elementStart(e,c),c}(t,o,i,0,e,n,r):o.data[s];Ke(c,!0);const l=c.mergedAttrs;null!==l&&Cn(a,u,l);const h=c.classes;null!==h&&zi(a,u,h);const f=c.styles;null!==f&&Bi(a,u,f),Vi(o,i,u,c),0===Be.lFrame.elementDepthCount&&dr(u,i),Be.lFrame.elementDepthCount++,Se(c)&&(zr(o,i,c),function(t,e,n){if(Ce(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}(o,c,i)),null!==r&&Hr(i,c)}function Lo(){let t=$e();Je()?Ye():(t=t.parent,Ke(t,!1));const e=t;Be.lFrame.elementDepthCount--;const n=Ge();n.firstCreatePass&&(vn(n,t),Ce(t)&&n.queries.elementEnd(t)),null!==e.classes&&function(t){return 0!=(16&t.flags)}(e)&&Do(n,e,He(),e.classes,!0),null!==e.styles&&function(t){return 0!=(32&t.flags)}(e)&&Do(n,e,He(),e.styles,!1)}function Mo(t,e,n,r){Po(t,e,n,r),Lo()}function Vo(){return He()}function Uo(t){return!!t&&"function"==typeof t.then}function jo(t){return!!t&&"function"==typeof t.subscribe}function Fo(t,e,n=!1,r){const i=He(),o=Ge(),s=$e();return function(t,e,n,r,i,o,s=!1,a){const u=Se(r),c=t.firstCreatePass&&(t.cleanup||(t.cleanup=[])),l=yi(e);let h=!0;if(3===r.type){const f=Pe(r,e),d=a?a(f):ce,p=d.target||f,m=l.length,g=a?t=>a(Re(t[r.index])).target:r.index;if(xe(n)){let s=null;if(!a&&u&&(s=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const t=i[o];if(t===n&&i[o+1]===r){const t=e[7],n=i[o+2];return t.length>n?t[n]:null}"string"==typeof t&&(o+=2)}return null}(t,e,i,r.index)),null!==s)(s.__ngLastListenerFn__||s).__ngNextListenerFn__=o,s.__ngLastListenerFn__=o,h=!1;else{o=Bo(r,e,o,!1);const t=n.listen(d.name||p,i,o);l.push(o,t),c&&c.push(i,g,m,m+1)}}else o=Bo(r,e,o,!0),p.addEventListener(i,o,s),l.push(o),c&&c.push(i,g,m,s)}const f=r.outputs;let d;if(h&&null!==f&&(d=f[i])){const t=d.length;if(t)for(let n=0;n<t;n+=2){const t=e[d[n]][d[n+1]].subscribe(o),s=l.length;l.push(o,t),c&&c.push(i,r.index,s,-(s+1))}}}(o,i,i[11],s,t,e,n,r),Fo}function qo(t,e,n){try{return!1!==e(n)}catch(r){return bi(t,r),!1}}function Bo(t,e,n,r){return function i(o){if(o===Function)return n;const s=2&t.flags?Me(t.index,e):e;0==(32&e[2])&&di(s);let a=qo(e,n,o),u=i.__ngNextListenerFn__;for(;u;)a=qo(e,u,o)&&a,u=u.__ngNextListenerFn__;return r&&!1===a&&(o.preventDefault(),o.returnValue=!1),a}}function zo(t=1){return function(t){return(Be.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Be.lFrame.contextLView))[8]}(t)}const Ho=[];function Go(t,e,n,r,i){const o=t[n+1],s=null===e;let a=r?xr(o):Rr(o),u=!1;for(;0!==a&&(!1===u||s);){const n=t[a+1];Wo(t[a],e)&&(u=!0,t[a+1]=r?Pr(n):Or(n)),a=r?xr(n):Rr(n)}u&&(t[n+1]=r?Or(o):Pr(o))}function Wo(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&se(t,e)>=0}const $o={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Ko(t){return t.substring($o.key,$o.keyEnd)}function Jo(t,e){const n=$o.textEnd;return n===e?-1:(e=$o.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,$o.key=e,n),Yo(t,e,n))}function Yo(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function Qo(t,e){return function(t,e,n,r){const i=He(),o=Ge(),s=tn(2);if(o.firstUpdatePass&&es(o,t,s,!0),e!==Tr&&So(i,s,e)){let r;null==n&&(r=function(){const t=Be.lFrame;return null===t?null:t.currentSanitizer}())&&(n=r),is(o,o.data[fn()+19],i,i[11],t,i[s+1]=function(t,e){return null==t||("function"==typeof e?t=e(t):"string"==typeof e?t+=e:"object"==typeof t&&(t=bt(or(t)))),t}(e,n),!0,s)}}(t,e,null),Qo}function Xo(t){!function(t,e,n,r){const i=Ge(),o=tn(2);i.firstUpdatePass&&es(i,null,o,!0);const s=He();if(n!==Tr&&So(s,o,n)){const r=i.data[fn()+19];if(as(r,!0)&&!ts(i,o)){let t=r.classes;null!==t&&(n=_t(t,n||"")),Do(i,r,s,n,!0)}else!function(t,e,n,r,i,o,s,a){i===Tr&&(i=Ho);let u=0,c=0,l=0<i.length?i[0]:null,h=0<o.length?o[0]:null;for(;null!==l||null!==h;){const s=u<i.length?i[u+1]:void 0,f=c<o.length?o[c+1]:void 0;let d=null,p=void 0;l===h?(u+=2,c+=2,s!==f&&(d=h,p=f)):null===h||null!==l&&l<h?(u+=2,d=l):(c+=2,d=h,p=f),null!==d&&is(t,e,n,r,d,p,!0,a),l=u<i.length?i[u]:null,h=c<o.length?o[c]:null}}(i,r,s,s[11],s[o+1],s[o+1]=function(t,e,n){if(null==n||""===n)return Ho;const r=[],i=or(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)t(r,i[o],!0);else if("object"==typeof i)for(const o in i)i.hasOwnProperty(o)&&t(r,o,i[o]);else"string"==typeof i&&e(r,i);return r}(t,e,n),0,o)}}(ie,Zo,t)}function Zo(t,e){for(let n=function(t){return function(t){$o.key=0,$o.keyEnd=0,$o.value=0,$o.valueEnd=0,$o.textEnd=t.length}(t),Jo(t,Yo(t,0,$o.textEnd))}(e);n>=0;n=Jo(e,n))ie(t,Ko(e),!0)}function ts(t,e){return e>=t.expandoStartIndex}function es(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[fn()+19],s=ts(t,n);as(o,r)&&null===e&&!s&&(e=!1),e=function(t,e,n,r){const i=function(t){const e=Be.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=rs(n=ns(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=ns(i,t,e,n,r),null===o){let n=function(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Rr(r))return t[xr(r)]}(t,e,r);void 0!==n&&Array.isArray(n)&&(n=ns(null,t,e,n[1],r),n=rs(n,e.attrs,r),function(t,e,n,r){t[xr(n?e.classBindings:e.styleBindings)]=r}(t,e,r,n))}else o=function(t,e,n){let r=void 0;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=rs(r,t[o].hostAttrs,n);return rs(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=xr(s),u=Rr(s);t[r]=n;let c,l=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||se(t,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){const e=xr(t[a+1]);t[r+1]=Nr(e,a),0!==e&&(t[e+1]=Dr(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=Nr(a,0),0!==a&&(t[a+1]=Dr(t[a+1],r)),a=r;else t[r+1]=Nr(u,0),0===a?a=r:t[u+1]=Dr(t[u+1],r),u=r;l&&(t[r+1]=Or(t[r+1])),Go(t,c,r,!0),Go(t,c,r,!1),function(t,e,n,r,i){const o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&se(o,e)>=0&&(n[r+1]=Pr(n[r+1]))}(e,c,t,r,o),s=Nr(a,u),o?e.classBindings=s:e.styleBindings=s}(i,o,e,n,s,r)}}function ns(t,e,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],r=rs(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function rs(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),ie(t,s,!!n||e[++o]))}return void 0===t?null:t}function is(t,e,n,r,i,o,s,a){if(3!==e.type)return;const u=t.data,c=u[a+1];ss(1==(1&c)?os(u,e,n,i,Rr(c),s):void 0)||(ss(o)||function(t){return 2==(2&t)}(c)&&(o=os(u,null,n,i,a,s)),function(t,e,n,r,i){const o=xe(t);if(e)i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r);else{const e=-1==r.indexOf("-")?void 0:2;null==i?o?t.removeStyle(n,r,e):n.style.removeProperty(r):o?t.setStyle(n,r,i,e):n.style.setProperty(r,i)}}(r,s,De(fn(),n),i,o))}function os(t,e,n,r,i,o){const s=null===e;let a=void 0;for(;i>0;){const e=t[i],o=Array.isArray(e),u=o?e[1]:e,c=null===u;let l=n[i+1];l===Tr&&(l=c?Ho:void 0);let h=c?oe(l,r):u===r?l:void 0;if(o&&!ss(h)&&(h=oe(e,r)),ss(h)&&(a=h,s))return a;const f=t[i+1];i=s?xr(f):Rr(f)}if(null!==e){let t=o?e.residualClasses:e.residualStyles;null!=t&&(a=oe(t,r))}return a}function ss(t){return void 0!==t}function as(t,e){return 0!=(t.flags&(e?16:32))}function us(t,e=""){const n=He(),r=Ge(),i=t+19,o=r.firstCreatePass?Ur(r,n[6],t,3,null,null):r.data[i],s=n[i]=function(t,e){return xe(e)?e.createText(t):e.createTextNode(t)}(e,n[11]);Vi(r,n,s,o),Ke(o,!1)}function cs(t){return ls("",t,""),cs}function ls(t,e,n){const r=He(),i=function(t,e,n,r){return So(t,Ze(),n)?e+Dn(n)+r:Tr}(r,t,e,n);return i!==Tr&&function(t,e,n){const r=De(e,t),i=t[11];xe(i)?i.setValue(r,n):r.textContent=n}(r,fn(),i),ls}function hs(t,e,n){const r=He();return So(r,Ze(),e)&&Jr(Ge(),pn(),r,t,e,r[11],n,!0),hs}function fs(t,e){const n=Ve(t)[1],r=n.data.length-1;vn(n,{directiveStart:r,directiveEnd:r+1})}function ds(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i=void 0;if(Ae(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=ps(t.inputs),e.declaredInputs=ps(t.declaredInputs),e.outputs=ps(t.outputs);const n=i.hostBindings;n&&vs(t,n);const o=i.viewQuery,s=i.contentQueries;if(o&&ms(t,o),s&&gs(t,s),ct(t.inputs,i.inputs),ct(t.declaredInputs,i.declaredInputs),ct(t.outputs,i.outputs),Ae(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}e.afterContentChecked=e.afterContentChecked||i.afterContentChecked,e.afterContentInit=t.afterContentInit||i.afterContentInit,e.afterViewChecked=t.afterViewChecked||i.afterViewChecked,e.afterViewInit=t.afterViewInit||i.afterViewInit,e.doCheck=t.doCheck||i.doCheck,e.onDestroy=t.onDestroy||i.onDestroy,e.onInit=t.onInit||i.onInit}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===ds&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=An(i.hostAttrs,n=An(n,i.hostAttrs))}}(r)}function ps(t){return t===ce?{}:t===le?[]:t}function ms(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function gs(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function vs(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}class ys{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function ws(t){t.type.prototype.ngOnChanges&&(t.setInput=bs,t.onChanges=function(){const t=_s(this),e=t&&t.current;if(e){const n=t.previous;if(n===ce)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}})}function bs(t,e,n,r){const i=_s(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:ce,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[n],u=s[a];o[a]=new ys(u&&u.currentValue,e,s===ce),t[r]=e}function _s(t){return t.__ngSimpleChanges__||null}function Es(t,e,n,r,i){if(t=Ct(t),Array.isArray(t))for(let o=0;o<t.length;o++)Es(t[o],e,n,r,i);else{const o=Ge(),s=He();let a=fo(t)?t:Ct(t.provide),u=co(t);const c=$e(),l=65535&c.providerIndexes,h=c.directiveStart,f=c.providerIndexes>>16;if(fo(t)||!t.multi){const r=new In(u,i,No),d=Ts(a,e,i?l:l+f,h);-1===d?(Hn(Fn(c,s),o,a),Is(o,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=65536),n.push(r),s.push(r)):(n[d]=r,s[d]=r)}else{const d=Ts(a,e,l+f,h),p=Ts(a,e,l,l+f),m=d>=0&&n[d],g=p>=0&&n[p];if(i&&!g||!i&&!m){Hn(Fn(c,s),o,a);const l=function(t,e,n,r,i){const o=new In(t,n,No);return o.multi=[],o.index=e,o.componentProviders=0,Cs(o,i,r&&!n),o}(i?As:Ss,n.length,i,r,u);!i&&g&&(n[p].providerFactory=l),Is(o,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=65536),n.push(l),s.push(l)}else Is(o,t,d>-1?d:p),Cs(n[i?p:d],u,!i&&r);!i&&r&&g&&n[p].componentProviders++}}}function Is(t,e,n){if(fo(e)||e.useClass){const r=(e.useClass||e).prototype.ngOnDestroy;r&&(t.destroyHooks||(t.destroyHooks=[])).push(n,r)}}function Cs(t,e,n){t.multi.push(e),n&&t.componentProviders++}function Ts(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function Ss(t,e,n,r){return ks(this.multi,[])}function As(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=Jn(n,n[1],this.providerFactory.index,r);o=e.slice(0,t),ks(i,o);for(let n=t;n<e.length;n++)o.push(e[n])}else o=[],ks(i,o);return o}function ks(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Ns(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=Ge();if(r.firstCreatePass){const i=Ae(t);Es(n,r.data,r.blueprint,i,!0),Es(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}ws.ngInherit=!0;class xs{}class Os{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${bt(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let Rs=(()=>{class t{}return t.NULL=new Os,t})(),Ds=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=()=>Ps(t),t})();const Ps=function(t){return Ji(t,$e(),He())};class Ls{}const Ms=function(){var t={Important:1,DashCase:2};return t[t.Important]="Important",t[t.DashCase]="DashCase",t}();let Vs=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Us(),t})();const Us=function(){const t=He(),e=Me($e().index,t);return function(t){const e=t[11];if(xe(e))return e;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}(Ee(e)?e:t)};let js=(()=>{class t{}return t.\u0275prov=lt({token:t,providedIn:"root",factory:()=>null}),t})();class Fs{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const qs=new Fs("9.0.7");class Bs{constructor(){}supports(t){return Co(t)}create(t){return new Hs(t)}}const zs=(t,e)=>e;class Hs{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||zs}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const o=!n||e&&e.currentIndex<Ks(n,r,i)?e:n,s=Ks(o,r,i),a=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);const t=s-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,o=r+n;e<=o&&o<t&&(i[n]=r+1)}i[o.previousIndex]=e-t}}s!==a&&t(o,s,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Co(t))throw new Error(`Error trying to diff '${bt(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Io(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,n,r,e)),Io(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),o=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Eo()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Io(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,t,r,e)),Io(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),o=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t,e;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Io(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Io(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new Gs(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new $s),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e?t:(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t,t)}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new $s),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Gs{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Ws{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Io(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class $s{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new Ws,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Ks(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class Js{constructor(){}supports(t){return t instanceof Map||To(t)}create(){return new Ys}}class Ys{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||To(t)))throw new Error(`Error trying to diff '${bt(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new Qs(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Io(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class Qs{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let Xs=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new st,new it]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=lt({token:t,providedIn:"root",factory:()=>new t([new Bs])}),t})(),Zs=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new st,new it]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=lt({token:t,providedIn:"root",factory:()=>new t([new Js])}),t})();const ta=[new Js],ea=new Xs([new Bs]),na=new Zs(ta);let ra=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>ia(t,Ds),t})();const ia=function(t,e){return Yi(t,e,$e(),He())};let oa=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>sa(t,Ds),t})();const sa=function(t,e){return Qi(t,e,$e(),He())},aa={};class ua extends Rs{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=we(t);return new ha(e,this.ngModule)}}function ca(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const la=new Ut("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Ln});class ha extends xs{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(Cr).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return ca(this.componentDef.inputs)}get outputs(){return ca(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const o=t.get(n,aa,i);return o!==aa||r===aa?o:e.get(n,r,i)}}}(t,r.injector):t,o=i.get(Ls,Oe),s=i.get(js,null),a=o.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(xe(t))return t.selectRootElement(e,n===ue.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):Mr(u,o.createRenderer(null,this.componentDef),function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(u)),l=this.componentDef.onPush?576:528,h="string"==typeof n&&/^#root-ng-internal-isolated-\d+/.test(n),f={components:[],scheduler:Ln,clean:vi,playerHandler:null,flags:0},d=Wr(0,-1,null,1,0,null,null,null,null,null),p=Vr(null,d,f,l,null,null,o,a,s,i);let m,g;sn(p,null);try{const t=function(t,e,n,r,i,o){const s=n[1];n[19]=t;const a=Ur(s,null,0,3,null,null),u=a.mergedAttrs=e.hostAttrs;null!==u&&(bo(a,u),null!==t&&(Cn(i,t,u),null!==a.classes&&zi(i,t,a.classes),null!==a.styles&&Bi(i,t,a.styles)));const c=r.createRenderer(t,e),l=Vr(n,Gr(e),null,e.onPush?64:16,n[19],a,r,c,void 0);return s.firstCreatePass&&(Hn(Fn(a,n),s,e.type),ei(s,a),ri(a,n.length,1)),fi(n,l),n[19]=l}(c,this.componentDef,p,o,a);if(c)if(n)Cn(a,c,["ng-version",qs.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!br(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&Cn(a,c,t),e&&e.length>0&&zi(a,c,e.join(" "))}g=Le(p[1],0),e&&(g.projection=e.map(t=>Array.from(t))),m=function(t,e,n,r,i){const o=n[1],s=function(t,e,n){const r=$e();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),ti(t,r,1),ii(t,e,n));const i=Jn(e,t,e.length-1,r);dr(i,e);const o=Pe(r,e);return o&&dr(o,e),i}(o,n,e);r.components.push(s),t[8]=s,i&&i.forEach(t=>t(s,e)),e.contentQueries&&e.contentQueries(1,s,n.length-1);const a=$e();if(o.firstCreatePass&&(null!==e.hostBindings||null!==e.hostAttrs)){dn(a.index-19);const t=n[1];Qr(t,e),Xr(t,n,e.hostVars),Zr(e,s)}return s}(t,this.componentDef,p,f,[fs]),jr(d,p,null)}finally{hn()}const v=new fa(this.componentType,m,Ji(Ds,g,p),p,g);return n&&!h||(v.hostView._tViewNode.child=g),v}}class fa extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.destroyCbs=[],this.instance=e,this.hostView=this.changeDetectorRef=new Gi(r),this.hostView._tViewNode=function(t,e,n,r){let i=t.node;return null==i&&(t.node=i=$r(0,null,2,-1,null,null)),r[6]=i}(r[1],0,0,r),this.componentType=t}get injector(){return new Xn(this._tNode,this._rootLView)}destroy(){this.destroyCbs&&(this.destroyCbs.forEach(t=>t()),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}onDestroy(t){this.destroyCbs&&this.destroyCbs.push(t)}}var da=["en",[["a","p"],["AM","PM"],void 0],[["AM","PM"],void 0,void 0],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],void 0,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],void 0,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",void 0,"{1} 'at' {0}",void 0],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let pa={};function ma(t){return t in pa||(pa[t]=xt.ng&&xt.ng.common&&xt.ng.common.locales&&xt.ng.common.locales[t]),pa[t]}const ga=function(){var t={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencyCode:15,CurrencySymbol:16,CurrencyName:17,Currencies:18,PluralCase:19,ExtraData:20};return t[t.LocaleId]="LocaleId",t[t.DayPeriodsFormat]="DayPeriodsFormat",t[t.DayPeriodsStandalone]="DayPeriodsStandalone",t[t.DaysFormat]="DaysFormat",t[t.DaysStandalone]="DaysStandalone",t[t.MonthsFormat]="MonthsFormat",t[t.MonthsStandalone]="MonthsStandalone",t[t.Eras]="Eras",t[t.FirstDayOfWeek]="FirstDayOfWeek",t[t.WeekendRange]="WeekendRange",t[t.DateFormat]="DateFormat",t[t.TimeFormat]="TimeFormat",t[t.DateTimeFormat]="DateTimeFormat",t[t.NumberSymbols]="NumberSymbols",t[t.NumberFormats]="NumberFormats",t[t.CurrencyCode]="CurrencyCode",t[t.CurrencySymbol]="CurrencySymbol",t[t.CurrencyName]="CurrencyName",t[t.Currencies]="Currencies",t[t.PluralCase]="PluralCase",t[t.ExtraData]="ExtraData",t}();let va="en-US";function ya(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+` [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(va=t.toLowerCase().replace(/_/g,"-"))}const wa=new Map;class ba extends Xt{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new ua(this);const n=_e(t),r=t[Lt]||null;r&&ya(r),this._bootstrapComponents=Mn(n.bootstrap),this._r3Injector=so(t,e,[{provide:Xt,useValue:this},{provide:Rs,useValue:this.componentFactoryResolver}],bt(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=mo.THROW_IF_NOT_FOUND,n=at.Default){return t===mo||t===Xt||t===jt?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class _a extends Zt{constructor(t){super(),this.moduleType=t,null!==_e(t)&&function t(e){if(null!==e.\u0275mod.id){const t=e.\u0275mod.id;(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${bt(e)} vs ${bt(e.name)}`)})(t,wa.get(t),e),wa.set(t,e)}let n=e.\u0275mod.imports;n instanceof Function&&(n=n()),n&&n.forEach(e=>t(e))}(t)}create(t){return new ba(this.moduleType,t)}}function Ea(t,e,n,r){return function(t,e,n,r,i,o){const s=e+n;return So(t,s,i)?function(t,e,n){return t[e]=n}(t,s+1,o?r.call(o,i):r(i)):function(t,e){const n=t[e];return n===Tr?void 0:n}(t,s+1)}(He(),function(){const t=Be.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}(),t,e,n,r)}class Ia extends T{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,i=t=>null,o=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(i=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(o=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(i=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(o=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const s=super.subscribe(r,i,o);return t instanceof h&&t.add(s),s}}function Ca(){return this._results[Eo()]()}class Ta{constructor(){this.dirty=!0,this._results=[],this.changes=new Ia,this.length=0;const t=Eo(),e=Ta.prototype;e[t]||(e[t]=Ca)}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t){this._results=function t(e,n){void 0===n&&(n=e);for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?(n===e&&(n=e.slice(0,r)),t(i,n)):n!==e&&n.push(i)}return n}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class Sa{constructor(t){this.queryList=t,this.matches=null}clone(){return new Sa(this.queryList)}setDirty(){this.queryList.setDirty()}}class Aa{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new Aa(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==ja(t,e).matches&&this.queries[e].setDirty()}}class ka{constructor(t,e,n,r=null){this.predicate=t,this.descendants=e,this.isStatic=n,this.read=r}}class Na{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new Na(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class xa{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new xa(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&!1===this.metadata.descendants){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&4===n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){if(Array.isArray(this.metadata.predicate)){const n=this.metadata.predicate;for(let r=0;r<n.length;r++)this.matchTNodeWithReadOption(t,e,Oa(e,n[r]))}else{const n=this.metadata.predicate;n===ra?0===e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Kn(e,t,n,!1,!1))}}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===Ds||r===oa||r===ra&&0===e.type)this.addMatch(e.index,-2);else{const n=Kn(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Oa(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function Ra(t,e,n,r){return-1===n?function(t,e){return 3===t.type||4===t.type?Ji(Ds,t,e):0===t.type?Yi(ra,Ds,t,e):null}(e,t):-2===n?function(t,e,n){return n===Ds?Ji(Ds,e,t):n===ra?Yi(ra,Ds,e,t):n===oa?Qi(oa,Ds,e,t):void 0}(t,e,r):Jn(t,t[1],n,e)}function Da(t,e,n,r){const i=e[5].queries[r];if(null===i.matches){const r=t.data,o=n.matches,s=[];for(let t=0;t<o.length;t+=2){const i=o[t];s.push(i<0?null:Ra(e,r[i],o[t+1],n.metadata.read))}i.matches=s}return i.matches}function Pa(t){const e=He(),n=Ge(),r=nn();rn(r+1);const i=ja(n,r);if(t.dirty&&Ue(e)===i.metadata.isStatic){if(null===i.matches)t.reset([]);else{const o=i.crossesNgTemplate?function t(e,n,r,i){const o=e.queries.getByIndex(r),s=o.matches;if(null!==s){const a=Da(e,n,o,r);for(let e=0;e<s.length;e+=2){const r=s[e];if(r>0)i.push(a[e/2]);else{const o=s[e+1],a=n[-r];for(let e=9;e<a.length;e++){const n=a[e];n[17]===n[3]&&t(n[1],n,o,i)}if(null!==a[5]){const e=a[5];for(let n=0;n<e.length;n++){const r=e[n];t(r[1],r,o,i)}}}}}return i}(n,e,r,[]):Da(n,e,i,r);t.reset(o),t.notifyOnChanges()}return!0}return!1}function La(t,e,n,r){!function(t,e,n,r,i,o,s,a){t.firstCreatePass&&(Ua(t,new ka(n,r,!1,i),s.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(t.contentQueries.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(t,a)),Va(t,e)}(Ge(),He(),e,n,r,0,$e(),t)}function Ma(){return t=He(),e=nn(),t[5].queries[e].queryList;var t,e}function Va(t,e){const n=new Ta;!function(t,e,n,r){const i=yi(e);i.push(n),t.firstCreatePass&&wi(t).push(r,i.length-1)}(t,e,n,n.destroy),null===e[5]&&(e[5]=new Aa),e[5].queries.push(new Sa(n))}function Ua(t,e,n){null===t.queries&&(t.queries=new Na),t.queries.track(new xa(e,n))}function ja(t,e){return t.queries.getByIndex(e)}function Fa(t,e){return Yi(ra,Ds,t,e)}const qa=new Ut("Application Initializer");let Ba=(()=>{class t{constructor(t){this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();Uo(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(Kt(qa,8))},t.\u0275prov=lt({token:t,factory:t.\u0275fac}),t})();const za=new Ut("AppId"),Ha={provide:za,useFactory:function(){return`${Ga()}${Ga()}${Ga()}`},deps:[]};function Ga(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Wa=new Ut("Platform Initializer"),$a=new Ut("Platform ID"),Ka=new Ut("appBootstrapListener");let Ja=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=lt({token:t,factory:t.\u0275fac}),t})();const Ya=new Ut("LocaleId"),Qa=new Ut("DefaultCurrencyCode");class Xa{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const Za=function(t){return new _a(t)},tu=Za,eu=function(t){return Promise.resolve(Za(t))},nu=function(t){const e=Za(t),n=Mn(_e(t).declarations).reduce((t,e)=>{const n=we(e);return n&&t.push(new ha(n)),t},[]);return new Xa(e,n)},ru=nu,iu=function(t){return Promise.resolve(nu(t))};let ou=(()=>{class t{constructor(){this.compileModuleSync=tu,this.compileModuleAsync=eu,this.compileModuleAndAllComponentsSync=ru,this.compileModuleAndAllComponentsAsync=iu}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=lt({token:t,factory:t.\u0275fac}),t})();const su=new Ut("compilerOptions"),au=(()=>Promise.resolve(0))();function uu(t){"undefined"==typeof Zone?au.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class cu{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ia(!1),this.onMicrotaskEmpty=new Ia(!1),this.onStable=new Ia(!1),this.onError=new Ia(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=e,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){let t=xt.requestAnimationFrame,e=xt.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=!!t.shouldCoalesceEventChangeDetection&&t.nativeRequestAnimationFrame&&(()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(xt,()=>{t.lastRequestAnimationFrameId=-1,du(t),fu(t)}),du(t))}(t)});t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:e},onInvokeTask:(n,r,i,o,s,a)=>{try{return pu(t),n.invokeTask(i,o,s,a)}finally{e&&"eventTask"===o.type&&e(),mu(t)}},onInvoke:(e,n,r,i,o,s,a)=>{try{return pu(t),e.invoke(r,i,o,s,a)}finally{mu(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,du(t),fu(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(this)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!cu.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(cu.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,hu,lu,lu);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}function lu(){}const hu={};function fu(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function du(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function pu(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function mu(t){t._nesting--,fu(t)}class gu{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ia,this.onMicrotaskEmpty=new Ia,this.onStable=new Ia,this.onError=new Ia}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let vu=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{cu.assertNotInAngularZone(),uu(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())uu(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(Kt(cu))},t.\u0275prov=lt({token:t,factory:t.\u0275fac}),t})(),yu=(()=>{class t{constructor(){this._applications=new Map,_u.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return _u.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=lt({token:t,factory:t.\u0275fac}),t})();class wu{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}let bu,_u=new wu,Eu=function(t,e,n){const r=new _a(n);if(0===vo.size)return Promise.resolve(r);const i=function(t){const e=[];return t.forEach(t=>t&&e.push(...t)),e}(t.get(su,[]).concat(e).map(t=>t.providers));if(0===i.length)return Promise.resolve(r);const o=function(){const t=xt.ng;if(!t||!t.\u0275compilerFacade)throw new Error("Angular JIT compilation failed: '@angular/compiler' not loaded!\n  - JIT compilation is discouraged for production use-cases! Consider AOT mode instead.\n  - Did you bootstrap using '@angular/platform-browser-dynamic' or '@angular/platform-server'?\n  - Alternatively provide the compiler with 'import \"@angular/compiler\";' before bootstrapping.");return t.\u0275compilerFacade}(),s=mo.create({providers:i}).get(o.ResourceLoader);return function(t){const e=[],n=new Map;function r(t){let e=n.get(t);if(!e){const r=(t=>Promise.resolve(s.get(t)))(t);n.set(t,e=r.then(wo))}return e}return vo.forEach((t,n)=>{const i=[];t.templateUrl&&i.push(r(t.templateUrl).then(e=>{t.template=e}));const o=t.styleUrls,s=t.styles||(t.styles=[]),a=t.styles.length;o&&o.forEach((e,n)=>{s.push(""),i.push(r(e).then(r=>{s[a+n]=r,o.splice(o.indexOf(e),1),0==o.length&&(t.styleUrls=void 0)}))});const u=Promise.all(i).then(()=>function(t){yo.delete(t)}(n));e.push(u)}),vo=new Map,Promise.all(e).then(()=>{})}().then(()=>r)};const Iu=new Ut("AllowMultipleToken");class Cu{constructor(t,e){this.name=t,this.token=e}}function Tu(t,e,n=[]){const r=`Platform: ${e}`,i=new Ut(r);return(e=[])=>{let o=Su();if(!o||o.injector.get(Iu,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:to,useValue:"platform"});!function(t){if(bu&&!bu.destroyed&&!bu.injector.get(Iu,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");bu=t.get(Au);const e=t.get(Wa,null);e&&e.forEach(t=>t())}(mo.create({providers:t,name:r}))}return function(t){const e=Su();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function Su(){return bu&&!bu.destroyed?bu:null}let Au=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new gu:("zone.js"===t?void 0:t)||new cu({enableLongStackTrace:ur(),shouldCoalesceEventChangeDetection:e}),n}(e?e.ngZone:void 0,e&&e.ngZoneEventCoalescing||!1),r=[{provide:cu,useValue:n}];return n.run(()=>{const e=mo.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),o=i.injector.get(rr,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return i.onDestroy(()=>xu(this._modules,i)),n.runOutsideAngular(()=>n.onError.subscribe({next:t=>{o.handleError(t)}})),function(t,e,n){try{const r=n();return Uo(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,n,()=>{const t=i.injector.get(Ba);return t.runInitializers(),t.donePromise.then(()=>(ya(i.injector.get(Ya,"en-US")||"en-US"),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=ku({},e);return Eu(this.injector,n,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(Nu);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${bt(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. `+"Please define one of these.");t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(Kt(mo))},t.\u0275prov=lt({token:t,factory:t.\u0275fac}),t})();function ku(t,e){return Array.isArray(e)?e.reduce(ku,t):Object.assign(Object.assign({},t),e)}let Nu=(()=>{class t{constructor(t,e,n,r,i,o){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=ur(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new b(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),a=new b(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{cu.assertNotInAngularZone(),uu(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{cu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=function(...t){let e=Number.POSITIVE_INFINITY,n=null,r=t[t.length-1];return A(r)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof r&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof b?t[0]:W(e)($(t,n))}(s,a.pipe(t=>{return K()((e=tt,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,X);return r.source=t,r.subjectFactory=n,r})(t));var e}))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof xs?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(Xt),i=n.create(mo.NULL,[],e||n.selector,r);i.onDestroy(()=>{this._unloadComponent(i)});const o=i.injector.get(vu,null);return o&&i.injector.get(yu).registerApplication(i.location.nativeElement,o),this._loadComponent(i),ur()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges();if(this._enforceNoNewChanges)for(let t of this._views)t.checkNoChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;xu(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Ka,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}_unloadComponent(t){this.detachView(t.hostView),xu(this.components,t)}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy())}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(Kt(cu),Kt(Ja),Kt(mo),Kt(rr),Kt(Rs),Kt(Ba))},t.\u0275prov=lt({token:t,factory:t.\u0275fac}),t})();function xu(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Ou{}class Ru{}const Du={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Pu=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||Du}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>Lu(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>Lu(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(Kt(ou),Kt(Ru,8))},t.\u0275prov=lt({token:t,factory:t.\u0275fac}),t})();function Lu(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const Mu=Tu(null,"core",[{provide:$a,useValue:"unknown"},{provide:Au,deps:[mo]},{provide:yu,deps:[]},{provide:Ja,deps:[]}]),Vu=[{provide:Nu,useClass:Nu,deps:[cu,Ja,mo,rr,Rs,Ba]},{provide:la,deps:[cu],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:Ba,useClass:Ba,deps:[[new it,qa]]},{provide:ou,useClass:ou,deps:[]},Ha,{provide:Xs,useFactory:function(){return ea},deps:[]},{provide:Zs,useFactory:function(){return na},deps:[]},{provide:Ya,useFactory:function(t){return ya(t=t||"undefined"!=typeof $localize&&$localize.locale||"en-US"),t},deps:[[new rt(Ya),new it,new st]]},{provide:Qa,useValue:"USD"}];let Uu=(()=>{class t{constructor(t){}}return t.\u0275mod=ge({type:t}),t.\u0275inj=ht({factory:function(e){return new(e||t)(Kt(Nu))},providers:Vu}),t})();const ju={apiKey:"AIzaSyDqIpTQPeQUnY416aWEUVXKknDvoefQg-s",authDomain:"marketplace-badaa.firebaseapp.com",databaseURL:"https://marketplace-badaa.firebaseio.com",projectId:"marketplace-badaa",storageBucket:"marketplace-badaa.appspot.com",messagingSenderId:"812744707468",appId:"1:812744707468:web:ac3f3c6870fba33f7f1aa9"};let Fu=null;function qu(){return Fu}const Bu=new Ut("DocumentToken");let zu=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=lt({factory:Hu,token:t,providedIn:"platform"}),t})();function Hu(){return Kt(Wu)}const Gu=new Ut("Location Initialized");let Wu=(()=>{class t extends zu{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=qu().getLocation(),this._history=qu().getHistory()}getBaseHrefFromDOM(){return qu().getBaseHref(this._doc)}onPopState(t){qu().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){qu().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){$u()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){$u()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(Kt(Bu))},t.\u0275prov=lt({factory:Ku,token:t,providedIn:"platform"}),t})();function $u(){return!!window.history.pushState}function Ku(){return new Wu(Kt(Bu))}function Ju(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function Yu(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Qu(t){return t&&"?"!==t[0]?"?"+t:t}let Xu=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=lt({factory:Zu,token:t,providedIn:"root"}),t})();function Zu(t){const e=Kt(Bu).location;return new ec(Kt(zu),e&&e.origin||"")}const tc=new Ut("appBaseHref");let ec=(()=>{class t extends Xu{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Ju(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+Qu(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+Qu(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+Qu(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(Kt(zu),Kt(tc,8))},t.\u0275prov=lt({token:t,factory:t.\u0275fac}),t})(),nc=(()=>{class t extends Xu{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=Ju(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+Qu(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+Qu(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(Kt(zu),Kt(tc,8))},t.\u0275prov=lt({token:t,factory:t.\u0275fac}),t})(),rc=(()=>{class t{constructor(t,e){this._subject=new Ia,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=Yu(oc(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+Qu(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,oc(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Qu(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Qu(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)})}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(Kt(Xu),Kt(zu))},t.normalizeQueryParams=Qu,t.joinWithSlash=Ju,t.stripTrailingSlash=Yu,t.\u0275prov=lt({factory:ic,token:t,providedIn:"root"}),t})();function ic(){return new rc(Kt(Xu),Kt(zu))}function oc(t){return t.replace(/\/index.html$/,"")}const sc=function(){var t={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return t[t.Zero]="Zero",t[t.One]="One",t[t.Two]="Two",t[t.Few]="Few",t[t.Many]="Many",t[t.Other]="Other",t}();class ac{}let uc=(()=>{class t extends ac{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(function(t){return function(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=ma(e);if(n)return n;const r=e.split("-")[0];if(n=ma(r),n)return n;if("en"===r)return da;throw new Error(`Missing locale data for the locale "${t}".`)}(t)[ga.PluralCase]}(e||this.locale)(t)){case sc.Zero:return"zero";case sc.One:return"one";case sc.Two:return"two";case sc.Few:return"few";case sc.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(Kt(Ya))},t.\u0275prov=lt({token:t,factory:t.\u0275fac}),t})();function cc(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}let lc=(()=>{class t{constructor(t,e,n,r){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=r,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Co(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachChangedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachRemovedItem(t=>{t.previousValue&&this._toggleClass(t.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(t=>{if("string"!=typeof t.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${bt(t.item)}`);this._toggleClass(t.item,!0)}),t.forEachRemovedItem(t=>this._toggleClass(t.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!0)):Object.keys(t).forEach(e=>this._toggleClass(e,!!t[e])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!1)):Object.keys(t).forEach(t=>this._toggleClass(t,!1)))}_toggleClass(t,e){(t=t.trim())&&t.split(/\s+/g).forEach(t=>{e?this._renderer.addClass(this._ngEl.nativeElement,t):this._renderer.removeClass(this._ngEl.nativeElement,t)})}}return t.\u0275fac=function(e){return new(e||t)(No(Xs),No(Zs),No(Ds),No(Vs))},t.\u0275dir=ye({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),t})();class hc{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let fc=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){ur()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(t)}. `+"See https://angular.io/api/common/NgForOf#change-propagation for more information."),this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new hc(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new dc(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const o=new dc(t,i);e.push(o)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(No(oa),No(ra),No(Xs))},t.\u0275dir=ye({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class dc{constructor(t,e){this.record=t,this.view=e}}let pc=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new mc,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){gc("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){gc("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(No(oa),No(ra))},t.\u0275dir=ye({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class mc{constructor(){this.$implicit=null,this.ngIf=null}}function gc(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${bt(e)}'.`)}let vc=(()=>{class t{}return t.\u0275mod=ge({type:t}),t.\u0275inj=ht({factory:function(e){return new(e||t)},providers:[{provide:ac,useClass:uc}]}),t})();function yc(t){return"server"===t}let wc=(()=>{class t{}return t.\u0275prov=lt({token:t,providedIn:"root",factory:()=>new bc(Kt(Bu),window,Kt(rr))}),t})();class bc{constructor(t,e,n){this.document=t,this.window=e,this.errorHandler=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(t){this.supportScrollRestoration()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(this.supportScrollRestoration()){t=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(t):t.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{const e=this.document.querySelector(`#${t}`);if(e)return void this.scrollToElement(e);const n=this.document.querySelector(`[name='${t}']`);if(n)return void this.scrollToElement(n)}catch(e){this.errorHandler.handleError(e)}}}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}supportScrollRestoration(){try{return!!this.window&&!!this.window.scrollTo}catch(t){return!1}}}class _c extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new _c,Fu||(Fu=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=Ic||(Ic=document.querySelector("base"),Ic)?Ic.getAttribute("href"):null;return null==e?null:(n=e,Ec||(Ec=document.createElement("a")),Ec.setAttribute("href",n),"/"===Ec.pathname.charAt(0)?Ec.pathname:"/"+Ec.pathname);var n}resetBaseElement(){Ic=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return cc(document.cookie,t)}}let Ec,Ic=null;const Cc=new Ut("TRANSITION_ID"),Tc=[{provide:qa,useFactory:function(t,e,n){return()=>{n.get(Ba).donePromise.then(()=>{const n=qu();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[Cc,Bu,mo],multi:!0}];class Sc{static init(){var t;t=new Sc,_u=t}addToWindow(t){xt.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},xt.getAllAngularTestabilities=()=>t.getAllTestabilities(),xt.getAllAngularRootElements=()=>t.getAllRootElements(),xt.frameworkStabilizers||(xt.frameworkStabilizers=[]),xt.frameworkStabilizers.push(t=>{const e=xt.getAllAngularTestabilities();let n=e.length,r=!1;const i=function(e){r=r||e,n--,0==n&&t(r)};e.forEach((function(t){t.whenStable(i)}))})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?qu().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const Ac=new Ut("EventManagerPlugins");let kc=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}return t.\u0275fac=function(e){return new(e||t)(Kt(Ac),Kt(cu))},t.\u0275prov=lt({token:t,factory:t.\u0275fac}),t})();class Nc{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=qu().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let xc=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=lt({token:t,factory:t.\u0275fac}),t})(),Oc=(()=>{class t extends xc{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>qu().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(Kt(Bu))},t.\u0275prov=lt({token:t,factory:t.\u0275fac}),t})();const Rc={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Dc=/%COMP%/g;function Pc(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Pc(t,i,n):(i=i.replace(Dc,t),n.push(i))}return n}function Lc(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let Mc=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new Vc(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case ue.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new Uc(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case ue.Native:case ue.ShadowDom:return new jc(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=Pc(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(Kt(kc),Kt(Oc),Kt(za))},t.\u0275prov=lt({token:t,factory:t.\u0275fac}),t})();class Vc{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(Rc[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=Rc[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=Rc[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,r){r&Ms.DashCase?t.style.setProperty(e,n,r&Ms.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&Ms.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Lc(n)):this.eventManager.addEventListener(t,e,Lc(n))}}class Uc extends Vc{constructor(t,e,n,r){super(t),this.component=n;const i=Pc(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(Dc,r+"-"+n.id),this.hostAttr=function(t){return"_nghost-%COMP%".replace(Dc,t)}(r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class jc extends Vc{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.component=r,this.shadowRoot=r.encapsulation===ue.ShadowDom?n.attachShadow({mode:"open"}):n.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const i=Pc(r.id,r.styles,[]);for(let o=0;o<i.length;o++){const t=document.createElement("style");t.textContent=i[o],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Fc=(()=>{class t extends Nc{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(Kt(Bu))},t.\u0275prov=lt({token:t,factory:t.\u0275fac}),t})();const qc=["alt","control","meta","shift"],Bc={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},zc={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Hc={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let Gc=(()=>{class t extends Nc{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),o=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>qu().onAndCancel(e,i.domEventName,o))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let o="";if(qc.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=i,0!=n.length||0===i.length)return null;const s={};return s.domEventName=r,s.fullKey=o,s}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&zc.hasOwnProperty(e)&&(e=zc[e]))}return Bc[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),qc.forEach(r=>{r!=n&&(0,Hc[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(Kt(Bu))},t.\u0275prov=lt({token:t,factory:t.\u0275fac}),t})();const Wc=Tu(Mu,"browser",[{provide:$a,useValue:"browser"},{provide:Wa,useValue:function(){_c.makeCurrent(),Sc.init()},multi:!0},{provide:Bu,useFactory:function(){return function(t){Ne=t}(document),document},deps:[]}]),$c=[[],{provide:to,useValue:"root"},{provide:rr,useFactory:function(){return new rr},deps:[]},{provide:Ac,useClass:Fc,multi:!0,deps:[Bu,cu,$a]},{provide:Ac,useClass:Gc,multi:!0,deps:[Bu]},[],{provide:Mc,useClass:Mc,deps:[kc,Oc,za]},{provide:Ls,useExisting:Mc},{provide:xc,useExisting:Oc},{provide:Oc,useClass:Oc,deps:[Bu]},{provide:vu,useClass:vu,deps:[cu]},{provide:kc,useClass:kc,deps:[Ac,cu]},[]];let Kc=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:za,useValue:e.appId},{provide:Cc,useExisting:za},Tc]}}}return t.\u0275mod=ge({type:t}),t.\u0275inj=ht({factory:function(e){return new(e||t)(Kt(t,12))},providers:$c,imports:[vc,Uu]}),t})();function Jc(...t){let e=t[t.length-1];return A(e)?(t.pop(),F(t,e)):$(t)}"undefined"!=typeof window&&window;class Yc extends T{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new E;return this._value}next(t){super.next(this._value=t)}}const Qc=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})(),Xc={};class Zc{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new tl(t,this.resultSelector))}}class tl extends M{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(Xc),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++){const e=t[n];this.add(L(this,e,e,n))}}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n,r,i){const o=this.values,s=this.toRespond?o[n]===Xc?--this.toRespond:this.toRespond:0;o[n]=e,0===s&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const el=new b(t=>t.complete());function nl(t){return t?function(t){return new b(e=>t.schedule(()=>e.complete()))}(t):el}function rl(t){return new b(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?q(n):nl()).subscribe(e)})}function il(){return W(1)}function ol(t,e){return function(n){return n.lift(new sl(t,e))}}class sl{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new al(t,this.predicate,this.thisArg))}}class al extends p{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}const ul=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function cl(t){return function(e){return 0===t?nl():e.lift(new ll(t))}}class ll{constructor(t){if(this.total=t,this.total<0)throw new ul}call(t,e){return e.subscribe(new hl(t,this.total))}}class hl extends p{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function fl(t=ml){return e=>e.lift(new dl(t))}class dl{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new pl(t,this.errorFactory))}}class pl extends p{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function ml(){return new Qc}function gl(t=null){return e=>e.lift(new vl(t))}class vl{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new yl(t,this.defaultValue))}}class yl extends p{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function wl(t,e){const n=arguments.length>=2;return r=>r.pipe(t?ol((e,n)=>t(e,n,r)):G,cl(1),n?gl(e):fl(()=>new Qc))}function bl(t){return function(e){const n=new _l(t),r=e.lift(n);return n.caught=r}}class _l{constructor(t){this.selector=t}call(t,e){return e.subscribe(new El(t,this.selector,this.caught))}}class El extends M{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new k(this,void 0,void 0);this.add(r);const i=L(this,n,void 0,void 0,r);i!==r&&this.add(i)}}}function Il(t){return e=>0===t?nl():e.lift(new Cl(t))}class Cl{constructor(t){if(this.total=t,this.total<0)throw new ul}call(t,e){return e.subscribe(new Tl(t,this.total))}}class Tl extends p{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function Sl(t,e){const n=arguments.length>=2;return r=>r.pipe(t?ol((e,n)=>t(e,n,r)):G,Il(1),n?gl(e):fl(()=>new Qc))}class Al{constructor(t,e,n){this.predicate=t,this.thisArg=e,this.source=n}call(t,e){return e.subscribe(new kl(t,this.predicate,this.thisArg,this.source))}}class kl extends p{constructor(t,e,n,r){super(t),this.predicate=e,this.thisArg=n,this.source=r,this.index=0,this.thisArg=n||this}notifyComplete(t){this.destination.next(t),this.destination.complete()}_next(t){let e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(n){return void this.destination.error(n)}e||this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}function Nl(t,e){return"function"==typeof e?n=>n.pipe(Nl((n,r)=>q(t(n,r)).pipe(V((t,i)=>e(n,t,r,i))))):e=>e.lift(new xl(t))}class xl{constructor(t){this.project=t}call(t,e){return e.subscribe(new Ol(t,this.project))}}class Ol extends M{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e,t,n)}_innerSub(t,e,n){const r=this.innerSubscription;r&&r.unsubscribe();const i=new k(this,e,n),o=this.destination;o.add(i),this.innerSubscription=L(this,t,void 0,void 0,i),this.innerSubscription!==i&&o.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=null}notifyComplete(t){this.destination.remove(t),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(t,e,n,r,i){this.destination.next(e)}}function Rl(...t){return il()(Jc(...t))}function Dl(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Pl(t,e,n))}}class Pl{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new Ll(t,this.accumulator,this.seed,this.hasSeed))}}class Ll extends p{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function Ml(t,e){return B(t,e,1)}function Vl(t,e,n){return function(r){return r.lift(new Ul(t,e,n))}}class Ul{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new jl(t,this.nextOrObserver,this.error,this.complete))}}class jl extends p{constructor(t,e,n,i){super(t),this._tapNext=v,this._tapError=v,this._tapComplete=v,this._tapError=n||v,this._tapComplete=i||v,r(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||v,this._tapError=e.error||v,this._tapComplete=e.complete||v)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}class Fl{constructor(t){this.callback=t}call(t,e){return e.subscribe(new ql(t,this.callback))}}class ql extends p{constructor(t,e){super(t),this.add(new h(e))}}class Bl{constructor(t,e){this.id=t,this.url=e}}class zl extends Bl{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Hl extends Bl{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Gl extends Bl{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Wl extends Bl{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class $l extends Bl{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Kl extends Bl{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Jl extends Bl{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Yl extends Bl{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ql extends Bl{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Xl{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Zl{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class th{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class eh{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class nh{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rh{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ih{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let oh=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=fe({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&Mo(0,"router-outlet")},directives:function(){return[hd]},encapsulation:2}),t})();class sh{constructor(t){this.params=t||{}}has(t){return this.params.hasOwnProperty(t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function ah(t){return new sh(t)}function uh(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function ch(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const e=r[o],n=t[o];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}class lh{constructor(t,e){this.routes=t,this.module=e}}function hh(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];fh(r,dh(e,r))}}function fh(t,e){if(!t)throw new Error(`\n      Invalid configuration of route '${e}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);if(Array.isArray(t))throw new Error(`Invalid configuration of route '${e}': Array cannot be specified`);if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&"primary"!==t.outlet)throw new Error(`Invalid configuration of route '${e}': a componentless route without children or loadChildren cannot have a named outlet set`);if(t.redirectTo&&t.children)throw new Error(`Invalid configuration of route '${e}': redirectTo and children cannot be used together`);if(t.redirectTo&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': redirectTo and loadChildren cannot be used together`);if(t.children&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': children and loadChildren cannot be used together`);if(t.redirectTo&&t.component)throw new Error(`Invalid configuration of route '${e}': redirectTo and component cannot be used together`);if(t.path&&t.matcher)throw new Error(`Invalid configuration of route '${e}': path and matcher cannot be used together`);if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error(`Invalid configuration of route '${e}'. One of the following must be provided: component, redirectTo, children or loadChildren`);if(void 0===t.path&&void 0===t.matcher)throw new Error(`Invalid configuration of route '${e}': routes must have either a path or a matcher specified`);if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error(`Invalid configuration of route '${e}': path cannot start with a slash`);if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error(`Invalid configuration of route '{path: "${e}", redirectTo: "${t.redirectTo}"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.`);if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error(`Invalid configuration of route '${e}': pathMatch can only be set to 'prefix' or 'full'`);t.children&&hh(t.children,e)}function dh(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function ph(t){const e=t.children&&t.children.map(ph),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=oh),n}function mh(t,e){const n=Object.keys(t),r=Object.keys(e);if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!gh(t[i],e[i]))return!1;return!0}function gh(t,e){return Array.isArray(t)&&Array.isArray(e)?t.length==e.length&&t.every(t=>e.indexOf(t)>-1):t===e}function vh(t){return Array.prototype.concat.apply([],t)}function yh(t){return t.length>0?t[t.length-1]:null}function wh(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function bh(t){return jo(t)?t:Uo(t)?q(Promise.resolve(t)):Jc(t)}function _h(t,e,n){return n?function(t,e){return mh(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!Th(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children){if(!e.children[r])return!1;if(!t(e.children[r],n.children[r]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>gh(t[n],e[n]))}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,r,i){if(n.segments.length>i.length)return!!Th(n.segments.slice(0,i.length),i)&&!r.hasChildren();if(n.segments.length===i.length){if(!Th(n.segments,i))return!1;for(const e in r.children){if(!n.children[e])return!1;if(!t(n.children[e],r.children[e]))return!1}return!0}{const t=i.slice(0,n.segments.length),o=i.slice(n.segments.length);return!!Th(n.segments,t)&&!!n.children.primary&&e(n.children.primary,r,o)}}(e,n,n.segments)}(t.root,e.root)}class Eh{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ah(this.queryParams)),this._queryParamMap}toString(){return Nh.serialize(this)}}class Ih{constructor(t,e){this.segments=t,this.children=e,this.parent=null,wh(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return xh(this)}}class Ch{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=ah(this.parameters)),this._parameterMap}toString(){return Mh(this)}}function Th(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}function Sh(t,e){let n=[];return wh(t.children,(t,r)=>{"primary"===r&&(n=n.concat(e(t,r)))}),wh(t.children,(t,r)=>{"primary"!==r&&(n=n.concat(e(t,r)))}),n}class Ah{}class kh{parse(t){const e=new qh(t);return new Eh(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var e;return`${`/${function t(e,n){if(!e.hasChildren())return xh(e);if(n){const n=e.children.primary?t(e.children.primary,!1):"",r=[];return wh(e.children,(e,n)=>{"primary"!==n&&r.push(`${n}:${t(e,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=Sh(e,(n,r)=>"primary"===r?[t(e.children.primary,!1)]:[`${r}:${t(n,!1)}`]);return`${xh(e)}/(${n.join("//")})`}}(t.root,!0)}`}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${Rh(e)}=${Rh(t)}`).join("&"):`${Rh(e)}=${Rh(n)}`});return e.length?`?${e.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${e=t.fragment,encodeURI(e)}`:""}`}}const Nh=new kh;function xh(t){return t.segments.map(t=>Mh(t)).join("/")}function Oh(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Rh(t){return Oh(t).replace(/%3B/gi,";")}function Dh(t){return Oh(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ph(t){return decodeURIComponent(t)}function Lh(t){return Ph(t.replace(/\+/g,"%20"))}function Mh(t){return`${Dh(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${Dh(t)}=${Dh(e[t])}`).join("")}`;var e}const Vh=/^[^\/()?;=#]+/;function Uh(t){const e=t.match(Vh);return e?e[0]:""}const jh=/^[^=?&#]+/,Fh=/^[^?&#]+/;class qh{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ih([],{}):new Ih([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new Ih(t,e)),n}parseSegment(){const t=Uh(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Ch(Ph(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Uh(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=Uh(this.remaining);t&&(n=t,this.capture(n))}t[Ph(e)]=Ph(n)}parseQueryParam(t){const e=function(t){const e=t.match(jh);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(Fh);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=Lh(e),i=Lh(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Uh(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i="primary");const o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new Ih([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Bh{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=zh(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=zh(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Hh(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return Hh(t,this._root).map(t=>t.value)}}function zh(t,e){if(t===e.value)return e;for(const n of e.children){const e=zh(t,n);if(e)return e}return null}function Hh(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Hh(t,n);if(r.length)return r.unshift(e),r}return[]}class Gh{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Wh(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class $h extends Bh{constructor(t,e){super(t),this.snapshot=e,Zh(this,t)}toString(){return this.snapshot.toString()}}function Kh(t,e){const n=function(t,e){const n=new Qh([],{},{},"",{},"primary",e,null,t.root,-1,{});return new Xh("",new Gh(n,[]))}(t,e),r=new Yc([new Ch("",{})]),i=new Yc({}),o=new Yc({}),s=new Yc({}),a=new Yc(""),u=new Jh(r,i,s,a,o,"primary",e,n.root);return u.snapshot=n.root,new $h(new Gh(u,[]),n)}class Jh{constructor(t,e,n,r,i,o,s,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(V(t=>ah(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(V(t=>ah(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Yh(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Qh{constructor(t,e,n,r,i,o,s,a,u,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ah(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ah(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Xh extends Bh{constructor(t,e){super(e),this.url=t,Zh(this,e)}toString(){return tf(this._root)}}function Zh(t,e){e.value._routerState=t,e.children.forEach(e=>Zh(t,e))}function tf(t){const e=t.children.length>0?` { ${t.children.map(tf).join(", ")} } `:"";return`${t.value}${e}`}function ef(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,mh(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),mh(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!mh(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),mh(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function nf(t,e){var n,r;return mh(t.params,e.params)&&Th(n=t.url,r=e.url)&&n.every((t,e)=>mh(t.parameters,r[e].parameters))&&!(!t.parent!=!e.parent)&&(!t.parent||nf(t.parent,e.parent))}function rf(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function of(t,e,n,r,i){let o={};return r&&wh(r,(t,e)=>{o[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),new Eh(n.root===t?e:function t(e,n,r){const i={};return wh(e.children,(e,o)=>{i[o]=e===n?r:t(e,n,r)}),new Ih(e.segments,i)}(n.root,t,e),o,i)}class sf{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&rf(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(t=>"object"==typeof t&&null!=t&&t.outlets);if(r&&r!==yh(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class af{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function uf(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets.primary:`${t}`}function cf(t,e,n){if(t||(t=new Ih([],{})),0===t.segments.length&&t.hasChildren())return lf(t,e,n);const r=function(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const e=t.segments[i],s=uf(n[r]),a=r<n.length-1?n[r+1]:null;if(i>0&&void 0===s)break;if(s&&a&&"object"==typeof a&&void 0===a.outlets){if(!pf(s,a,e))return o;r+=2}else{if(!pf(s,{},e))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new Ih(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new Ih(t.segments.slice(r.pathIndex),t.children),lf(e,0,i)}return r.match&&0===i.length?new Ih(t.segments,{}):r.match&&!t.hasChildren()?hf(t,e,n):r.match?lf(t,0,i):hf(t,e,n)}function lf(t,e,n){if(0===n.length)return new Ih(t.segments,{});{const r=function(t){return"object"!=typeof t[0]?{primary:t}:void 0===t[0].outlets?{primary:t}:t[0].outlets}(n),i={};return wh(r,(n,r)=>{null!==n&&(i[r]=cf(t.children[r],e,n))}),wh(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new Ih(t.segments,i)}}function hf(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){if("object"==typeof n[i]&&void 0!==n[i].outlets){const t=ff(n[i].outlets);return new Ih(r,t)}if(0===i&&rf(n[0])){r.push(new Ch(t.segments[e].path,n[0])),i++;continue}const o=uf(n[i]),s=i<n.length-1?n[i+1]:null;o&&s&&rf(s)?(r.push(new Ch(o,df(s))),i+=2):(r.push(new Ch(o,{})),i++)}return new Ih(r,{})}function ff(t){const e={};return wh(t,(t,n)=>{null!==t&&(e[n]=hf(new Ih([],{}),0,t))}),e}function df(t){const e={};return wh(t,(t,n)=>e[n]=`${t}`),e}function pf(t,e,n){return t==n.path&&mh(e,n.parameters)}class mf{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),ef(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=Wh(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),wh(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet);if(n){const r=Wh(t),i=t.value.component?n.children:e;wh(r,(t,e)=>this.deactivateRouteAndItsChildren(t,i)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(t,e,n){const r=Wh(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new rh(t.value.snapshot))}),t.children.length&&this.forwardEvent(new eh(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(ef(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),gf(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function gf(t){ef(t.value),t.children.forEach(gf)}function vf(t){return"function"==typeof t}function yf(t){return t instanceof Eh}class wf{constructor(t){this.segmentGroup=t||null}}class bf{constructor(t){this.urlTree=t}}function _f(t){return new b(e=>e.error(new wf(t)))}function Ef(t){return new b(e=>e.error(new bf(t)))}function If(t){return new b(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class Cf{constructor(t,e,n,r,i){this.configLoader=e,this.urlSerializer=n,this.urlTree=r,this.config=i,this.allowRedirects=!0,this.ngModule=t.get(Xt)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,"primary").pipe(V(t=>this.createUrlTree(t,this.urlTree.queryParams,this.urlTree.fragment))).pipe(bl(t=>{if(t instanceof bf)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof wf)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,"primary").pipe(V(e=>this.createUrlTree(e,t.queryParams,t.fragment))).pipe(bl(t=>{if(t instanceof wf)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new Ih([],{primary:t}):t;return new Eh(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(V(t=>new Ih([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){return function(t,e){if(0===Object.keys(t).length)return Jc({});const n=[],r=[],i={};return wh(t,(t,o)=>{const s=e(o,t).pipe(V(t=>i[o]=t));"primary"===o?n.push(s):r.push(s)}),Jc.apply(null,n.concat(r)).pipe(il(),wl(),V(()=>i))}(n.children,(n,r)=>this.expandSegmentGroup(t,e,r,n))}expandSegment(t,e,n,r,i,o){return Jc(...n).pipe(V(s=>this.expandSegmentAgainstRoute(t,e,n,s,r,i,o).pipe(bl(t=>{if(t instanceof wf)return Jc(null);throw t}))),il(),Sl(t=>!!t),bl((t,n)=>{if(t instanceof Qc||"EmptyError"===t.name){if(this.noLeftoversInUrl(e,r,i))return Jc(new Ih([],{}));throw new wf(e)}throw t}))}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}expandSegmentAgainstRoute(t,e,n,r,i,o,s){return kf(r)!==o?_f(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):_f(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Ef(i):this.lineralizeSegments(n,i).pipe(B(n=>{const i=new Ih(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){const{matched:s,consumedSegments:a,lastChild:u,positionalParamSegments:c}=Tf(e,r,i);if(!s)return _f(e);const l=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?Ef(l):this.lineralizeSegments(r,l).pipe(B(r=>this.expandSegment(t,e,n,r.concat(i.slice(u)),o,!1)))}matchSegmentAgainstRoute(t,e,n,r){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(V(t=>(n._loadedConfig=t,new Ih(r,{})))):Jc(new Ih(r,{}));const{matched:i,consumedSegments:o,lastChild:s}=Tf(e,n,r);if(!i)return _f(e);const a=r.slice(s);return this.getChildConfig(t,n,r).pipe(B(t=>{const n=t.module,r=t.routes,{segmentGroup:i,slicedSegments:s}=function(t,e,n,r){return n.length>0&&function(t,e,n){return n.some(n=>Af(t,e,n)&&"primary"!==kf(n))}(t,n,r)?{segmentGroup:Sf(new Ih(e,function(t,e){const n={};n.primary=e;for(const r of t)""===r.path&&"primary"!==kf(r)&&(n[kf(r)]=new Ih([],{}));return n}(r,new Ih(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return n.some(n=>Af(t,e,n))}(t,n,r)?{segmentGroup:Sf(new Ih(t.segments,function(t,e,n,r){const i={};for(const o of n)Af(t,e,o)&&!r[kf(o)]&&(i[kf(o)]=new Ih([],{}));return Object.assign(Object.assign({},r),i)}(t,n,r,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,o,a,r);return 0===s.length&&i.hasChildren()?this.expandChildren(n,r,i).pipe(V(t=>new Ih(o,t))):0===r.length&&0===s.length?Jc(new Ih(o,{})):this.expandSegment(n,i,r,s,"primary",!0).pipe(V(t=>new Ih(o.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Jc(new lh(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Jc(e._loadedConfig):function(t,e,n){const r=e.canLoad;return r&&0!==r.length?q(r).pipe(V(r=>{const i=t.get(r);let o;if(function(t){return t&&vf(t.canLoad)}(i))o=i.canLoad(e,n);else{if(!vf(i))throw new Error("Invalid CanLoad guard");o=i(e,n)}return bh(o)})).pipe(il(),(i=t=>!0===t,t=>t.lift(new Al(i,void 0,t)))):Jc(!0);var i}(t.injector,e,n).pipe(B(n=>n?this.configLoader.load(t.injector,e).pipe(V(t=>(e._loadedConfig=t,t))):function(t){return new b(e=>e.error(uh(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Jc(new lh([],t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Jc(n);if(r.numberOfChildren>1||!r.children.primary)return If(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new Eh(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return wh(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let o={};return wh(e.children,(e,i)=>{o[i]=this.createSegmentGroup(t,e,n,r)}),new Ih(i,o)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function Tf(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const r=(e.matcher||ch)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function Sf(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new Ih(t.segments.concat(e.segments),e.children)}return t}function Af(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function kf(t){return t.outlet||"primary"}class Nf{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class xf{constructor(t,e){this.component=t,this.route=e}}function Of(t,e,n){const r=t._root;return function t(e,n,r,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=Wh(n);return e.children.forEach(e=>{!function(e,n,r,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=e.value,a=n?n.value:null,u=r?r.getContext(e.value.outlet):null;if(a&&s.routeConfig===a.routeConfig){const c=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Th(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Th(t.url,e.url)||!mh(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!nf(t,e)||!mh(t.queryParams,e.queryParams);case"paramsChange":default:return!nf(t,e)}}(a,s,s.routeConfig.runGuardsAndResolvers);c?o.canActivateChecks.push(new Nf(i)):(s.data=a.data,s._resolvedData=a._resolvedData),t(e,n,s.component?u?u.children:null:r,i,o),c&&o.canDeactivateChecks.push(new xf(u&&u.outlet&&u.outlet.component||null,a))}else a&&Df(n,u,o),o.canActivateChecks.push(new Nf(i)),t(e,null,s.component?u?u.children:null:r,i,o)}(e,s[e.value.outlet],r,i.concat([e.value]),o),delete s[e.value.outlet]}),wh(s,(t,e)=>Df(t,r.getContext(e),o)),o}(r,e?e._root:null,n,[r.value])}function Rf(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Df(t,e,n){const r=Wh(t),i=t.value;wh(r,(t,r)=>{Df(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new xf(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}const Pf=Symbol("INITIAL_VALUE");function Lf(){return Nl(t=>function(...t){let e=null,n=null;return A(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&u(t[0])&&(t=t[0]),$(t,n).lift(new Zc(e))}(...t.map(t=>t.pipe(Il(1),function(...t){const e=t[t.length-1];return A(e)?(t.pop(),n=>Rl(t,n,e)):e=>Rl(t,e)}(Pf)))).pipe(Dl((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==Pf)return t;if(r===Pf&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||yf(r))return r}return t},t)},Pf),ol(t=>t!==Pf),V(t=>yf(t)?t:!0===t),Il(1)))}function Mf(t,e){return null!==t&&e&&e(new nh(t)),Jc(!0)}function Vf(t,e){return null!==t&&e&&e(new th(t)),Jc(!0)}function Uf(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;return r&&0!==r.length?Jc(r.map(r=>rl(()=>{const i=Rf(r,e,n);let o;if(function(t){return t&&vf(t.canActivate)}(i))o=bh(i.canActivate(e,t));else{if(!vf(i))throw new Error("Invalid CanActivate guard");o=bh(i(e,t))}return o.pipe(Sl())}))).pipe(Lf()):Jc(!0)}function jf(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>rl(()=>Jc(e.guards.map(i=>{const o=Rf(i,e.node,n);let s;if(function(t){return t&&vf(t.canActivateChild)}(o))s=bh(o.canActivateChild(r,t));else{if(!vf(o))throw new Error("Invalid CanActivateChild guard");s=bh(o(r,t))}return s.pipe(Sl())})).pipe(Lf())));return Jc(i).pipe(Lf())}class Ff{}class qf{constructor(t,e,n,r,i,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}recognize(){try{const t=Hf(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,"primary"),n=new Qh([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Gh(n,e),i=new Xh(this.url,r);return this.inheritParamsAndData(i._root),Jc(i)}catch(t){return new b(e=>e.error(t))}}inheritParamsAndData(t){const e=t.value,n=Yh(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=Sh(e,(e,n)=>this.processSegmentGroup(t,e,n));return function(t){const e={};t.forEach(t=>{const n=e[t.value.outlet];if(n){const e=n.url.map(t=>t.toString()).join("/"),r=t.value.url.map(t=>t.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${e}' and '${r}'.`)}e[t.value.outlet]=t.value})}(n),n.sort((t,e)=>"primary"===t.value.outlet?-1:"primary"===e.value.outlet?1:t.value.outlet.localeCompare(e.value.outlet)),n}processSegment(t,e,n,r){for(const o of t)try{return this.processSegmentAgainstRoute(o,e,n,r)}catch(i){if(!(i instanceof Ff))throw i}if(this.noLeftoversInUrl(e,n,r))return[];throw new Ff}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo)throw new Ff;if((t.outlet||"primary")!==r)throw new Ff;let i,o=[],s=[];if("**"===t.path){const o=n.length>0?yh(n).parameters:{};i=new Qh(n,o,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,$f(t),r,t.component,t,Bf(e),zf(e)+n.length,Kf(t))}else{const a=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new Ff;return{consumedSegments:[],lastChild:0,parameters:{}}}const r=(e.matcher||ch)(n,t,e);if(!r)throw new Ff;const i={};wh(r.posParams,(t,e)=>{i[e]=t.path});const o=r.consumed.length>0?Object.assign(Object.assign({},i),r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:o}}(e,t,n);o=a.consumedSegments,s=n.slice(a.lastChild),i=new Qh(o,a.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,$f(t),r,t.component,t,Bf(e),zf(e)+o.length,Kf(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:c}=Hf(e,o,s,a,this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const t=this.processChildren(a,u);return[new Gh(i,t)]}if(0===a.length&&0===c.length)return[new Gh(i,[])];const l=this.processSegment(a,u,c,"primary");return[new Gh(i,l)]}}function Bf(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function zf(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Hf(t,e,n,r,i){if(n.length>0&&function(t,e,n){return n.some(n=>Gf(t,e,n)&&"primary"!==Wf(n))}(t,n,r)){const i=new Ih(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const o of n)if(""===o.path&&"primary"!==Wf(o)){const n=new Ih([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[Wf(o)]=n}return i}(t,e,r,new Ih(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>Gf(t,e,n))}(t,n,r)){const o=new Ih(t.segments,function(t,e,n,r,i,o){const s={};for(const a of r)if(Gf(t,n,a)&&!i[Wf(a)]){const n=new Ih([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[Wf(a)]=n}return Object.assign(Object.assign({},i),s)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const o=new Ih(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}function Gf(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function Wf(t){return t.outlet||"primary"}function $f(t){return t.data||{}}function Kf(t){return t.resolve||{}}function Jf(t,e,n,r){const i=Rf(t,e,r);return bh(i.resolve?i.resolve(e,n):i(e,n))}function Yf(t){return function(e){return e.pipe(Nl(e=>{const n=t(e);return n?q(n).pipe(V(()=>e)):q([e])}))}}class Qf{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}const Xf=new Ut("ROUTES");class Zf{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(V(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new lh(vh(r.injector.get(Xf)).map(ph),r)}))}loadModuleFactory(t){return"string"==typeof t?q(this.loader.load(t)):bh(t()).pipe(B(t=>t instanceof Zt?Jc(t):q(this.compiler.compileModuleAsync(t))))}}class td{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function ed(t){throw t}function nd(t,e,n){return e.parse("/")}function rd(t,e){return Jc(null)}let id=(()=>{class t{constructor(t,e,n,r,i,o,s,a){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=r,this.config=a,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new T,this.errorHandler=ed,this.malformedUriErrorHandler=nd,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:rd,afterPreactivation:rd},this.urlHandlingStrategy=new td,this.routeReuseStrategy=new Qf,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=i.get(Xt),this.console=i.get(Ja);const u=i.get(cu);this.isNgZoneEnabled=u instanceof cu,this.resetConfig(a),this.currentUrlTree=new Eh(new Ih([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Zf(o,s,t=>this.triggerEvent(new Xl(t)),t=>this.triggerEvent(new Zl(t))),this.routerState=Kh(this.currentUrlTree,this.rootComponentType),this.transitions=new Yc({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(ol(t=>0!==t.id),V(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),Nl(t=>{let n=!1,r=!1;return Jc(t).pipe(Vl(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Nl(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Jc(t).pipe(Nl(t=>{const n=this.transitions.getValue();return e.next(new zl(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?el:[t]}),Nl(t=>Promise.resolve(t)),(r=this.ngModule.injector,i=this.configLoader,o=this.urlSerializer,s=this.config,function(t){return t.pipe(Nl(t=>function(t,e,n,r,i){return new Cf(t,e,n,r,i).apply()}(r,i,o,t.extractedUrl,s).pipe(V(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e})))))}),Vl(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return function(o){return o.pipe(B(o=>function(t,e,n,r,i="emptyOnly",o="legacy"){return new qf(t,e,n,r,i,o).recognize()}(t,e,o.urlAfterRedirects,n(o.urlAfterRedirects),r,i).pipe(V(t=>Object.assign(Object.assign({},o),{targetSnapshot:t})))))}}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Vl(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),Vl(t=>{const n=new $l(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,o,s;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:o,extras:s}=t,a=new zl(n,this.serializeUrl(r),i,o);e.next(a);const u=Kh(r,this.rootComponentType).snapshot;return Jc(Object.assign(Object.assign({},t),{targetSnapshot:u,urlAfterRedirects:r,extras:Object.assign(Object.assign({},s),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),el}),Yf(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Vl(t=>{const e=new Kl(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),V(t=>Object.assign(Object.assign({},t),{guards:Of(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return function(n){return n.pipe(B(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?Jc(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return q(t).pipe(B(t=>function(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?Jc(o.map(o=>{const s=Rf(o,e,i);let a;if(function(t){return t&&vf(t.canDeactivate)}(s))a=bh(s.canDeactivate(t,e,n,r));else{if(!vf(s))throw new Error("Invalid CanDeactivate guard");a=bh(s(t,e,n,r))}return a.pipe(Sl())})).pipe(Lf()):Jc(!0)}(t.component,t.route,n,e,r)),Sl(t=>!0!==t,!0))}(s,r,i,t).pipe(B(n=>n&&"boolean"==typeof n?function(t,e,n,r){return q(e).pipe(Ml(e=>q([Vf(e.route.parent,r),Mf(e.route,r),jf(t,e.path,n),Uf(t,e.route,n)]).pipe(il(),Sl(t=>!0!==t,!0))),Sl(t=>!0!==t,!0))}(r,o,t,e):Jc(n)),V(t=>Object.assign(Object.assign({},n),{guardsResult:t})))}))}}(this.ngModule.injector,t=>this.triggerEvent(t)),Vl(t=>{if(yf(t.guardsResult)){const e=uh(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}}),Vl(t=>{const e=new Jl(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),ol(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new Gl(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),Yf(t=>{if(t.guards.canActivateChecks.length)return Jc(t).pipe(Vl(t=>{const e=new Yl(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),(e=this.paramsInheritanceStrategy,n=this.ngModule.injector,function(t){return t.pipe(B(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;return i.length?q(i).pipe(Ml(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Jc({});if(1===i.length){const o=i[0];return Jf(t[o],e,n,r).pipe(V(t=>({[o]:t})))}const o={};return q(i).pipe(B(i=>Jf(t[i],e,n,r).pipe(V(t=>(o[i]=t,t))))).pipe(wl(),V(()=>o))}(t._resolve,t,e,r).pipe(V(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),Yh(t,n).resolve),null)))}(t.route,r,e,n)),function(t,e){return arguments.length>=2?function(n){return y(Dl(t,e),cl(1),gl(e))(n)}:function(e){return y(Dl((e,n,r)=>t(e,n,r+1)),cl(1))(e)}}((t,e)=>t),V(e=>t)):Jc(t)}))}),Vl(t=>{const e=new Ql(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}));var e,n}),Yf(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),V(t=>{const e=function(t,e,n){const r=function t(e,n,r){if(r&&e.shouldReuseRoute(n.value,r.value.snapshot)){const i=r.value;i._futureSnapshot=n.value;const o=function(e,n,r){return n.children.map(n=>{for(const i of r.children)if(e.shouldReuseRoute(i.value.snapshot,n.value))return t(e,n,i);return t(e,n)})}(e,n,r);return new Gh(i,o)}{const r=e.retrieve(n.value);if(r){const t=r.route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(let r=0;r<e.children.length;++r)t(e.children[r],n.children[r])}(n,t),t}{const r=new Jh(new Yc((i=n.value).url),new Yc(i.params),new Yc(i.queryParams),new Yc(i.fragment),new Yc(i.data),i.outlet,i.component,i),o=n.children.map(n=>t(e,n));return new Gh(r,o)}}var i}(t,e._root,n?n._root:void 0);return new $h(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Vl(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(o=this.rootContexts,s=this.routeReuseStrategy,a=t=>this.triggerEvent(t),V(t=>(new mf(s,t.targetRouterState,t.currentRouterState,a).activate(o),t))),Vl({next(){n=!0},complete(){n=!0}}),(i=()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new Gl(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null},t=>t.lift(new Fl(i))),bl(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=yf(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new Gl(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);return this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new Wl(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(o){t.reject(o)}}var i;return el}));var i,o,s,a}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{let e=this.parseUrl(t.url);const n="popstate"===t.type?"popstate":"hashchange",r=t.state&&t.state.navigationId?t.state:null;setTimeout(()=>{this.scheduleNavigation(e,n,r,{replaceUrl:!0})},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){hh(t),this.config=t.map(ph),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,preserveQueryParams:o,queryParamsHandling:s,preserveFragment:a}=e;ur()&&o&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");const u=n||this.routerState.root,c=a?this.currentUrlTree.fragment:i;let l=null;if(s)switch(s){case"merge":l=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=r||null}else l=o?this.currentUrlTree.queryParams:r||null;return null!==l&&(l=this.removeEmptyProps(l)),function(t,e,n,r,i){if(0===n.length)return of(e.root,e.root,e,r,i);const o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new sf(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return wh(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new sf(n,e,r)}(n);if(o.toRoot())return of(e.root,new Ih([],{}),e,r,i);const s=function(t,e,n){if(t.isAbsolute)return new af(e.root,!0,0);if(-1===n.snapshot._lastPathIndex)return new af(n.snapshot._urlSegment,!0,0);const r=rf(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new af(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(o,e,t),a=s.processChildren?lf(s.segmentGroup,s.index,o.commands):cf(s.segmentGroup,s.index,o.commands);return of(s.segmentGroup,a,e,r,i)}(u,this.currentUrlTree,t,l,c)}navigateByUrl(t,e={skipLocationChange:!1}){ur()&&this.isNgZoneEnabled&&!cu.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");const n=yf(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}isActive(t,e){if(yf(t))return _h(this.currentUrlTree,t,e);const n=this.parseUrl(t);return _h(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new Hl(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){const o=this.getTransition();if(o&&"imperative"!==e&&"imperative"===o.source&&o.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(o&&"hashchange"==e&&"popstate"===o.source&&o.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(o&&"popstate"==e&&"hashchange"===o.source&&o.rawUrl.toString()===t.toString())return Promise.resolve(!0);let s,a,u;i?(s=i.resolve,a=i.reject,u=i.promise):u=new Promise((t,e)=>{s=t,a=e});const c=++this.navigationId;return this.setTransition({id:c,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:s,reject:a,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(t){Oo()},t.\u0275dir=ye({type:t}),t})(),od=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.route=e,this.commands=[],null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}set preserveQueryParams(t){ur()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=t}onClick(){const t={skipLocationChange:ad(this.skipLocationChange),replaceUrl:ad(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:ad(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:ad(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(No(id),No(Jh),xo("tabindex"),No(Vs),No(Ds))},t.\u0275dir=ye({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,e){1&t&&Fo("click",(function(){return e.onClick()}))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"}}),t})(),sd=(()=>{class t{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.subscription=t.events.subscribe(t=>{t instanceof Hl&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}set preserveQueryParams(t){ur()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=t}ngOnChanges(t){this.updateTargetUrlAndHref()}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,r){if(0!==t||e||n||r)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const i={skipLocationChange:ad(this.skipLocationChange),replaceUrl:ad(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,i),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:ad(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:ad(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(No(id),No(Jh),No(Xu))},t.\u0275dir=ye({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&Fo("click",(function(t){return e.onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)})),2&t&&(hs("href",e.href,fr),Ao("target",e.target))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[ws]}),t})();function ad(t){return""===t||!!t}let ud=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.element=e,this.renderer=n,this.link=r,this.linkWithHref=i,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.subscription=t.events.subscribe(t=>{t instanceof Hl&&this.update()})}ngAfterContentInit(){this.links.changes.subscribe(t=>this.update()),this.linksWithHrefs.changes.subscribe(t=>this.update()),this.update()}set routerLinkActive(t){const e=Array.isArray(t)?t:t.split(" ");this.classes=e.filter(t=>!!t)}ngOnChanges(t){this.update()}ngOnDestroy(){this.subscription.unsubscribe()}update(){this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.classes.forEach(e=>{t?this.renderer.addClass(this.element.nativeElement,e):this.renderer.removeClass(this.element.nativeElement,e)}))})}isLinkActive(t){return e=>t.isActive(e.urlTree,this.routerLinkActiveOptions.exact)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}return t.\u0275fac=function(e){return new(e||t)(No(id),No(Ds),No(Vs),No(od,8),No(sd,8))},t.\u0275dir=ye({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(t,e,n){var r;1&t&&(La(n,od,!0),La(n,sd,!0)),2&t&&(Pa(r=Ma())&&(e.links=r),Pa(r=Ma())&&(e.linksWithHrefs=r))},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[ws]}),t})();class cd{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new ld,this.attachRef=null}}class ld{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new cd,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}let hd=(()=>{class t{constructor(t,e,n,r,i){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=i,this.activated=null,this._activatedRoute=null,this.activateEvents=new Ia,this.deactivateEvents=new Ia,this.name=r||"primary",t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new fd(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(No(ld),No(oa),No(Rs),xo("name"),No(Xi))},t.\u0275dir=ye({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class fd{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===Jh?this.route:t===ld?this.childContexts:this.parent.get(t,e)}}class dd{}class pd{preload(t,e){return Jc(null)}}let md=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new Zf(e,n,e=>t.triggerEvent(new Xl(e)),e=>t.triggerEvent(new Zl(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(ol(t=>t instanceof Hl),Ml(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(Xt);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return q(n).pipe(W(),V(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(B(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(Kt(id),Kt(Ou),Kt(ou),Kt(mo),Kt(dd))},t.\u0275prov=lt({token:t,factory:t.\u0275fac}),t})(),gd=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof zl?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Hl&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof ih&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new ih(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(t){Oo()},t.\u0275dir=ye({type:t}),t})();const vd=new Ut("ROUTER_CONFIGURATION"),yd=new Ut("ROUTER_FORROOT_GUARD"),wd=[rc,{provide:Ah,useClass:kh},{provide:id,useFactory:function(t,e,n,r,i,o,s,a={},u,c){const l=new id(null,t,e,n,r,i,o,vh(s));if(u&&(l.urlHandlingStrategy=u),c&&(l.routeReuseStrategy=c),a.errorHandler&&(l.errorHandler=a.errorHandler),a.malformedUriErrorHandler&&(l.malformedUriErrorHandler=a.malformedUriErrorHandler),a.enableTracing){const t=qu();l.events.subscribe(e=>{t.logGroup(`Router Event: ${e.constructor.name}`),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return a.onSameUrlNavigation&&(l.onSameUrlNavigation=a.onSameUrlNavigation),a.paramsInheritanceStrategy&&(l.paramsInheritanceStrategy=a.paramsInheritanceStrategy),a.urlUpdateStrategy&&(l.urlUpdateStrategy=a.urlUpdateStrategy),a.relativeLinkResolution&&(l.relativeLinkResolution=a.relativeLinkResolution),l},deps:[Ah,ld,rc,mo,Ou,ou,Xf,vd,[class{},new it],[class{},new it]]},ld,{provide:Jh,useFactory:function(t){return t.routerState.root},deps:[id]},{provide:Ou,useClass:Pu},md,pd,class{preload(t,e){return e().pipe(bl(()=>Jc(null)))}},{provide:vd,useValue:{enableTracing:!1}}];function bd(){return new Cu("Router",id)}let _d=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[wd,Td(e),{provide:yd,useFactory:Cd,deps:[[id,new it,new st]]},{provide:vd,useValue:n||{}},{provide:Xu,useFactory:Id,deps:[zu,[new rt(tc),new it],vd]},{provide:gd,useFactory:Ed,deps:[id,wc,vd]},{provide:dd,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:pd},{provide:Cu,multi:!0,useFactory:bd},[Sd,{provide:qa,multi:!0,useFactory:Ad,deps:[Sd]},{provide:Nd,useFactory:kd,deps:[Sd]},{provide:Ka,multi:!0,useExisting:Nd}]]}}static forChild(e){return{ngModule:t,providers:[Td(e)]}}}return t.\u0275mod=ge({type:t}),t.\u0275inj=ht({factory:function(e){return new(e||t)(Kt(yd,8),Kt(id,8))}}),t})();function Ed(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new gd(t,e,n)}function Id(t,e,n={}){return n.useHash?new nc(t,e):new ec(t,e)}function Cd(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Td(t){return[{provide:go,multi:!0,useValue:t},{provide:Xf,multi:!0,useValue:t}]}let Sd=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new T}appInitializer(){return this.injector.get(Gu,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(id),r=this.injector.get(vd);if(this.isLegacyDisabled(r)||this.isLegacyEnabled(r))t(!0);else if("disabled"===r.initialNavigation)n.setUpLocationChangeListener(),t(!0);else{if("enabled"!==r.initialNavigation)throw new Error(`Invalid initialNavigation options: '${r.initialNavigation}'`);n.hooks.afterPreactivation=()=>this.initNavigation?Jc(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()}return e})}bootstrapListener(t){const e=this.injector.get(vd),n=this.injector.get(md),r=this.injector.get(gd),i=this.injector.get(id),o=this.injector.get(Nu);t===o.components[0]&&(this.isLegacyEnabled(e)?i.initialNavigation():this.isLegacyDisabled(e)&&i.setUpLocationChangeListener(),n.setUpPreloading(),r.init(),i.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}isLegacyEnabled(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation}isLegacyDisabled(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation}}return t.\u0275fac=function(e){return new(e||t)(Kt(mo))},t.\u0275prov=lt({token:t,factory:t.\u0275fac}),t})();function Ad(t){return t.appInitializer.bind(t)}function kd(t){return t.bootstrapListener.bind(t)}const Nd=new Ut("Router Initializer");class xd extends h{constructor(t,e){super()}schedule(t,e=0){return this}}class Od extends xd{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}let Rd=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class Dd extends Rd{constructor(t,e=Rd.now){super(t,()=>Dd.delegate&&Dd.delegate!==this?Dd.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return Dd.delegate&&Dd.delegate!==this?Dd.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}const Pd=new Dd(Od);function Ld(t,e){return function(t,e=Pd){return new b(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot(n)}):r=t.onSnapshot(n),function(){null!=r&&r()}})}(t,e)}function Md(t,e){return Ld(t,e).pipe(V(t=>({payload:t,type:"query"})))}let Vd=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Jc(this.value);case"E":return t=this.error,new b(e=>e.error(t));case"C":return nl()}var t;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();function Ud(t,e=0){return function(n){return n.lift(new jd(t,e))}}class jd{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new Fd(t,this.scheduler,this.delay))}}class Fd extends p{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(Fd.dispatch,this.delay,new qd(t,this.destination)))}_next(t){this.scheduleMessage(Vd.createNext(t))}_error(t){this.scheduleMessage(Vd.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(Vd.createComplete()),this.unsubscribe()}}class qd{constructor(t,e){this.notification=t,this.destination=e}}function Bd(t,e){return Md(t,e).pipe(V(t=>t.payload.docChanges().map(t=>({type:t.type,payload:t}))))}function zd(t,e,n){return Md(t,n).pipe(V(t=>t.payload.docChanges()),Dl((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":t[e.newIndex]&&t[e.newIndex].doc.ref.isEqual(e.doc.ref)||t.splice(e.newIndex,0,e);break;case"modified":(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref))&&(e.oldIndex!==e.newIndex?(t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e)):t.splice(e.newIndex,1,e));break;case"removed":t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref)&&t.splice(e.oldIndex,1)}return t}(t,e))}),t}(t,n,e),[]),V(t=>t.map(t=>({type:t.type,payload:t}))))}function Hd(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}class Gd{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){return t&&0!==t.length?Bd(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst,V(e=>e.filter(e=>t.indexOf(e.type)>-1)),ol(t=>t.length>0)):Bd(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Dl((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=Hd(t);return zd(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return Md(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst,V(e=>e.payload.docs.map(e=>t.idField?Object.assign({},e.data(),{[t.idField]:e.id}):e.data())))}get(t){return q(this.query.get(t)).pipe(Ud(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new Wd(this.ref.doc(t),this.afs)}}class Wd{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=kp(n,e);return new Gd(r,i,this.afs)}snapshotChanges(){return Ld(this.ref,this.afs.schedulers.outsideAngular).pipe(V(t=>({payload:t,type:"value"}))).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(){return this.snapshotChanges().pipe(V(t=>t.payload.data()))}get(t){return q(this.ref.get(t)).pipe(Ud(this.afs.schedulers.insideAngular))}}class $d{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?Bd(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst,V(e=>e.filter(e=>t.indexOf(e.type)>-1)),ol(t=>t.length>0)):Bd(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Dl((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=Hd(t);return zd(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(){return Md(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst,V(t=>t.payload.docs.map(t=>t.data())))}get(t){return q(this.query.get(t)).pipe(Ud(this.afs.schedulers.insideAngular))}}class Kd extends Od{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}class Jd extends Dd{}const Yd=new Jd(Kd);let Qd=1;const Xd=(()=>Promise.resolve())(),Zd={};function tp(t){return t in Zd&&(delete Zd[t],!0)}const ep={setImmediate(t){const e=Qd++;return Zd[e]=!0,Xd.then(()=>tp(e)&&t()),e},clearImmediate(t){tp(t)}};class np extends Od{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=ep.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(ep.clearImmediate(e),t.scheduled=void 0)}}class rp extends Dd{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const ip=new rp(np);class op extends b{constructor(t,e=0,n=ip){var r;super(),this.source=t,this.delayTime=e,this.scheduler=n,(!(!u(r=e)&&r-parseFloat(r)+1>=0)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=ip)}static create(t,e=0,n=ip){return new op(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(op.dispatch,this.delayTime,{source:this.source,subscriber:t})}}class sp{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new op(e,this.delay,this.scheduler).subscribe(t)}}function ap(){}class up{constructor(t,e=Yd){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule((function(e){r.runGuarded(()=>{t.apply(this,[e])})}),e,n)}}class cp{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ap,{},ap,ap)),e.pipe(Vl(n,n,n)).subscribe(t).add(n)}unscheduleTask(){null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)}}class lp{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new up(Zone.current)),this.insideAngular=t.run(()=>new up(Zone.current,Pd))}}function hp(t,e){return function(n){return yc(e)&&(n=n.lift(new cp(t.ngZone))),n.pipe(function(t,e=0){return function(n){return n.lift(new sp(t,e))}}(t.outsideAngular),Ud(t.insideAngular))}}var fp,dp=n("Wcq6"),pp=n.n(dp);const mp=new Ut("angularfire2.app.options"),gp=new Ut("angularfire2.app.nameOrConfig"),vp=new Fs("5.4.2");function yp(t,e,n){const r="object"==typeof n&&n||{};return r.name=r.name||"string"==typeof n&&n||"[DEFAULT]",pp.a.apps.filter(t=>t&&t.name===r.name)[0]||e.runOutsideAngular(()=>pp.a.initializeApp(t,r))}const wp={provide:class{},useFactory:yp,deps:[mp,cu,[new it,gp]]};let bp=(()=>{let t=fp=class{constructor(t){pp.a.registerVersion&&(pp.a.registerVersion("angularfire",vp.full,t.toString()),pp.a.registerVersion("angular",qs.full))}static initializeApp(t,e){return{ngModule:fp,providers:[{provide:mp,useValue:t},{provide:gp,useValue:e}]}}};return t.\u0275mod=ge({type:t}),t.\u0275inj=ht({factory:function(e){return new(e||t)(Kt($a))},providers:[wp]}),t})();const _p=new Ut("angularfire2.enableFirestorePersistence"),Ep=new Ut("angularfire2.firestore.persistenceSettings"),Ip=_p,Cp=Ep,Tp=new Ut("angularfire2.firestore.settings"),Sp=parseInt(pp.a.SDK_VERSION.split(".")[0]),Ap=Sp<5||5==Sp&&parseInt(pp.a.SDK_VERSION.split(".")[1])<8?{timestampsInSnapshots:!0}:{};function kp(t,e=(t=>t)){return{query:e(t),ref:t}}let Np=(()=>{let t=class{constructor(t,e,n,r,i,o,s){this.schedulers=new lp(o),this.keepUnstableUntilFirst=hp(this.schedulers,i),this.firestore=o.runOutsideAngular(()=>{const n=yp(t,o,e).firestore();return n.settings(r||Ap),n}),this.persistenceEnabled$=n&&!yc(i)?o.runOutsideAngular(()=>{try{return q(this.firestore.enablePersistence(s||void 0).then(()=>!0,()=>!1))}catch(t){return Jc(!1)}}):Jc(!1)}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=kp(n,e);return new Gd(r,i,this)}collectionGroup(t,e){if(Sp<6)throw"collection group queries require Firebase JS SDK >= 6.0";const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new $d(n(r),this)}doc(t){let e;return e="string"==typeof t?this.firestore.doc(t):t,new Wd(e,this)}createId(){return this.firestore.collection("_").doc().id}};return t.\u0275fac=function(e){return new(e||t)(Kt(mp),Kt(gp,8),Kt(Ip,8),Kt(Tp,8),Kt($a),Kt(cu),Kt(Cp,8))},t.\u0275prov=lt({token:t,factory:t.\u0275fac}),t})(),xp=(()=>{let t=class{constructor(t,e,n,r){const i=hp(new lp(r),n);this.auth=r.runOutsideAngular(()=>yp(t,r,e).auth()),this.authState=new b(t=>r.runOutsideAngular(()=>this.auth.onAuthStateChanged(t))).pipe(i),this.user=new b(t=>r.runOutsideAngular(()=>this.auth.onIdTokenChanged(t))).pipe(i),this.idToken=this.user.pipe(Nl(t=>t?q(t.getIdToken()):Jc(null))),this.idTokenResult=this.user.pipe(Nl(t=>t?q(t.getIdTokenResult()):Jc(null)))}};return t.\u0275fac=function(e){return new(e||t)(Kt(mp),Kt(gp,8),Kt($a),Kt(cu))},t.\u0275prov=lt({token:t,factory:t.\u0275fac}),t})(),Op=(()=>{class t{constructor(t,e,n){this.afs=t,this.afAuth=e,this.router=n,this.loggedIn=new Yc(!1),this.userData=e.authState}get isLoggedIn(){return this.loggedIn.asObservable()}isSetUserSession(){return!!localStorage.getItem("user")}SignIn(t,e){return new Promise((n,r)=>{this.afAuth.auth.signInWithEmailAndPassword(t,e).then(t=>{if(!t.user.emailVerified)throw new Error("Email not verified");this.router.navigate(["dashboard"]),this.SetUserData(t.user),localStorage.setItem("user",JSON.stringify(t.user)),this.loggedIn.next(this.isSetUserSession()),n(t)},t=>r(t)).catch(t=>r(t))})}SignUp(t,e){return new Promise((n,r)=>{this.afAuth.auth.createUserWithEmailAndPassword(t,e).then(t=>{this.SendVerificationMail(),this.SetUserData(t.user),n(t)},t=>r(t))})}SendVerificationMail(){return this.afAuth.auth.currentUser.sendEmailVerification().then(()=>{this.router.navigate(["verify-email-address"])})}ForgotPassword(t){return this.afAuth.auth.sendPasswordResetEmail(t).then(()=>{window.alert("Password reset email sent, check your inbox.")}).catch(t=>{window.alert(t)})}SetUserData(t){return this.afs.doc(`users/${t.uid}`).set(Object.assign({},{uid:t.uid,email:t.email,emailVerified:t.emailVerified}),{merge:!0})}SignOut(){return new Promise((t,e)=>{this.afAuth.auth.signOut().then(e=>{localStorage.removeItem("user"),this.loggedIn.next(this.isSetUserSession()),this.router.navigate(["home"]),t(e)},t=>e(t))})}}return t.\u0275fac=function(e){return new(e||t)(Kt(Np),Kt(xp),Kt(id))},t.\u0275prov=lt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Rp(t,e){return new b(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let o=0,s=0;for(let a=0;a<r;a++){const u=q(t[a]);let c=!1;n.add(u.subscribe({next:t=>{c||(c=!0,s++),i[a]=t},error:t=>n.error(t),complete:()=>{o++,o!==r&&c||(s===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}const Dp=new Ut("NgValueAccessor"),Pp={provide:Dp,useExisting:It(()=>Lp),multi:!0};let Lp=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(No(Vs),No(Ds))},t.\u0275dir=ye({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&Fo("change",(function(t){return e.onChange(t.target.checked)}))("blur",(function(){return e.onTouched()}))},features:[Ns([Pp])]}),t})();const Mp={provide:Dp,useExisting:It(()=>Up),multi:!0},Vp=new Ut("CompositionEventMode");let Up=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=qu()?qu().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(No(Vs),No(Ds),No(Vp,8))},t.\u0275dir=ye({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&Fo("input",(function(t){return e._handleInput(t.target.value)}))("blur",(function(){return e.onTouched()}))("compositionstart",(function(){return e._compositionStart()}))("compositionend",(function(t){return e._compositionEnd(t.target.value)}))},features:[Ns([Mp])]}),t})(),jp=(()=>{class t{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=ye({type:t}),t})(),Fp=(()=>{class t extends jp{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return qp(e||t)},t.\u0275dir=ye({type:t,features:[ds]}),t})();const qp=Zn(Fp);function Bp(){throw new Error("unimplemented")}class zp extends jp{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null,this._rawValidators=[],this._rawAsyncValidators=[]}get validator(){return Bp()}get asyncValidator(){return Bp()}}class Hp{constructor(t){this._cd=t}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}let Gp=(()=>{class t extends Hp{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(No(zp,2))},t.\u0275dir=ye({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&Qo("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[ds]}),t})(),Wp=(()=>{class t extends Hp{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(No(Fp,2))},t.\u0275dir=ye({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&Qo("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[ds]}),t})();function $p(t){return null==t||0===t.length}const Kp=new Ut("NgValidators"),Jp=new Ut("NgAsyncValidators"),Yp=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Qp{static min(t){return e=>{if($p(e.value)||$p(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if($p(e.value)||$p(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return $p(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return $p(t.value)?null:Yp.test(t.value)?null:{email:!0}}static minLength(t){return e=>{if($p(e.value))return null;const n=e.value?e.value.length:0;return n<t?{minlength:{requiredLength:t,actualLength:n}}:null}}static maxLength(t){return e=>{const n=e.value?e.value.length:0;return n>t?{maxlength:{requiredLength:t,actualLength:n}}:null}}static pattern(t){if(!t)return Qp.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if($p(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter(Xp);return 0==e.length?null:function(t){return tm(function(t,e){return e.map(e=>e(t))}(t,e))}}static composeAsync(t){if(!t)return null;const e=t.filter(Xp);return 0==e.length?null:function(t){return function(...t){if(1===t.length){const e=t[0];if(u(e))return Rp(e,null);if(c(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return Rp(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return Rp(t=1===t.length&&u(t[0])?t[0]:t,null).pipe(V(t=>e(...t)))}return Rp(t,null)}(function(t,e){return e.map(e=>e(t))}(t,e).map(Zp)).pipe(V(tm))}}}function Xp(t){return null!=t}function Zp(t){const e=Uo(t)?q(t):t;if(!jo(e))throw new Error("Expected validator to return Promise or Observable.");return e}function tm(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function em(t){return t.validate?e=>t.validate(e):t}function nm(t){return t.validate?e=>t.validate(e):t}const rm={provide:Dp,useExisting:It(()=>im),multi:!0};let im=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(No(Vs),No(Ds))},t.\u0275dir=ye({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&Fo("change",(function(t){return e.onChange(t.target.value)}))("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[Ns([rm])]}),t})();const om={provide:Dp,useExisting:It(()=>am),multi:!0};let sm=(()=>{class t{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=lt({token:t,factory:t.\u0275fac}),t})(),am=(()=>{class t{constructor(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(zp),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}_throwNameError(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}return t.\u0275fac=function(e){return new(e||t)(No(Vs),No(Ds),No(sm),No(mo))},t.\u0275dir=ye({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&Fo("change",(function(){return e.onChange()}))("blur",(function(){return e.onTouched()}))},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[Ns([om])]}),t})();const um={provide:Dp,useExisting:It(()=>cm),multi:!0};let cm=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(No(Vs),No(Ds))},t.\u0275dir=ye({type:t,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e){1&t&&Fo("change",(function(t){return e.onChange(t.target.value)}))("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[Ns([um])]}),t})();const lm='\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',hm='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });';class fm{static controlParentException(){throw new Error(`formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      ${lm}`)}static ngModelGroupException(){throw new Error(`formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        ${hm}\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        \n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>`)}static missingFormException(){throw new Error(`formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       ${lm}`)}static groupParentException(){throw new Error(`formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      ${hm}`)}static arrayParentException(){throw new Error('formArrayName must be used with a parent formGroup directive.  You\'ll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        \n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; index as i">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });')}static disabledAttrWarning(){console.warn("\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n      you. We recommend using this approach to avoid 'changed after checked' errors.\n       \n      Example: \n      form = new FormGroup({\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n        last: new FormControl('Drew', Validators.required)\n      });\n    ")}static ngModelWarning(t){console.warn(`\n    It looks like you're using ngModel on the same form field as ${t}. \n    Support for using the ngModel input property and ngModelChange event with \n    reactive form directives has been deprecated in Angular v6 and will be removed \n    in Angular v7.\n    \n    For more information on this, see our API docs here:\n    https://angular.io/api/forms/${"formControl"===t?"FormControlDirective":"FormControlName"}#use-with-ngmodel\n    `)}}const dm={provide:Dp,useExisting:It(()=>pm),multi:!0};let pm=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Io}set compareWith(t){if("function"!=typeof t)throw new Error(`compareWith must be a function, but received ${JSON.stringify(t)}`);this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=function(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}return t.\u0275fac=function(e){return new(e||t)(No(Vs),No(Ds))},t.\u0275dir=ye({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&Fo("change",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[Ns([dm])]}),t})();const mm={provide:Dp,useExisting:It(()=>gm),multi:!0};let gm=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Io}set compareWith(t){if("function"!=typeof t)throw new Error(`compareWith must be a function, but received ${JSON.stringify(t)}`);this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(e.hasOwnProperty("selectedOptions")){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const r=t.item(e),i=this._getOptionValue(r.value);n.push(i)}}else{const t=e.options;for(let e=0;e<t.length;e++){const r=t.item(e);if(r.selected){const t=this._getOptionValue(r.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}return t.\u0275fac=function(e){return new(e||t)(No(Vs),No(Ds))},t.\u0275dir=ye({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&Fo("change",(function(t){return e.onChange(t.target)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[Ns([mm])]}),t})();function vm(t,e){return[...e.path,t]}function ym(t,e){t||Em(e,"Cannot find control with"),e.valueAccessor||Em(e,"No value accessor for form control with"),t.validator=Qp.compose([t.validator,e.validator]),t.asyncValidator=Qp.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&wm(t,e)})}(t,e),function(t,e){t.registerOnChange((t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&wm(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange(t=>{e.valueAccessor.setDisabledState(t)}),e._rawValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())}),e._rawAsyncValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())})}function wm(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function bm(t,e){null==t&&Em(e,"Cannot find control with"),t.validator=Qp.compose([t.validator,e.validator]),t.asyncValidator=Qp.composeAsync([t.asyncValidator,e.asyncValidator])}function _m(t){return Em(t,"There is no FormControl instance attached to form control element with")}function Em(t,e){let n;throw n=t.path.length>1?`path: '${t.path.join(" -> ")}'`:t.path[0]?`name: '${t.path}'`:"unspecified name attribute",new Error(`${e} ${n}`)}function Im(t){return null!=t?Qp.compose(t.map(em)):null}function Cm(t){return null!=t?Qp.composeAsync(t.map(nm)):null}const Tm=[Lp,cm,im,pm,gm,am];function Sm(t){const e=km(t)?t.validators:t;return Array.isArray(e)?Im(e):e||null}function Am(t,e){const n=km(e)?e.asyncValidators:t;return Array.isArray(n)?Cm(n):n||null}function km(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class Nm{constructor(t,e){this.validator=t,this.asyncValidator=e,this._onCollectionChange=()=>{},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}get parent(){return this._parent}get valid(){return"VALID"===this.status}get invalid(){return"INVALID"===this.status}get pending(){return"PENDING"==this.status}get disabled(){return"DISABLED"===this.status}get enabled(){return"DISABLED"!==this.status}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this.validator=Sm(t)}setAsyncValidators(t){this.asyncValidator=Am(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status="PENDING",!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status="VALID",this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status="PENDING";const e=Zp(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>this.setErrors(e,{emitEvent:t}))}}_cancelExistingSubscription(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof Om?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof Rm&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new Ia,this.statusChanges=new Ia}_calculateStatus(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){km(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}}class xm extends Nm{constructor(t=null,e,n){super(Sm(e),Am(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),this._initObservables()}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_clearChangeFns(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=()=>{}}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class Om extends Nm{constructor(t,e,n){super(Sm(e),Am(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof xm?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>t(this.controls[e],e))}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){let e=!1;return this._forEachChild((n,r)=>{e=e||this.contains(r)&&t(n)}),e}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class Rm extends Nm{constructor(t,e,n){super(Sm(e),Am(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof xm?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}let Dm=(()=>{class t extends Fp{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return vm(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return Im(this._validators)}get asyncValidator(){return Cm(this._asyncValidators)}_checkParentType(){}}return t.\u0275fac=function(e){return Pm(e||t)},t.\u0275dir=ye({type:t,features:[ds]}),t})();const Pm=Zn(Dm);let Lm=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=ye({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})();const Mm=new Ut("NgModelWithFormControlWarning"),Vm={provide:Fp,useExisting:It(()=>Um)};let Um=(()=>{class t extends Fp{constructor(t,e){super(),this._validators=t,this._asyncValidators=e,this.submitted=!1,this.directives=[],this.form=null,this.ngSubmit=new Ia}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const e=this.form.get(t.path);return ym(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}getControl(t){return this.form.get(t.path)}removeControl(t){!function(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}(this.directives,t)}addFormGroup(t){const e=this.form.get(t.path);bm(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormGroup(t){}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){const e=this.form.get(t.path);bm(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormArray(t){}getFormArray(t){return this.form.get(t.path)}updateModel(t,e){this.form.get(t.path).setValue(e)}onSubmit(t){return this.submitted=!0,e=this.directives,this.form._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)}),this.ngSubmit.emit(t),!1;var e}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const e=this.form.get(t.path);t.control!==e&&(function(t,e){e.valueAccessor.registerOnChange(()=>_m(e)),e.valueAccessor.registerOnTouched(()=>_m(e)),e._rawValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),e._rawAsyncValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),t&&t._clearChangeFns()}(t.control,t),e&&ym(e,t),t.control=e)}),this.form._updateTreeValidity({emitEvent:!1})}_updateRegistrations(){this.form._registerOnCollectionChange(()=>this._updateDomValue()),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{}),this._oldForm=this.form}_updateValidators(){const t=Im(this._validators);this.form.validator=Qp.compose([this.form.validator,t]);const e=Cm(this._asyncValidators);this.form.asyncValidator=Qp.composeAsync([this.form.asyncValidator,e])}_checkFormPresent(){this.form||fm.missingFormException()}}return t.\u0275fac=function(e){return new(e||t)(No(Kp,10),No(Jp,10))},t.\u0275dir=ye({type:t,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&Fo("submit",(function(t){return e.onSubmit(t)}))("reset",(function(){return e.onReset()}))},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ns([Vm]),ds,ws]}),t})();const jm={provide:Fp,useExisting:It(()=>Fm)};let Fm=(()=>{class t extends Dm{constructor(t,e,n){super(),this._parent=t,this._validators=e,this._asyncValidators=n}_checkParentType(){zm(this._parent)&&fm.groupParentException()}}return t.\u0275fac=function(e){return new(e||t)(No(Fp,13),No(Kp,10),No(Jp,10))},t.\u0275dir=ye({type:t,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[Ns([jm]),ds]}),t})();const qm={provide:Fp,useExisting:It(()=>Bm)};let Bm=(()=>{class t extends Fp{constructor(t,e,n){super(),this._parent=t,this._validators=e,this._asyncValidators=n}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return vm(null==this.name?this.name:this.name.toString(),this._parent)}get validator(){return Im(this._validators)}get asyncValidator(){return Cm(this._asyncValidators)}_checkParentType(){zm(this._parent)&&fm.arrayParentException()}}return t.\u0275fac=function(e){return new(e||t)(No(Fp,13),No(Kp,10),No(Jp,10))},t.\u0275dir=ye({type:t,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[Ns([qm]),ds]}),t})();function zm(t){return!(t instanceof Fm||t instanceof Um||t instanceof Bm)}const Hm={provide:zp,useExisting:It(()=>Gm)};let Gm=(()=>{class t extends zp{constructor(t,e,n,r,i){super(),this._ngModelWarningConfig=i,this._added=!1,this.update=new Ia,this._ngModelWarningSent=!1,this._parent=t,this._rawValidators=e||[],this._rawAsyncValidators=n||[],this.valueAccessor=function(t,e){if(!e)return null;Array.isArray(e)||Em(t,"Value accessor was not provided as an array for form control with");let n=void 0,r=void 0,i=void 0;return e.forEach(e=>{var o;e.constructor===Up?n=e:(o=e,Tm.some(t=>o.constructor===t)?(r&&Em(t,"More than one built-in value accessor matches form control with"),r=e):(i&&Em(t,"More than one custom value accessor matches form control with"),i=e))}),i||r||n||(Em(t,"No valid value accessor for form control with"),null)}(this,r)}set isDisabled(t){fm.disabledAttrWarning()}ngOnChanges(e){var n,r,i;this._added||this._setUpControl(),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Io(e,n.currentValue)}(e,this.viewModel)&&(n=t,r=this,i=this._ngModelWarningConfig,ur()&&"never"!==i&&((null!==i&&"once"!==i||n._ngModelWarningSentOnce)&&("always"!==i||r._ngModelWarningSent)||(fm.ngModelWarning("formControlName"),n._ngModelWarningSentOnce=!0,r._ngModelWarningSent=!0)),this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return vm(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return Im(this._rawValidators)}get asyncValidator(){return Cm(this._rawAsyncValidators)}_checkParentType(){!(this._parent instanceof Fm)&&this._parent instanceof Dm?fm.ngModelGroupException():this._parent instanceof Fm||this._parent instanceof Um||this._parent instanceof Bm||fm.controlParentException()}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return t.\u0275fac=function(e){return new(e||t)(No(Fp,13),No(Kp,10),No(Jp,10),No(Dp,10),No(Mm,8))},t.\u0275dir=ye({type:t,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[Ns([Hm]),ds,ws]}),t._ngModelWarningSentOnce=!1,t})(),Wm=(()=>{class t{}return t.\u0275mod=ge({type:t}),t.\u0275inj=ht({factory:function(e){return new(e||t)}}),t})(),$m=(()=>{class t{group(t,e=null){const n=this._reduceControls(t);let r=null,i=null,o=void 0;return null!=e&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(r=null!=e.validators?e.validators:null,i=null!=e.asyncValidators?e.asyncValidators:null,o=null!=e.updateOn?e.updateOn:void 0):(r=null!=e.validator?e.validator:null,i=null!=e.asyncValidator?e.asyncValidator:null)),new Om(n,{asyncValidators:i,updateOn:o,validators:r})}control(t,e,n){return new xm(t,e,n)}array(t,e,n){const r=t.map(t=>this._createControl(t));return new Rm(r,e,n)}_reduceControls(t){const e={};return Object.keys(t).forEach(n=>{e[n]=this._createControl(t[n])}),e}_createControl(t){return t instanceof xm||t instanceof Om||t instanceof Rm?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=lt({token:t,factory:t.\u0275fac}),t})(),Km=(()=>{class t{}return t.\u0275mod=ge({type:t}),t.\u0275inj=ht({factory:function(e){return new(e||t)},providers:[sm],imports:[Wm]}),t})(),Jm=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:Mm,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275mod=ge({type:t}),t.\u0275inj=ht({factory:function(e){return new(e||t)},providers:[$m,sm],imports:[Wm]}),t})();function Ym(t,e,n,i){return r(n)&&(i=n,n=void 0),i?Ym(t,e,n).pipe(V(t=>u(t)?i(...t):i(t))):new b(r=>{!function t(e,n,r,i,o){let s;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(e)){const t=e;e.addEventListener(n,r,o),s=()=>t.removeEventListener(n,r,o)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(e)){const t=e;e.on(n,r),s=()=>t.off(n,r)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(e)){const t=e;e.addListener(n,r),s=()=>t.removeListener(n,r)}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(let s=0,a=e.length;s<a;s++)t(e[s],n,r,i,o)}i.add(s)}(t,e,(function(t){r.next(arguments.length>1?Array.prototype.slice.call(arguments):t)}),r,n)})}function Qm(t){return e=>e.lift(new Xm(t))}class Xm{constructor(t){this.notifier=t}call(t,e){const n=new Zm(t),r=L(n,this.notifier);return r&&!n.seenValue?(n.add(r),e.subscribe(n)):n}}class Zm extends M{constructor(t){super(t),this.seenValue=!1}notifyNext(t,e,n,r,i){this.seenValue=!0,this.complete()}notifyComplete(){}}function tg(...t){return e=>{let n;return"function"==typeof t[t.length-1]&&(n=t.pop()),e.lift(new eg(t,n))}}class eg{constructor(t,e){this.observables=t,this.project=e}call(t,e){return e.subscribe(new ng(t,this.observables,this.project))}}class ng extends M{constructor(t,e,n){super(t),this.observables=e,this.project=n,this.toRespond=[];const r=e.length;this.values=new Array(r);for(let i=0;i<r;i++)this.toRespond.push(i);for(let i=0;i<r;i++){let t=e[i];this.add(L(this,t,t,i))}}notifyNext(t,e,n,r,i){this.values[n]=e;const o=this.toRespond;if(o.length>0){const t=o.indexOf(n);-1!==t&&o.splice(t,1)}}notifyComplete(){}_next(t){if(0===this.toRespond.length){const e=[t,...this.values];this.project?this._tryProject(e):this.destination.next(e)}}_tryProject(t){let e;try{e=this.project.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}$localize`:@@ngb.alert.closef4e529ae5ffd73001d1ff4bbdeeb0a72e342e5c87819314041543176992:Close`;const rg=["*"];$localize`:@@ngb.carousel.previous680d5c75b7fd8d37961083608b9fcdc4167b4c434452427314943113135:Previous`,$localize`:@@ngb.carousel.nextf732c304c7433e5a83ffcd862c3dce709a0f49823885497195825665706:Next`,$localize`:@@ngb.datepicker.previous-monthc3b08b07b5ab98e7cdcf18df39355690ab7d38848586908745456864217:Previous month`,$localize`:@@ngb.datepicker.previous-monthc3b08b07b5ab98e7cdcf18df39355690ab7d38848586908745456864217:Previous month`,$localize`:@@ngb.datepicker.next-month4bd046985cfe13040d5ef0cd881edce0968a111a3628374603023447227:Next month`,$localize`:@@ngb.datepicker.next-month4bd046985cfe13040d5ef0cd881edce0968a111a3628374603023447227:Next month`,$localize`:@@ngb.datepicker.select-month1dbc84807f35518112f62e5775d1daebd3d8462b2253869508135064750:Select month`,$localize`:@@ngb.datepicker.select-month1dbc84807f35518112f62e5775d1daebd3d8462b2253869508135064750:Select month`,$localize`:@@ngb.datepicker.select-year8ceb09d002bf0c5d1cac171dfbffe1805d2b39628852264961585484321:Select year`,$localize`:@@ngb.datepicker.select-year8ceb09d002bf0c5d1cac171dfbffe1805d2b39628852264961585484321:Select year`;const ig=["dialog"];function og(t){return null!=t}$localize`:@@ngb.pagination.first656506dfd46380956a655f919f1498d018f75ca06867721956102594380:`,$localize`:@@ngb.pagination.previous6e52b6ee77a4848d899dd21b591c6fd499e3aef36479320895410098858:`,$localize`:@@ngb.pagination.nextba9cbb4ff311464308a3627e4f1c3345d9fe6d7d5458177150283468089:`,$localize`:@@ngb.pagination.last49f27a460bc97e7e00be5b37098bfa79884fc7d95277020320267646988:`,$localize`:@@ngb.pagination.first-ariaf2f852318759c6396b5d3d17031d53817d7b38cc2241508602425256033:First`,$localize`:@@ngb.pagination.previous-aria680d5c75b7fd8d37961083608b9fcdc4167b4c434452427314943113135:Previous`,$localize`:@@ngb.pagination.next-ariaf732c304c7433e5a83ffcd862c3dce709a0f49823885497195825665706:Next`,$localize`:@@ngb.pagination.last-aria5c729788ba138508aca1bec050b610f7bf81db3e4882268002141858767:Last`,$localize`:@@ngb.progressbar.value04d611d19c117c60c9e14d0a04399a027184bc775214781723415385277:${"\ufffd0\ufffd"}:INTERPOLATION:%`,$localize`:@@ngb.timepicker.HHce676ab1d6d98f85c836381cf100a4a91ef95a1f4043638465245303811:HH`,$localize`:@@ngb.timepicker.hours3bbce5fef7e1151da052a4e529453edb340e39128070396816726827304:Hours`,$localize`:@@ngb.timepicker.MM72c8edf6a50068a05bde70991e36b1e881f4ca541647282246509919852:MM`,$localize`:@@ngb.timepicker.minutes41e62daa962947c0d23ded0981975d1bddf0bf385531237363767747080:Minutes`,$localize`:@@ngb.timepicker.increment-hourscb74bc1d625a6c1742f0d7d47306cf495780c2185939278348542933629:Increment hours`,$localize`:@@ngb.timepicker.decrement-hours147c7a19429da7d999e247d22e33fee370b1691b3651829882940481818:Decrement hours`,$localize`:@@ngb.timepicker.increment-minutesf5a4a3bc05e053f6732475d0e74875ec01c3a348180147720391025024:Increment minutes`,$localize`:@@ngb.timepicker.decrement-minutesc1a6899e529c096da5b660385d4e77fe1f7ad2717447789825403243588:Decrement minutes`,$localize`:@@ngb.timepicker.SSebe38d36a40a2383c5fefa9b4608ffbda08bd4a33628127143071124194:SS`,$localize`:@@ngb.timepicker.seconds4f2ed9e71a7c981db3e50ae2fedb28aff2ec4e6c8874012390997067175:Seconds`,$localize`:@@ngb.timepicker.increment-seconds912322ecee7d659d04dcf494a70e22e49d334b265364772110539092174:Increment seconds`,$localize`:@@ngb.timepicker.decrement-seconds5db47ac104294243a70eb9124fbea9d0004ddf69753633511487974857:Decrement seconds`,$localize`:@@ngb.timepicker.PM8d6e691e10306c1b34c6b26805151aaea320ef7f3564199131264287502:${"\ufffd0\ufffd"}:INTERPOLATION:`,$localize`:@@ngb.timepicker.AM69a1f176a93998876952adac57c3bc3863b6105e4592818992509942761:${"\ufffd0\ufffd"}:INTERPOLATION:`,$localize`:@@ngb.toast.close-ariaf4e529ae5ffd73001d1ff4bbdeeb0a72e342e5c87819314041543176992:Close`,"undefined"==typeof Element||Element.prototype.closest||(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(t){let e=this;if(!document.documentElement.contains(e))return null;do{if(e.matches(t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null});let sg=(()=>{let t=class{};return t.\u0275mod=ge({type:t}),t.\u0275inj=ht({factory:function(e){return new(e||t)},imports:[[vc]]}),t})(),ag=(()=>{let t=class{};return t.\u0275mod=ge({type:t}),t.\u0275inj=ht({factory:function(e){return new(e||t)},imports:[[vc]]}),t})(),ug=(()=>{let t=class{};return t.\u0275mod=ge({type:t}),t.\u0275inj=ht({factory:function(e){return new(e||t)}}),t})(),cg=(()=>{let t=class{};return t.\u0275mod=ge({type:t}),t.\u0275inj=ht({factory:function(e){return new(e||t)},imports:[[vc]]}),t})(),lg=(()=>{let t=class{constructor(){this.collapsed=!1}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=ye({type:t,selectors:[["","ngbCollapse",""]],hostVars:4,hostBindings:function(t,e){2&t&&Qo("collapse",!0)("show",!e.collapsed)},inputs:{collapsed:["ngbCollapse","collapsed"]},exportAs:["ngbCollapse"]}),t})(),hg=(()=>{let t=class{};return t.\u0275mod=ge({type:t}),t.\u0275inj=ht({factory:function(e){return new(e||t)}}),t})();var fg=function(t){return t[t.Tab=9]="Tab",t[t.Enter=13]="Enter",t[t.Escape=27]="Escape",t[t.Space=32]="Space",t[t.PageUp=33]="PageUp",t[t.PageDown=34]="PageDown",t[t.End=35]="End",t[t.Home=36]="Home",t[t.ArrowLeft=37]="ArrowLeft",t[t.ArrowUp=38]="ArrowUp",t[t.ArrowRight=39]="ArrowRight",t[t.ArrowDown=40]="ArrowDown",t}({});const dg=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function pg(t){const e=Array.from(t.querySelectorAll(dg)).filter(t=>-1!==t.tabIndex);return[e[0],e[e.length-1]]}let mg=(()=>{let t=class{};return t.\u0275mod=ge({type:t}),t.\u0275inj=ht({factory:function(e){return new(e||t)},imports:[[vc,Km]]}),t})(),gg=(()=>{let t=class{};return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=ye({type:t,selectors:[["",8,"navbar"]]}),t})(),vg=(()=>{let t=class{};return t.\u0275mod=ge({type:t}),t.\u0275inj=ht({factory:function(e){return new(e||t)}}),t})(),yg=(()=>{let t=class{constructor(){this.backdrop=!0,this.keyboard=!0}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=lt({factory:function(){return new t},token:t,providedIn:"root"}),t})();class wg{constructor(t,e,n){this.nodes=t,this.viewRef=e,this.componentRef=n}}const bg=()=>{};let _g=(()=>{let t=class{constructor(t){this._document=t}compensate(){const t=this._getWidth();return this._isPresent(t)?this._adjustBody(t):bg}_adjustBody(t){const e=this._document.body,n=e.style.paddingRight,r=parseFloat(window.getComputedStyle(e)["padding-right"]);return e.style["padding-right"]=`${r+t}px`,()=>e.style["padding-right"]=n}_isPresent(t){const e=this._document.body.getBoundingClientRect();return window.innerWidth-(e.left+e.right)>=t-.1*t}_getWidth(){const t=this._document.createElement("div");t.className="modal-scrollbar-measure";const e=this._document.body;e.appendChild(t);const n=t.getBoundingClientRect().width-t.clientWidth;return e.removeChild(t),n}};return t.\u0275fac=function(e){return new(e||t)(Kt(Bu))},t.\u0275prov=lt({factory:function(){return new t(Kt(Bu))},token:t,providedIn:"root"}),t})(),Eg=(()=>{let t=class{};return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=fe({type:t,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1050"],hostVars:2,hostBindings:function(t,e){2&t&&Xo("modal-backdrop fade show"+(e.backdropClass?" "+e.backdropClass:""))},inputs:{backdropClass:"backdropClass"},decls:0,vars:0,template:function(t,e){},encapsulation:2}),t})();class Ig{close(t){}dismiss(t){}}class Cg{constructor(t,e,n,r){this._windowCmptRef=t,this._contentRef=e,this._backdropCmptRef=n,this._beforeDismiss=r,t.instance.dismissEvent.subscribe(t=>{this.dismiss(t)}),this.result=new Promise((t,e)=>{this._resolve=t,this._reject=e}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}close(t){this._windowCmptRef&&(this._resolve(t),this._removeModalElements())}_dismiss(t){this._reject(t),this._removeModalElements()}dismiss(t){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();e&&e.then?e.then(e=>{!1!==e&&this._dismiss(t)},()=>{}):!1!==e&&this._dismiss(t)}else this._dismiss(t)}_removeModalElements(){const t=this._windowCmptRef.location.nativeElement;if(t.parentNode.removeChild(t),this._windowCmptRef.destroy(),this._backdropCmptRef){const t=this._backdropCmptRef.location.nativeElement;t.parentNode.removeChild(t),this._backdropCmptRef.destroy()}this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._backdropCmptRef=null,this._contentRef=null}}var Tg=function(t){return t[t.BACKDROP_CLICK=0]="BACKDROP_CLICK",t[t.ESC=1]="ESC",t}({});let Sg=(()=>{let t=class{constructor(t,e,n){this._document=t,this._elRef=e,this._zone=n,this._closed$=new T,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new Ia}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement}ngAfterViewInit(){const{nativeElement:t}=this._elRef;if(this._zone.runOutsideAngular(()=>{Ym(t,"keydown").pipe(Qm(this._closed$),ol(t=>t.which===fg.Escape&&this.keyboard)).subscribe(t=>requestAnimationFrame(()=>{t.defaultPrevented||this._zone.run(()=>this.dismiss(Tg.ESC))}));let e=!1;Ym(this._dialogEl.nativeElement,"mousedown").pipe(Qm(this._closed$),Vl(()=>e=!1),Nl(()=>Ym(t,"mouseup").pipe(Qm(this._closed$),Il(1))),ol(({target:e})=>t===e)).subscribe(()=>{e=!0}),Ym(t,"click").pipe(Qm(this._closed$)).subscribe(({target:n})=>{!0!==this.backdrop||t!==n||e||this._zone.run(()=>this.dismiss(Tg.BACKDROP_CLICK)),e=!1})}),!t.contains(document.activeElement)){const e=t.querySelector("[ngbAutofocus]"),n=pg(t)[0];(e||n||t).focus()}}ngOnDestroy(){const t=this._document.body,e=this._elWithFocus;let n;n=e&&e.focus&&t.contains(e)?e:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>n.focus()),this._elWithFocus=null}),this._closed$.next()}};return t.\u0275fac=function(e){return new(e||t)(No(Bu),No(Ds),No(cu))},t.\u0275cmp=fe({type:t,selectors:[["ngb-modal-window"]],viewQuery:function(t,e){var n,r,i,o;1&t&&(r=ig,i=!0,function(t,e,n,r,i,o){t.firstCreatePass&&(Ua(t,new ka(n,r,!0,i),-1),t.staticViewQueries=!0),Va(t,e)}(Ge(),He(),r,i,o)),2&t&&Pa(n=Ma())&&(e._dialogEl=n.first)},hostAttrs:["role","dialog","tabindex","-1"],hostVars:4,hostBindings:function(t,e){2&t&&(Ao("aria-modal",!0)("aria-labelledby",e.ariaLabelledBy),Xo("modal fade show d-block"+(e.windowClass?" "+e.windowClass:"")))},inputs:{backdrop:"backdrop",keyboard:"keyboard",ariaLabelledBy:"ariaLabelledBy",centered:"centered",scrollable:"scrollable",size:"size",windowClass:"windowClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:rg,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,e){1&t&&(function(t){const e=He()[16][6];if(!e.projection){const t=e.projection=re(1,null),n=t.slice();let r=e.child;for(;null!==r;){const e=0;null!==e&&(n[e]?n[e].projectionNext=r:t[e]=r,n[e]=r),r=r.next}}}(),Po(0,"div",0,1),Po(2,"div",2),function(t,e=0,n){const r=He(),i=Ge(),o=Ur(i,r[6],t,1,null,n||null);null===o.projection&&(o.projection=e),Ye(),function(t,e,n){qi(e[11],0,e,n,Oi(t,n,e),Mi(n.parent||e[6],e))}(i,r,o)}(3),Lo(),Lo()),2&t&&Xo("modal-dialog"+(e.size?" modal-"+e.size:"")+(e.centered?" modal-dialog-centered":"")+(e.scrollable?" modal-dialog-scrollable":""))},styles:["ngb-modal-window .component-host-scrollable{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;overflow:hidden}"],encapsulation:2}),t})(),Ag=(()=>{let t=class{constructor(t,e,n,r,i,o){this._applicationRef=t,this._injector=e,this._document=n,this._scrollBar=r,this._rendererFactory=i,this._ngZone=o,this._activeWindowCmptHasChanged=new T,this._ariaHiddenValues=new Map,this._backdropAttributes=["backdropClass"],this._modalRefs=[],this._windowAttributes=["ariaLabelledBy","backdrop","centered","keyboard","scrollable","size","windowClass"],this._windowCmpts=[],this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const t=this._windowCmpts[this._windowCmpts.length-1];((t,e,n,r=!1)=>{this._ngZone.runOutsideAngular(()=>{const t=Ym(e,"focusin").pipe(Qm(n),V(t=>t.target));Ym(e,"keydown").pipe(Qm(n),ol(t=>t.which===fg.Tab),tg(t)).subscribe(([t,n])=>{const[r,i]=pg(e);n!==r&&n!==e||!t.shiftKey||(i.focus(),t.preventDefault()),n!==i||t.shiftKey||(r.focus(),t.preventDefault())}),r&&Ym(e,"click").pipe(Qm(n),tg(t),V(t=>t[1])).subscribe(t=>t.focus())})})(0,t.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(t.location.nativeElement)}})}open(t,e,n,r){const i=r.container instanceof HTMLElement?r.container:og(r.container)?this._document.querySelector(r.container):this._document.body,o=this._rendererFactory.createRenderer(null,null),s=this._scrollBar.compensate(),a=()=>{this._modalRefs.length||(o.removeClass(this._document.body,"modal-open"),this._revertAriaHidden())};if(!i)throw new Error(`The specified modal container "${r.container||"body"}" was not found in the DOM.`);const u=new Ig,c=this._getContentRef(t,r.injector||e,n,u,r);let l=!1!==r.backdrop?this._attachBackdrop(t,i):void 0,h=this._attachWindowComponent(t,i,c),f=new Cg(h,c,l,r.beforeDismiss);return this._registerModalRef(f),this._registerWindowCmpt(h),f.result.then(s,s),f.result.then(a,a),u.close=t=>{f.close(t)},u.dismiss=t=>{f.dismiss(t)},this._applyWindowOptions(h.instance,r),1===this._modalRefs.length&&o.addClass(this._document.body,"modal-open"),l&&l.instance&&this._applyBackdropOptions(l.instance,r),f}dismissAll(t){this._modalRefs.forEach(e=>e.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t,e){let n=t.resolveComponentFactory(Eg).create(this._injector);return this._applicationRef.attachView(n.hostView),e.appendChild(n.location.nativeElement),n}_attachWindowComponent(t,e,n){let r=t.resolveComponentFactory(Sg).create(this._injector,n.nodes);return this._applicationRef.attachView(r.hostView),e.appendChild(r.location.nativeElement),r}_applyWindowOptions(t,e){this._windowAttributes.forEach(n=>{og(e[n])&&(t[n]=e[n])})}_applyBackdropOptions(t,e){this._backdropAttributes.forEach(n=>{og(e[n])&&(t[n]=e[n])})}_getContentRef(t,e,n,r,i){return n?n instanceof ra?this._createFromTemplateRef(n,r):"string"==typeof n?this._createFromString(n):this._createFromComponent(t,e,n,r,i):new wg([])}_createFromTemplateRef(t,e){const n=t.createEmbeddedView({$implicit:e,close(t){e.close(t)},dismiss(t){e.dismiss(t)}});return this._applicationRef.attachView(n),new wg([n.rootNodes],n)}_createFromString(t){const e=this._document.createTextNode(`${t}`);return new wg([[e]])}_createFromComponent(t,e,n,r,i){const o=t.resolveComponentFactory(n),s=mo.create({providers:[{provide:Ig,useValue:r}],parent:e}),a=o.create(s),u=a.location.nativeElement;return i.scrollable&&u.classList.add("component-host-scrollable"),this._applicationRef.attachView(a.hostView),new wg([[u]],a.hostView,a)}_setAriaHidden(t){const e=t.parentElement;e&&t!==this._document.body&&(Array.from(e.children).forEach(e=>{e!==t&&"SCRIPT"!==e.nodeName&&(this._ariaHiddenValues.set(e,e.getAttribute("aria-hidden")),e.setAttribute("aria-hidden","true"))}),this._setAriaHidden(e))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,e)=>{t?e.setAttribute("aria-hidden",t):e.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const e=()=>{const e=this._modalRefs.indexOf(t);e>-1&&this._modalRefs.splice(e,1)};this._modalRefs.push(t),t.result.then(e,e)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const e=this._windowCmpts.indexOf(t);e>-1&&(this._windowCmpts.splice(e,1),this._activeWindowCmptHasChanged.next())})}};return t.\u0275fac=function(e){return new(e||t)(Kt(Nu),Kt(mo),Kt(Bu),Kt(_g),Kt(Ls),Kt(cu))},t.\u0275prov=lt({factory:function(){return new t(Kt(Nu),Kt(jt),Kt(Bu),Kt(_g),Kt(Ls),Kt(cu))},token:t,providedIn:"root"}),t})(),kg=(()=>{let t=class{constructor(t,e,n,r){this._moduleCFR=t,this._injector=e,this._modalStack=n,this._config=r}open(t,e={}){const n=Object.assign({},this._config,e);return this._modalStack.open(this._moduleCFR,this._injector,t,n)}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}};return t.\u0275fac=function(e){return new(e||t)(Kt(Rs),Kt(mo),Kt(Ag),Kt(yg))},t.\u0275prov=lt({factory:function(){return new t(Kt(Rs),Kt(jt),Kt(Ag),Kt(yg))},token:t,providedIn:"root"}),t})(),Ng=(()=>{let t=class{};return t.\u0275mod=ge({type:t}),t.\u0275inj=ht({factory:function(e){return new(e||t)},providers:[kg]}),t})(),xg=(()=>{let t=class{};return t.\u0275mod=ge({type:t}),t.\u0275inj=ht({factory:function(e){return new(e||t)},imports:[[vc]]}),t})(),Og=(()=>{let t=class{};return t.\u0275mod=ge({type:t}),t.\u0275inj=ht({factory:function(e){return new(e||t)},imports:[[vc]]}),t})(),Rg=(()=>{let t=class{};return t.\u0275mod=ge({type:t}),t.\u0275inj=ht({factory:function(e){return new(e||t)},imports:[[vc]]}),t})(),Dg=(()=>{let t=class{};return t.\u0275mod=ge({type:t}),t.\u0275inj=ht({factory:function(e){return new(e||t)},imports:[[vc]]}),t})(),Pg=(()=>{let t=class{};return t.\u0275mod=ge({type:t}),t.\u0275inj=ht({factory:function(e){return new(e||t)},imports:[[vc]]}),t})(),Lg=(()=>{let t=class{};return t.\u0275mod=ge({type:t}),t.\u0275inj=ht({factory:function(e){return new(e||t)},imports:[[vc]]}),t})(),Mg=(()=>{let t=class{};return t.\u0275mod=ge({type:t}),t.\u0275inj=ht({factory:function(e){return new(e||t)},imports:[[vc]]}),t})(),Vg=(()=>{let t=class{};return t.\u0275mod=ge({type:t}),t.\u0275inj=ht({factory:function(e){return new(e||t)},imports:[[vc]]}),t})(),Ug=(()=>{let t=class{};return t.\u0275mod=ge({type:t}),t.\u0275inj=ht({factory:function(e){return new(e||t)}}),t})(),jg=(()=>{let t=class{};return t.\u0275mod=ge({type:t}),t.\u0275inj=ht({factory:function(e){return new(e||t)},imports:[[vc]]}),t})();const Fg=[sg,ag,ug,cg,hg,mg,vg,Ng,xg,Og,Rg,Dg,Pg,Mg,Vg,Ug,jg,Lg];let qg=(()=>{let t=class{};return t.\u0275mod=ge({type:t}),t.\u0275inj=ht({factory:function(e){return new(e||t)},imports:[Fg,sg,ag,ug,cg,hg,mg,vg,Ng,xg,Og,Rg,Dg,Pg,Mg,Vg,Ug,jg,Lg]}),t})();function Bg(t,e){if(1&t){const t=Vo();Po(0,"div",4),Po(1,"button",5),Fo("click",(function(){We(t);const e=zo();return e.isCollapsed=!e.isCollapsed})),Mo(2,"span",6),Lo(),Po(3,"div",7),Po(4,"ul",8),Po(5,"li",9),Po(6,"button",10),us(7,"About"),Lo(),Lo(),Lo(),Lo(),Lo()}if(2&t){const t=zo();Ar(3),Ro("ngbCollapse",t.isCollapsed)}}function zg(t,e){if(1&t){const t=Vo();Po(0,"button",11),Fo("click",(function(){We(t);const e=zo();return e.isCollapsed=!e.isCollapsed})),Mo(1,"span",6),Lo(),Po(2,"div",12),Po(3,"ul",8),Po(4,"li",13),Po(5,"button",14),us(6,"Dashboard"),Lo(),Lo(),Po(7,"li",13),Po(8,"button",15),mn(),Po(9,"svg",16),Mo(10,"path",17),Mo(11,"path",18),Mo(12,"path",19),Lo(),us(13,"\xa0 Sell \xa0 "),Lo(),Lo(),gn(),Po(14,"li",13),Po(15,"button",20),mn(),Po(16,"svg",21),Mo(17,"path",22),Lo(),us(18,"\xa0 My Account"),Lo(),Lo(),gn(),Po(19,"li",9),Po(20,"button",23),us(21,"About"),Lo(),Lo(),Lo(),Lo()}if(2&t){const t=zo();Ar(2),Ro("ngbCollapse",t.isCollapsed)}}let Hg=(()=>{class t{constructor(t){this.authService=t,this.isCollapsed=!0}ngOnInit(){this.authService.isLoggedIn.subscribe(t=>{console.log(t),this.isLoggedIn=t}),console.log(this.isLoggedIn)}}return t.\u0275fac=function(e){return new(e||t)(No(Op))},t.\u0275cmp=fe({type:t,selectors:[["app-navbar"]],decls:6,vars:2,consts:[[1,"navbar","navbar-expand-md","navbar-dark","bg","fixed-top"],["href","#",1,"navbar-brand"],["class","collapse navbar-collapse",4,"ngIf","ngIfElse"],["loggedIn",""],[1,"collapse","navbar-collapse"],["type","button","data-target","#navbarsDefaultLoggedIn","aria-controls","navbarsDefault","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler","hidden-sm-up",3,"click"],[1,"navbar-toggler-icon"],["id","navbarsDefaultLoggedIn",1,"collapse","navbar-collapse",3,"ngbCollapse"],["routerLinkActive","active",1,"navbar-nav","ml-auto"],[1,"nav-item"],["type","button","routerLink","/about",1,"btn","btn-outline-warning","btn-block"],["type","button","data-target","#navbarsLoggedIn","aria-controls","navbarsDefault","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler","hidden-sm-up",3,"click"],["id","navbarsLoggedIn",1,"collapse","navbar-collapse",3,"ngbCollapse"],[1,"nav-item","mr-3"],["type","button","routerLink","/dashboard",1,"btn","btn-outline-warning","btn-block"],["type","button","routerLink","/sell-product",1,"btn","btn-outline-danger","btn-block"],["width","1em","height","1em","viewBox","0 0 16 16","fill","currentColor","xmlns","http://www.w3.org/2000/svg",1,"bi","bi-camera"],["d","M9 5C7.343 5 5 6.343 5 8a4 4 0 014-4v1z"],["fill-rule","evenodd","d","M14.333 3h-2.015A5.97 5.97 0 009 2a5.972 5.972 0 00-3.318 1H1.667C.747 3 0 3.746 0 4.667v6.666C0 12.253.746 13 1.667 13h4.015c.95.632 2.091 1 3.318 1a5.973 5.973 0 003.318-1h2.015c.92 0 1.667-.746 1.667-1.667V4.667C16 3.747 15.254 3 14.333 3zM1.5 5a.5.5 0 100-1 .5.5 0 000 1zM9 13A5 5 0 109 3a5 5 0 000 10z","clip-rule","evenodd"],["d","M2 3a1 1 0 011-1h1a1 1 0 010 2H3a1 1 0 01-1-1z"],["type","button","routerLink","/myaccount",1,"btn","btn-outline-warning","btn-block"],["width","1em","height","1em","viewBox","0 0 16 16","fill","currentColor","xmlns","http://www.w3.org/2000/svg",1,"bi","bi-person"],["fill-rule","evenodd","d","M13 14s1 0 1-1-1-4-6-4-6 3-6 4 1 1 1 1h10zm-9.995-.944v-.002.002zM3.022 13h9.956a.274.274 0 00.014-.002l.008-.002c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664a1.05 1.05 0 00.022.004zm9.974.056v-.002.002zM8 7a2 2 0 100-4 2 2 0 000 4zm3-2a3 3 0 11-6 0 3 3 0 016 0z","clip-rule","evenodd"],["type","button","routerLink","/about",1,"btn","btn-outline-danger","btn-block"]],template:function(t,e){if(1&t&&(Po(0,"nav",0),Po(1,"a",1),us(2,"Pace Marketplace"),Lo(),ko(3,Bg,8,1,"div",2),ko(4,zg,22,1,"ng-template",null,3,Fa),Lo()),2&t){const t=Be.lFrame.contextLView[24];Ar(3),Ro("ngIf",!e.isLoggedIn)("ngIfElse",t)}},directives:[gg,pc,lg,ud,od],styles:[".bg[_ngcontent-%COMP%]{background-color:#041e42}.nav-link[_ngcontent-%COMP%]{color:#fff}.btn-radius[_ngcontent-%COMP%]{border-radius:40px}.btn-color[_ngcontent-%COMP%]{background-color:#fc6c85}.btn[_ngcontent-%COMP%]{width:100%}"]}),t})();function Gg(t,e){if(1&t&&(Po(0,"div",3),Po(1,"p"),us(2,"We have sent a confirmation email to "),Po(3,"strong"),us(4),Lo(),us(5,"."),Lo(),Po(6,"p"),us(7,"Please check your email and click on the link to verfiy your email address."),Lo(),Lo()),2&t){const t=e.ngIf;Ar(4),cs(t.email)}}let Wg=(()=>{class t{constructor(t){this.authService=t}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(No(Op))},t.\u0275cmp=fe({type:t,selectors:[["app-verify-email"]],decls:19,vars:1,consts:[[1,"container-fluid",2,"margin-top","80px"],[1,"form-container","col-8"],["class","form-group",4,"ngIf"],[1,"form-group"],["type","button",1,"btn","btn-danger",3,"click"],[1,"redirectToLogin"],["routerLink","/home",1,"redirect","btn","btn-success"],[1,"foot"]],template:function(t,e){1&t&&(Mo(0,"app-navbar"),Po(1,"div",0),Po(2,"div",1),Po(3,"h3"),us(4,"Thank You for Registering"),Lo(),Mo(5,"br"),ko(6,Gg,8,1,"div",2),Mo(7,"br"),Po(8,"div",3),Po(9,"button",4),Fo("click",(function(){return e.authService.SendVerificationMail()})),us(10," Resend Verification Email "),Lo(),Lo(),Mo(11,"br"),Po(12,"div",5),Po(13,"span"),us(14,"Verification completed? Go back to \xa0 "),Po(15,"button",6),us(16," Sign in"),Lo(),Lo(),Lo(),Lo(),Lo(),Po(17,"footer",7),us(18,"\xa9 JAMMR 2020"),Lo()),2&t&&(Ar(6),Ro("ngIf",e.authService.userData))},directives:[Hg,pc,od],styles:[".container-fluid[_ngcontent-%COMP%]{height:84vh}.foot[_ngcontent-%COMP%]{font-family:Calibri,sans-serif;font-size:20px;background-color:rgba(0,0,0,.7);color:#fff;margin:0;padding:12px 0;text-align:center}"]}),t})();class $g{}class Kg{}class Jg{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),r=n.toLowerCase(),i=t.slice(e+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(i):this.headers.set(r,[i])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const r=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Jg?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Jg;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Jg?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":const i=t.value;if(i){let t=this.headers.get(e);if(!t)return;t=t.filter(t=>-1===i.indexOf(t)),0===t.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class Yg{encodeKey(t){return Qg(t)}encodeValue(t){return Qg(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function Qg(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class Xg{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new Yg,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.split("&").forEach(t=>{const r=t.indexOf("="),[i,o]=-1==r?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,r)),e.decodeValue(t.slice(r+1))],s=n.get(i)||[];s.push(o),n.set(i,s)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Xg({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat([t]),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(t.value),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(t.value);-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}function Zg(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function tv(t){return"undefined"!=typeof Blob&&t instanceof Blob}function ev(t){return"undefined"!=typeof FormData&&t instanceof FormData}class nv{constructor(t,e,n,r){let i;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.params&&(this.params=i.params)),this.headers||(this.headers=new Jg),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new Xg,this.urlWithParams=e}serializeBody(){return null===this.body?null:Zg(this.body)||tv(this.body)||ev(this.body)||"string"==typeof this.body?this.body:this.body instanceof Xg?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body?null:ev(this.body)?null:tv(this.body)?this.body.type||null:Zg(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Xg?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(t={}){const e=t.method||this.method,n=t.url||this.url,r=t.responseType||this.responseType,i=void 0!==t.body?t.body:this.body,o=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,s=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let a=t.headers||this.headers,u=t.params||this.params;return void 0!==t.setHeaders&&(a=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),a)),t.setParams&&(u=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),u)),new nv(e,n,i,{params:u,headers:a,reportProgress:s,responseType:r,withCredentials:o})}}const rv=function(){var t={Sent:0,UploadProgress:1,ResponseHeader:2,DownloadProgress:3,Response:4,User:5};return t[t.Sent]="Sent",t[t.UploadProgress]="UploadProgress",t[t.ResponseHeader]="ResponseHeader",t[t.DownloadProgress]="DownloadProgress",t[t.Response]="Response",t[t.User]="User",t}();class iv{constructor(t,e=200,n="OK"){this.headers=t.headers||new Jg,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class ov extends iv{constructor(t={}){super(t),this.type=rv.ResponseHeader}clone(t={}){return new ov({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class sv extends iv{constructor(t={}){super(t),this.type=rv.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new sv({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class av extends iv{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function uv(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let cv=(()=>{class t{constructor(t){this.handler=t}request(t,e,n={}){let r;if(t instanceof nv)r=t;else{let i=void 0;i=n.headers instanceof Jg?n.headers:new Jg(n.headers);let o=void 0;n.params&&(o=n.params instanceof Xg?n.params:new Xg({fromObject:n.params})),r=new nv(t,e,void 0!==n.body?n.body:null,{headers:i,params:o,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const i=Jc(r).pipe(Ml(t=>this.handler.handle(t)));if(t instanceof nv||"events"===n.observe)return i;const o=i.pipe(ol(t=>t instanceof sv));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return o.pipe(V(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return o.pipe(V(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return o.pipe(V(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return o.pipe(V(t=>t.body))}case"response":return o;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new Xg).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,uv(n,e))}post(t,e,n={}){return this.request("POST",t,uv(n,e))}put(t,e,n={}){return this.request("PUT",t,uv(n,e))}}return t.\u0275fac=function(e){return new(e||t)(Kt($g))},t.\u0275prov=lt({token:t,factory:t.\u0275fac}),t})();class lv{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const hv=new Ut("HTTP_INTERCEPTORS");let fv=(()=>{class t{intercept(t,e){return e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=lt({token:t,factory:t.\u0275fac}),t})();const dv=/^\)\]\}',?\n/;class pv{}let mv=(()=>{class t{constructor(){}build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=lt({token:t,factory:t.\u0275fac}),t})(),gv=(()=>{class t{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new b(e=>{const n=this.xhrFactory.build();if(n.open(t.method,t.urlWithParams),t.withCredentials&&(n.withCredentials=!0),t.headers.forEach((t,e)=>n.setRequestHeader(t,e.join(","))),t.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const e=t.detectContentTypeHeader();null!==e&&n.setRequestHeader("Content-Type",e)}if(t.responseType){const e=t.responseType.toLowerCase();n.responseType="json"!==e?e:"text"}const r=t.serializeBody();let i=null;const o=()=>{if(null!==i)return i;const e=1223===n.status?204:n.status,r=n.statusText||"OK",o=new Jg(n.getAllResponseHeaders()),s=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(n)||t.url;return i=new ov({headers:o,status:e,statusText:r,url:s}),i},s=()=>{let{headers:r,status:i,statusText:s,url:a}=o(),u=null;204!==i&&(u=void 0===n.response?n.responseText:n.response),0===i&&(i=u?200:0);let c=i>=200&&i<300;if("json"===t.responseType&&"string"==typeof u){const t=u;u=u.replace(dv,"");try{u=""!==u?JSON.parse(u):null}catch(l){u=t,c&&(c=!1,u={error:l,text:u})}}c?(e.next(new sv({body:u,headers:r,status:i,statusText:s,url:a||void 0})),e.complete()):e.error(new av({error:u,headers:r,status:i,statusText:s,url:a||void 0}))},a=t=>{const{url:r}=o(),i=new av({error:t,status:n.status||0,statusText:n.statusText||"Unknown Error",url:r||void 0});e.error(i)};let u=!1;const c=r=>{u||(e.next(o()),u=!0);let i={type:rv.DownloadProgress,loaded:r.loaded};r.lengthComputable&&(i.total=r.total),"text"===t.responseType&&n.responseText&&(i.partialText=n.responseText),e.next(i)},l=t=>{let n={type:rv.UploadProgress,loaded:t.loaded};t.lengthComputable&&(n.total=t.total),e.next(n)};return n.addEventListener("load",s),n.addEventListener("error",a),t.reportProgress&&(n.addEventListener("progress",c),null!==r&&n.upload&&n.upload.addEventListener("progress",l)),n.send(r),e.next({type:rv.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("load",s),t.reportProgress&&(n.removeEventListener("progress",c),null!==r&&n.upload&&n.upload.removeEventListener("progress",l)),n.abort()}})}}return t.\u0275fac=function(e){return new(e||t)(Kt(pv))},t.\u0275prov=lt({token:t,factory:t.\u0275fac}),t})();const vv=new Ut("XSRF_COOKIE_NAME"),yv=new Ut("XSRF_HEADER_NAME");class wv{}let bv=(()=>{class t{constructor(t,e,n){this.doc=t,this.platform=e,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=cc(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return t.\u0275fac=function(e){return new(e||t)(Kt(Bu),Kt($a),Kt(vv))},t.\u0275prov=lt({token:t,factory:t.\u0275fac}),t})(),_v=(()=>{class t{constructor(t,e){this.tokenService=t,this.headerName=e}intercept(t,e){const n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);const r=this.tokenService.getToken();return null===r||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,r)})),e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(Kt(wv),Kt(yv))},t.\u0275prov=lt({token:t,factory:t.\u0275fac}),t})(),Ev=(()=>{class t{constructor(t,e){this.backend=t,this.injector=e,this.chain=null}handle(t){if(null===this.chain){const t=this.injector.get(hv,[]);this.chain=t.reduceRight((t,e)=>new lv(t,e),this.backend)}return this.chain.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(Kt(Kg),Kt(mo))},t.\u0275prov=lt({token:t,factory:t.\u0275fac}),t})(),Iv=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:_v,useClass:fv}]}}static withOptions(e={}){return{ngModule:t,providers:[e.cookieName?{provide:vv,useValue:e.cookieName}:[],e.headerName?{provide:yv,useValue:e.headerName}:[]]}}}return t.\u0275mod=ge({type:t}),t.\u0275inj=ht({factory:function(e){return new(e||t)},providers:[_v,{provide:hv,useExisting:_v,multi:!0},{provide:wv,useClass:bv},{provide:vv,useValue:"XSRF-TOKEN"},{provide:yv,useValue:"X-XSRF-TOKEN"}]}),t})(),Cv=(()=>{class t{}return t.\u0275mod=ge({type:t}),t.\u0275inj=ht({factory:function(e){return new(e||t)},providers:[cv,{provide:$g,useClass:Ev},gv,{provide:Kg,useExisting:gv},mv,{provide:pv,useExisting:mv}],imports:[[Iv.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t})(),Tv=(()=>{class t{constructor(t){this.http=t}getRecentViews(){return this.http.get("assets/recentlyviewed.json")}getCategories(){return this.http.get("assets/categories.json")}}return t.\u0275fac=function(e){return new(e||t)(Kt(cv))},t.\u0275prov=lt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Sv(t,e){if(1&t&&(Po(0,"div",10),Po(1,"div",11),Po(2,"h5",12),us(3),Lo(),Po(4,"p",13),us(5),Lo(),Po(6,"button",14),us(7,"Go somewhere"),Lo(),Lo(),Lo()),2&t){const t=e.$implicit;Ar(3),cs(t.title),Ar(2),cs(t.description)}}function Av(t,e){if(1&t&&(Po(0,"div",10),Po(1,"div",11),Po(2,"h5",12),us(3),Lo(),Po(4,"p",13),us(5),Lo(),Po(6,"a",15),us(7,"Go somewhere"),Lo(),Lo(),Lo()),2&t){const t=e.$implicit;Ar(3),cs(t.title),Ar(2),cs(t.description)}}function kv(t,e){if(1&t&&(Po(0,"div",16),Po(1,"div",11),Po(2,"h5",12),us(3),Lo(),Lo(),Lo()),2&t){const t=e.$implicit;Ar(3),cs(t.category)}}let Nv=(()=>{class t{constructor(t,e){this.authService=t,this.dashboardService=e,t.userData.subscribe(t=>{console.log(t),this.userData=t})}ngOnInit(){this.getRecentViews(),this.getCategories()}getRecentViews(){this.dashboardService.getRecentViews().subscribe(t=>{console.log(t),this.recent=t})}getCategories(){this.dashboardService.getCategories().subscribe(t=>{this.categories=t})}}return t.\u0275fac=function(e){return new(e||t)(No(Op),No(Tv))},t.\u0275cmp=fe({type:t,selectors:[["app-dashboard"]],decls:22,vars:3,consts:[[1,"wrapper"],[1,"grid-row",2,"margin","30px","background-color","#ffffff"],[1,"row1","text-md-left",2,"padding","20px 10px 10px 30px"],[1,"row2"],["class","card","style","width: 16rem;",4,"ngFor","ngForOf"],[1,"grid-row2"],[1,"row1","text-md-center",2,"padding","20px 10px 10px 30px"],[1,"row-cat"],["class","card","style","width: 18rem;",4,"ngFor","ngForOf"],[1,"foot"],[1,"card",2,"width","16rem"],[1,"card-body"],[1,"card-title"],[1,"card-text"],["routerLink","/dashboard",1,"btn","btn-danger"],["href","#",1,"btn","btn-danger"],[1,"card",2,"width","18rem"]],template:function(t,e){1&t&&(Mo(0,"app-navbar"),Po(1,"div",0),Po(2,"div",1),Po(3,"div",2),Po(4,"h5"),us(5,"Recently Viewed"),Lo(),Lo(),Po(6,"div",3),ko(7,Sv,8,2,"div",4),Lo(),Lo(),Po(8,"div",1),Po(9,"div",2),Po(10,"h5"),us(11,"Most Viewed"),Lo(),Lo(),Po(12,"div",3),ko(13,Av,8,2,"div",4),Lo(),Lo(),Po(14,"div",5),Po(15,"div",6),Po(16,"h5"),us(17,"Shop By Category"),Lo(),Lo(),Po(18,"div",7),ko(19,kv,4,1,"div",8),Lo(),Lo(),Lo(),Po(20,"footer",9),us(21,"\xa9 JAMMR 2020"),Lo()),2&t&&(Ar(7),Ro("ngForOf",e.recent),Ar(6),Ro("ngForOf",e.recent),Ar(6),Ro("ngForOf",e.categories))},directives:[Hg,fc,od],styles:[".container[_ngcontent-%COMP%]{height:92vh}.foot[_ngcontent-%COMP%]{font-family:Calibri,sans-serif;font-size:20px;background-color:#041e42;color:#fff;margin:0;padding:12px 0;text-align:center}.wrapper[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;grid-template-rows:1fr 1fr 2fr;margin-top:50px;background-color:#f7f7f9}.grid-row[_ngcontent-%COMP%]{margin-top:10px;box-shadow:10px 10px 5px 0 #f7f7f9}.grid-row[_ngcontent-%COMP%], .grid-row2[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;grid-template-rows:.15fr 1fr}.grid-row2[_ngcontent-%COMP%]{margin:30px;background-color:#fff}.row2[_ngcontent-%COMP%]{grid-template-columns:repeat(5,1fr);grid-gap:20px}.row2[_ngcontent-%COMP%], .row-cat[_ngcontent-%COMP%]{padding-left:30px;padding-right:30px;padding-bottom:30px;display:grid}.row-cat[_ngcontent-%COMP%]{grid-template-columns:repeat(4,1fr);grid-template-rows:repeat(2,1fr);grid-gap:20px}"]}),t})();function xv(t,e){1&t&&(Po(0,"div"),us(1,"Email is required"),Lo())}function Ov(t,e){1&t&&(Po(0,"div"),us(1,"Enter valid email address"),Lo())}function Rv(t,e){if(1&t&&(Po(0,"div",13),ko(1,xv,2,0,"div",14),ko(2,Ov,2,0,"div",14),Lo()),2&t){const t=zo();Ar(1),Ro("ngIf",t.formVal.email.errors.required),Ar(1),Ro("ngIf",t.formVal.email.errors.email)}}function Dv(t,e){1&t&&(Po(0,"div"),us(1,"Password is required"),Lo())}function Pv(t,e){if(1&t&&(Po(0,"div",13),ko(1,Dv,2,0,"div",14),Lo()),2&t){const t=zo();Ar(1),Ro("ngIf",t.formVal.password.errors.required)}}function Lv(t,e){1&t&&Mo(0,"span",15)}const Mv=function(t){return{"is-invalid":t}};let Vv=(()=>{class t{constructor(t,e,n){this.authService=t,this.formBuilder=e,this.router=n,this.submitted=!1,this.loading=!1}get formVal(){return this.loginForm.controls}ngOnInit(){this.loginForm=this.formBuilder.group({email:["",[Qp.required,Qp.email]],password:["",Qp.required]}),console.log(this.loginForm.controls)}onSubmitLogin(){if(this.submitted=!0,!this.loginForm.invalid)return this.authService.SignIn(this.loginForm.value.email,this.loginForm.value.password).then(t=>{console.log(t),this.errorMessage=""},t=>{console.log(t.message),this.errorMessage=t.message});console.log("Invalid: ",this.loginForm.invalid," ",this.loginForm.errors)}}return t.\u0275fac=function(e){return new(e||t)(No(Op),No($m),No(id))},t.\u0275cmp=fe({type:t,selectors:[["app-login"]],decls:24,vars:12,consts:[[1,"container"],[1,"fnt-size"],[1,"form-container","col-10"],[3,"formGroup","ngSubmit"],[1,"form-group"],["type","text","formControlName","email","placeholder","Email",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["type","password","formControlName","password","placeholder","Password","placeholder","Password",1,"form-control",3,"ngClass"],[1,"err-msg"],[1,"btn","btn-success",3,"disabled"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],[1,"forgotPassword"],["routerLink","/forgot-password"],[1,"invalid-feedback"],[4,"ngIf"],[1,"spinner-border","spinner-border-sm","mr-1"]],template:function(t,e){1&t&&(Po(0,"div",0),Po(1,"p",1),us(2,"Already have an account?"),Lo(),Po(3,"div",2),Po(4,"h4"),us(5,"Sign In"),Lo(),Po(6,"form",3),Fo("ngSubmit",(function(){return e.onSubmitLogin()})),Po(7,"div",4),Mo(8,"input",5),ko(9,Rv,3,2,"div",6),Lo(),Po(10,"div",4),Mo(11,"input",7),ko(12,Pv,2,1,"div",6),Lo(),Po(13,"div",8),us(14),Lo(),Po(15,"div",4),Po(16,"button",9),ko(17,Lv,1,0,"span",10),us(18," Log In "),Lo(),Lo(),Lo(),Po(19,"div",11),Po(20,"b"),us(21,"Forgot Password? \xa0"),Lo(),Po(22,"a",12),us(23,"Click here"),Lo(),Lo(),Lo(),Lo()),2&t&&(Ar(6),Ro("formGroup",e.loginForm),Ar(2),Ro("ngClass",Ea(8,Mv,e.submitted&&e.formVal.email.errors)),Ar(1),Ro("ngIf",e.submitted&&e.formVal.email.errors),Ar(2),Ro("ngClass",Ea(10,Mv,e.submitted&&e.formVal.password.errors)),Ar(1),Ro("ngIf",e.submitted&&e.formVal.password.errors),Ar(2),cs(e.errorMessage),Ar(2),Ro("disabled",e.loading),Ar(1),Ro("ngIf",e.loading))},directives:[Lm,Wp,Um,Up,Gp,Gm,lc,pc,sd],styles:[".container[_ngcontent-%COMP%]{padding-right:0}.err-msg[_ngcontent-%COMP%]{width:100%;margin-bottom:.25rem;padding-bottom:.5rem;font-size:100%;color:#dc3545;font-weight:700}"]}),t})();function Uv(t,e){1&t&&(Po(0,"div"),us(1,"First Name is required"),Lo())}function jv(t,e){if(1&t&&(Po(0,"div",18),ko(1,Uv,2,0,"div",19),Lo()),2&t){const t=zo();Ar(1),Ro("ngIf",t.formVal.firstName.errors.required)}}function Fv(t,e){1&t&&(Po(0,"div"),us(1,"Email is required"),Lo())}function qv(t,e){1&t&&(Po(0,"div"),us(1,"Enter valid email address"),Lo())}function Bv(t,e){if(1&t&&(Po(0,"div",18),ko(1,Fv,2,0,"div",19),ko(2,qv,2,0,"div",19),Lo()),2&t){const t=zo();Ar(1),Ro("ngIf",t.formVal.email.errors.required),Ar(1),Ro("ngIf",t.formVal.email.errors.email)}}function zv(t,e){1&t&&(Po(0,"div"),us(1,"Password is required"),Lo())}function Hv(t,e){1&t&&(Po(0,"div"),us(1,"Password must be at least 6 characters"),Lo())}function Gv(t,e){if(1&t&&(Po(0,"div",18),ko(1,zv,2,0,"div",19),ko(2,Hv,2,0,"div",19),Lo()),2&t){const t=zo();Ar(1),Ro("ngIf",t.formVal.password.errors.required),Ar(1),Ro("ngIf",t.formVal.password.errors.minlength)}}function Wv(t,e){1&t&&(Po(0,"div"),us(1,"Confirm Password is required"),Lo())}function $v(t,e){if(1&t&&(Po(0,"div",18),ko(1,Wv,2,0,"div",19),Lo()),2&t){const t=zo();Ar(1),Ro("ngIf",t.formVal.confirmPassword.errors.required)}}function Kv(t,e){1&t&&(Po(0,"div"),us(1,"Passwords do not match"),Lo())}function Jv(t,e){if(1&t&&(Po(0,"div",18),ko(1,Kv,2,0,"div",19),Lo()),2&t){const t=zo();Ar(1),Ro("ngIf",t.formVal.confirmPassword.errors.notSame)}}function Yv(t,e){1&t&&Mo(0,"span",20)}const Qv=function(t){return{"is-invalid":t}};let Xv=(()=>{class t{constructor(t,e,n){this.formBuilder=t,this.router=e,this.registerService=n,this.submitted=!1,this.loading=!1}get formVal(){return this.registerForm.controls}ngOnInit(){this.registerForm=this.formBuilder.group({firstName:["",Qp.required],lastName:["",Qp.required],email:["",[Qp.required,Qp.email]],password:["",[Qp.required,Qp.minLength(6)]],confirmPassword:["",Qp.required]},{validators:this.checkPasswordMatch("password","confirmPassword")})}checkPasswordMatch(t,e){return n=>{const r=n.controls[e];if(!r.errors||r.errors.notSame)return r.setErrors(n.controls[t].value!==r.value?{notSame:!0}:null)}}onSubmitRegister(){this.submitted=!0,this.registerForm.invalid?console.log("Invalid: ",this.registerForm.invalid," ",this.registerForm.errors):this.registerService.SignUp(this.registerForm.value.email,this.registerForm.value.password).then(t=>{console.log(t),this.errorMessage="",this.successMessage="Your account has been created"},t=>{console.log(t),this.errorMessage=t.message,this.successMessage=""})}}return t.\u0275fac=function(e){return new(e||t)(No($m),No(id),No(Op))},t.\u0275cmp=fe({type:t,selectors:[["app-signup"]],decls:33,vars:22,consts:[[1,"container"],[1,"fnt-size"],[1,"form-container","col-10"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"col-sm-6","form-group"],["type","text","formControlName","firstName","placeholder","First Name",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["type","text","formControlName","lastName","placeholder","Last Name",1,"form-control"],[1,"form-group"],["type","email","formControlName","email","placeholder","Email Address",1,"form-control",3,"ngClass"],["id","emailHelp",1,"form-text","text-muted"],["type","password","formControlName","password","placeholder","Password",1,"form-control",3,"ngClass"],["type","password","formControlName","confirmPassword","placeholder","Confirm Password",1,"form-control",3,"ngClass"],[1,"btn","badge-info",3,"disabled"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],[1,"error"],[1,"success"],[1,"invalid-feedback"],[4,"ngIf"],[1,"spinner-border","spinner-border-sm","mr-1"]],template:function(t,e){1&t&&(Po(0,"div",0),Po(1,"p",1),us(2,"New User?"),Lo(),Po(3,"div",2),Po(4,"h4"),us(5,"Sign Up"),Lo(),Po(6,"form",3),Fo("ngSubmit",(function(){return e.onSubmitRegister()})),Po(7,"div",4),Po(8,"div",5),Mo(9,"input",6),ko(10,jv,2,1,"div",7),Lo(),Po(11,"div",5),Mo(12,"input",8),Lo(),Lo(),Po(13,"div",9),Mo(14,"input",10),Po(15,"small",11),us(16,"We'll never share your email with anyone else."),Lo(),ko(17,Bv,3,2,"div",7),Lo(),Po(18,"div",9),Mo(19,"input",12),ko(20,Gv,3,2,"div",7),Lo(),Po(21,"div",9),Mo(22,"input",13),ko(23,$v,2,1,"div",7),ko(24,Jv,2,1,"div",7),Lo(),Po(25,"div",9),Po(26,"button",14),ko(27,Yv,1,0,"span",15),us(28," Sign Up "),Lo(),Lo(),Po(29,"label",16),us(30),Lo(),Po(31,"label",17),us(32),Lo(),Lo(),Lo(),Lo()),2&t&&(Ar(6),Ro("formGroup",e.registerForm),Ar(3),Ro("ngClass",Ea(14,Qv,e.submitted&&e.formVal.firstName.errors)),Ar(1),Ro("ngIf",e.submitted&&e.formVal.firstName.errors),Ar(4),Ro("ngClass",Ea(16,Qv,e.submitted&&e.formVal.email.errors)),Ar(3),Ro("ngIf",e.submitted&&e.formVal.email.errors),Ar(2),Ro("ngClass",Ea(18,Qv,e.submitted&&e.formVal.password.errors)),Ar(1),Ro("ngIf",e.submitted&&e.formVal.password.errors),Ar(2),Ro("ngClass",Ea(20,Qv,e.formVal.confirmPassword.errors&&e.formVal.confirmPassword.errors.notSame||e.submitted&&e.formVal.confirmPassword.errors)),Ar(1),Ro("ngIf",e.submitted&&e.formVal.confirmPassword.errors),Ar(1),Ro("ngIf",e.formVal.confirmPassword.errors),Ar(2),Ro("disabled",e.loading),Ar(1),Ro("ngIf",e.loading),Ar(3),cs(e.errorMessage),Ar(2),cs(e.successMessage))},directives:[Lm,Wp,Um,Up,Gp,Gm,lc,pc],styles:[""]}),t})();function Zv(t,e){if(1&t&&(Po(0,"div",1),Po(1,"div",14),Po(2,"div",15),Po(3,"div",16),Po(4,"h1"),us(5,"Hello: "),Po(6,"strong"),us(7),Lo(),Lo(),Po(8,"p"),us(9,"Email: "),Po(10,"strong"),us(11),Lo(),Lo(),Lo(),Lo(),Lo(),Lo()),2&t){const t=e.ngIf;Ar(7),cs(t.email?t.email.substring(0,t.email.indexOf("@")).charAt(0).toUpperCase()+t.email.substring(0,t.email.indexOf("@")).slice(1):"User"),Ar(4),cs(t.email)}}const ty=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=fe({type:t,selectors:[["app-home"]],decls:7,vars:0,consts:[[1,"grid-container"],[1,"item1"],[1,"item2"],[1,"vertical"],[1,"item3"],[1,"footer"]],template:function(t,e){1&t&&(Po(0,"div",0),Mo(1,"app-navbar",1),Mo(2,"app-login",2),Mo(3,"div",3),Mo(4,"app-signup",4),Po(5,"div",5),us(6,"\xa9 JAMMR 2020"),Lo(),Lo())},directives:[Hg,Vv,Xv],styles:['.item1[_ngcontent-%COMP%]{grid-area:header}.item2[_ngcontent-%COMP%]{grid-area:left}.item2[_ngcontent-%COMP%], .item3[_ngcontent-%COMP%]{margin-top:20px;margin-left:80px}.item3[_ngcontent-%COMP%]{grid-area:right}.footer[_ngcontent-%COMP%]{grid-area:footer;font-family:Calibri,sans-serif;font-size:20px;background:#041e42;color:#fff;margin:0;padding-top:5px;text-align:center}.vertical[_ngcontent-%COMP%]{border-left:1px solid #000}.grid-container[_ngcontent-%COMP%]{display:grid;grid-template-areas:"header header header" "left vertical right" "footer footer footer";grid-template-rows:8% 1fr 7%;grid-template-columns:.9fr .5% 1fr;height:100vh}@media screen and (max-width:700px){.grid-container[_ngcontent-%COMP%]{display:grid;grid-template-areas:"header" "left" "vertical" "right" "footer";grid-template-rows:8% .9fr .5% 1fr 7%;grid-template-columns:1fr}.vertical[_ngcontent-%COMP%]{border-bottom:1px solid #000}.item2[_ngcontent-%COMP%], .item3[_ngcontent-%COMP%]{margin-left:5px;margin-bottom:20px}}']}),t})()},{path:"register",component:Xv},{path:"login",component:Vv},{path:"dashboard",component:Nv},{path:"verify-email-address",component:Wg},{path:"about",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=fe({type:t,selectors:[["app-about"]],decls:7,vars:0,consts:[[1,"container-fluid",2,"margin-top","60px"],[1,"row"],[1,"foot"]],template:function(t,e){1&t&&(Mo(0,"app-navbar"),Po(1,"div",0),Po(2,"div",1),Po(3,"p"),us(4,"about works!"),Lo(),Lo(),Lo(),Po(5,"footer",2),us(6,"\xa9 JAMMR 2020"),Lo())},directives:[Hg],styles:[".foot[_ngcontent-%COMP%]{font-family:Calibri,sans-serif;font-size:20px;background-color:#041e42;color:#fff;margin:0;padding:12px 0;text-align:center}"]}),t})()},{path:"myaccount",component:(()=>{class t{constructor(t){this.authService=t,t.userData.subscribe(t=>{console.log(t),this.userData=t})}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(No(Op))},t.\u0275cmp=fe({type:t,selectors:[["app-myaccount"]],decls:20,vars:1,consts:[[1,"container-fluid",2,"margin-top","60px"],[1,"row"],[1,"col-md-2","d-md-block","bg-light","sidebar"],[1,"sidebar-sticky"],[1,"nav","flex-column"],[1,"nav-item"],[1,"nav-link","active"],[1,"nav-link",3,"click"],["role","main",1,"col-md-9","ml-sm-auto","col-lg-10","px-4"],[1,"inner-adjust"],[1,"pt-3","pb-2","mb-3","border-bottom"],[1,"h2"],["class","row",4,"ngIf"],[1,"foot"],[1,"col-md-12"],[1,"media"],[1,"media-body"]],template:function(t,e){1&t&&(Mo(0,"app-navbar"),Po(1,"div",0),Po(2,"div",1),Po(3,"nav",2),Po(4,"div",3),Po(5,"ul",4),Po(6,"li",5),Po(7,"a",6),us(8," User Profile "),Lo(),Lo(),Po(9,"li",5),Po(10,"a",7),Fo("click",(function(){return e.authService.SignOut()})),us(11," Log out "),Lo(),Lo(),Lo(),Lo(),Lo(),Po(12,"main",8),Po(13,"div",9),Po(14,"div",10),Po(15,"h1",11),us(16,"User Profile"),Lo(),Lo(),ko(17,Zv,12,2,"div",12),Lo(),Lo(),Lo(),Lo(),Po(18,"footer",13),us(19,"\xa9 JAMMR 2020"),Lo()),2&t&&(Ar(17),Ro("ngIf",e.userData))},directives:[Hg,pc],styles:[".container-fluid[_ngcontent-%COMP%]{height:84vh}.foot[_ngcontent-%COMP%]{font-family:Calibri,sans-serif;font-size:20px;background-color:#041e42;color:#fff;margin:0;padding:12px 0;text-align:center}"]}),t})()},{path:"sell-product",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=fe({type:t,selectors:[["app-sell-product"]],decls:7,vars:0,consts:[[1,"container-fluid",2,"margin-top","60px"],[1,"row"],[1,"foot"]],template:function(t,e){1&t&&(Mo(0,"app-navbar"),Po(1,"div",0),Po(2,"div",1),Po(3,"p"),us(4,"sell-product works!"),Lo(),Lo(),Lo(),Po(5,"footer",2),us(6,"\xa9 JAMMR 2020"),Lo())},directives:[Hg],styles:[".foot[_ngcontent-%COMP%]{font-family:Calibri,sans-serif;font-size:20px;background-color:#041e42;color:#fff;margin:0;padding:12px 0;text-align:center}"]}),t})()}];let ey=(()=>{class t{}return t.\u0275mod=ge({type:t}),t.\u0275inj=ht({factory:function(e){return new(e||t)},imports:[[_d.forRoot(ty)],_d]}),t})(),ny=(()=>{class t{constructor(){this.title="angular-login"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=fe({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(t,e){1&t&&Mo(0,"router-outlet")},directives:[hd],styles:["body[_ngcontent-%COMP%]{margin:0;font-family:BogleWeb,Helvetica Neue,Helvetica,Arial,sans-serif}.form-container[_ngcontent-%COMP%]{border:1px solid #fff;padding:30px 40px;margin-top:10vh;box-shadow:1px 4px 26px 11px rgba(0,0,0,.75)}.fnt-size[_ngcontent-%COMP%]{font-size:24px;font-weight:bolder;font-style:oblique}@media screen and (max-width:700px){.form-container[_ngcontent-%COMP%]{border:1px solid #fff;padding:20px;margin-top:10px;box-shadow:3px 10px 23px -15px rgba(0,0,0,.75)}.fnt-size[_ngcontent-%COMP%]{font-size:22px;margin-top:0;margin-bottom:20px;font-weight:bolder}}"]}),t})();var ry=n("wj3C"),iy=n.n(ry);(function(){var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},n=function(t){t=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,t];for(var e=0;e<t.length;++e){var n=t[e];if(n&&n.Math==Math)return n}return globalThis}(this);function r(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function i(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:r(t)}}!function(t,r){if(r){var i=n;t=t.split(".");for(var o=0;o<t.length-1;o++){var s=t[o];s in i||(i[s]={}),i=i[s]}(r=r(o=i[t=t[t.length-1]]))!=o&&null!=r&&e(i,t,{configurable:!0,writable:!0,value:r})}}("Promise",(function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(n){e.reject(n)}}function r(){this.a=null}function o(t){return t instanceof e?t:new e((function(e){e(t)}))}if(t)return t;r.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c((function(){e.g()}))}this.a.push(t)};var s=n.setTimeout;r.prototype.c=function(t){s(t,0)},r.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(r){this.f(r)}}}this.a=null},r.prototype.f=function(t){this.c((function(){throw t}))},e.prototype.f=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.m),reject:t(this.g)}},e.prototype.m=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.s(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.u(t):this.h(t)}},e.prototype.u=function(t){var e=void 0;try{e=t.then}catch(n){return void this.g(n)}"function"==typeof e?this.w(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)a.b(this.a[t]);this.a=null}};var a=new r;return e.prototype.s=function(t){var e=this.f();t.Oa(e.resolve,e.reject)},e.prototype.w=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(r){n.reject(r)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(n){o(n)}}:e}var i,o,s=new e((function(t,e){i=t,o=e}));return this.Oa(r(t,i),r(n,o)),s},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Oa=function(t,e){function n(){switch(r.b){case 1:t(r.c);break;case 2:e(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?a.b(n):this.a.push(n)},e.resolve=o,e.reject=function(t){return new e((function(e,n){n(t)}))},e.race=function(t){return new e((function(e,n){for(var r=i(t),s=r.next();!s.done;s=r.next())o(s.value).Oa(e,n)}))},e.all=function(t){var n=i(t),r=n.next();return r.done?o([]):new e((function(t,e){function i(e){return function(n){s[e]=n,0==--a&&t(s)}}var s=[],a=0;do{s.push(void 0),a++,o(r.value).Oa(i(s.length-1),e),r=n.next()}while(!r.done)}))},e}));var o=o||{},s=this||self,a=/^[\w+/_-]+[=]{0,2}$/,u=null;function c(){}function l(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function h(t){var e=l(t);return"array"==e||"object"==e&&"number"==typeof t.length}function f(t){return"function"==l(t)}function d(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function p(t){return Object.prototype.hasOwnProperty.call(t,m)&&t[m]||(t[m]=++g)}var m="closure_uid_"+(1e9*Math.random()>>>0),g=0;function v(t,e,n){return t.call.apply(t.bind,arguments)}function y(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function w(t,e,n){return(w=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?v:y).apply(null,arguments)}function b(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var _=Date.now||function(){return+new Date};function E(t,e){function n(){}n.prototype=e.prototype,t.Za=e.prototype,t.prototype=new n,t.prototype.constructor=t}function I(t,e,n){this.code=S+t,this.message=e||A[t]||"",this.a=n||null}function C(t){var e=t&&t.code;return e?new I(e.substring(S.length),t.message,t.serverResponse):null}E(I,Error),I.prototype.v=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},I.prototype.toJSON=function(){return this.v()};var T,S="auth/",A={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},k={hd:{Ra:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Xa:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},pd:{Ra:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Xa:"https://securetoken.googleapis.com/v1/token",Ua:"https://identitytoolkit.googleapis.com/v2/",id:"p"},rd:{Ra:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Xa:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},sd:{Ra:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Xa:"https://test-securetoken.sandbox.googleapis.com/v1/token",Ua:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function N(t){for(var e in k)if(k[e].id===t)return{firebaseEndpoint:(t=k[e]).Ra,secureTokenEndpoint:t.Xa,identityPlatformEndpoint:t.Ua};return null}function x(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(e){return!1}}function O(t){if(Error.captureStackTrace)Error.captureStackTrace(this,O);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function R(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");O.call(this,n+t[r])}function D(t,e){throw new R("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function P(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function L(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function M(){this.b=this.a=null}T=N("__EID__")?"__EID__":void 0,E(O,Error),O.prototype.name="CustomError",E(R,O),R.prototype.name="AssertionError",P.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var V=new P((function(){return new j}),(function(t){t.reset()}));function U(){var t=me,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function j(){this.next=this.b=this.a=null}M.prototype.add=function(t,e){var n=V.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},j.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},j.prototype.reset=function(){this.next=this.b=this.a=null};var F=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},q=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)},B=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=[],i=0,o="string"==typeof t?t.split(""):t,s=0;s<n;s++)if(s in o){var a=o[s];e.call(void 0,a,s,t)&&(r[i++]=a)}return r},z=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i="string"==typeof t?t.split(""):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},H=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function G(t,e){return 0<=F(t,e)}function W(t,e){var n;return(n=0<=(e=F(t,e)))&&Array.prototype.splice.call(t,e,1),n}function $(t,e){!function(t,e){for(var n="string"==typeof t?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}(t,(function(n,r){e.call(void 0,n,r,t)&&Array.prototype.splice.call(t,r,1)}))}function K(t){return Array.prototype.concat.apply([],arguments)}function J(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}var Y,Q=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},X=/&/g,Z=/</g,tt=/>/g,et=/"/g,nt=/'/g,rt=/\x00/g,it=/[\x00&<>"']/;function ot(t,e){return-1!=t.indexOf(e)}function st(t,e){return t<e?-1:t>e?1:0}t:{var at=s.navigator;if(at){var ut=at.userAgent;if(ut){Y=ut;break t}}Y=""}function ct(t){return ot(Y,t)}function lt(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function ht(t){for(var e in t)return!1;return!0}function ft(t){var e,n={};for(e in t)n[e]=t[e];return n}var dt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function pt(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<dt.length;o++)n=dt[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function mt(t,e){t:{try{var n=t&&t.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||s).Element&&r.Location){var i=r;break t}}catch(a){}i=null}if(i&&void 0!==i[e]&&(!t||!(t instanceof i[e])&&(t instanceof i.Location||t instanceof i.Element))){if(d(t))try{var o=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(a){o="<object could not be stringified>"}else o=void 0===t?"undefined":null===t?"null":typeof t;D("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,o)}}function gt(t,e){this.a=t===wt&&e||"",this.b=yt}function vt(t){return t instanceof gt&&t.constructor===gt&&t.b===yt?t.a:(D("expected object of type Const, got '"+t+"'"),"type_error:Const")}gt.prototype.ra=!0,gt.prototype.qa=function(){return this.a},gt.prototype.toString=function(){return"Const{"+this.a+"}"};var yt={},wt={},bt=new gt(wt,"");function _t(t,e){this.a=t===At&&e||"",this.b=St}function Et(t){return t instanceof _t&&t.constructor===_t&&t.b===St?t.a:(D("expected object of type TrustedResourceUrl, got '"+t+"' of type "+l(t)),"type_error:TrustedResourceUrl")}function It(t,e){var n=vt(t);if(!Tt.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return t=n.replace(Ct,(function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[r])instanceof gt?vt(t):encodeURIComponent(String(t))})),new _t(At,t)}_t.prototype.ra=!0,_t.prototype.qa=function(){return this.a.toString()},_t.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Ct=/%{(\w+)}/g,Tt=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,St={},At={};function kt(t,e){this.a=t===Dt&&e||"",this.b=Rt}function Nt(t){return t instanceof kt&&t.constructor===kt&&t.b===Rt?t.a:(D("expected object of type SafeUrl, got '"+t+"' of type "+l(t)),"type_error:SafeUrl")}kt.prototype.ra=!0,kt.prototype.qa=function(){return this.a.toString()},kt.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var xt=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Ot(t){return t instanceof kt?t:(t="object"==typeof t&&t.ra?t.qa():String(t),xt.test(t)||(t="about:invalid#zClosurez"),new kt(Dt,t))}var Rt={},Dt={};function Pt(){this.a="",this.b=Mt}function Lt(t){return t instanceof Pt&&t.constructor===Pt&&t.b===Mt?t.a:(D("expected object of type SafeHtml, got '"+t+"' of type "+l(t)),"type_error:SafeHtml")}Pt.prototype.ra=!0,Pt.prototype.qa=function(){return this.a.toString()},Pt.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Mt={};function Vt(t){var e=new Pt;return e.a=t,e}Vt("<!DOCTYPE html>");var Ut=Vt("");function jt(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function Ft(t){return it.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(X,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(Z,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(tt,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(et,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(nt,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(rt,"&#0;"))),t}function qt(t){return qt[" "](t),t}Vt("<br>"),qt[" "]=c;var Bt,zt,Ht=ct("Opera"),Gt=ct("Trident")||ct("MSIE"),Wt=ct("Edge"),$t=Wt||Gt,Kt=ct("Gecko")&&!(ot(Y.toLowerCase(),"webkit")&&!ct("Edge"))&&!(ct("Trident")||ct("MSIE"))&&!ct("Edge"),Jt=ot(Y.toLowerCase(),"webkit")&&!ct("Edge");function Yt(){var t=s.document;return t?t.documentMode:void 0}t:{var Qt="",Xt=(zt=Y,Kt?/rv:([^\);]+)(\)|;)/.exec(zt):Wt?/Edge\/([\d\.]+)/.exec(zt):Gt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(zt):Jt?/WebKit\/(\S+)/.exec(zt):Ht?/(?:Version)[ \/]?(\S+)/.exec(zt):void 0);if(Xt&&(Qt=Xt?Xt[1]:""),Gt){var Zt=Yt();if(null!=Zt&&Zt>parseFloat(Qt)){Bt=String(Zt);break t}}Bt=Qt}var te,ee={};function ne(t){return function(t,e){var n=ee;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=Q(String(Bt)).split("."),r=Q(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=st(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||st(0==s[2].length,0==a[2].length)||st(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e}))}te=s.document&&Gt?Yt():void 0;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(zt){}var re=!Gt||9<=Number(te);function ie(t){var e=document;return"string"==typeof t?e.getElementById(t):t}function oe(t,e){lt(e,(function(e,n){e&&"object"==typeof e&&e.ra&&(e=e.qa()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:ue.hasOwnProperty(n)?t.setAttribute(ue[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e}))}var se,ae,ue={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function ce(t,e,n){function r(n){n&&e.appendChild("string"==typeof n?t.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];!h(o)||d(o)&&0<o.nodeType?r(o):q(he(o)?J(o):o,r)}}function le(t,e){return e=String(e),"application/xhtml+xml"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}function he(t){if(t&&"number"==typeof t.length){if(d(t))return"function"==typeof t.item||"string"==typeof t.item;if(f(t))return"function"==typeof t.item}return!1}function fe(t){s.setTimeout((function(){throw t}),0)}function de(t,e){ae||function(){if(s.Promise&&s.Promise.resolve){var t=s.Promise.resolve(void 0);ae=function(){t.then(ge)}}else ae=function(){var t=ge;!f(s.setImmediate)||s.Window&&s.Window.prototype&&!ct("Edge")&&s.Window.prototype.setImmediate==s.setImmediate?(se||(se=function(){var t=s.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!ct("Presto")&&(t=function(){var t=le(document,"IFRAME");t.style.display="none",function(t){var e=new _t(At,vt(bt));mt(t,"HTMLIFrameElement"),t.src=Et(e).toString()}(t),document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.write(Lt(Ut)),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=w((function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()}),this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),void 0!==t&&!ct("Trident")&&!ct("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).Db;n.Db=null,t()}},function(t){r.next={Db:t},r=r.next,e.port2.postMessage(0)}}return function(t){s.setTimeout(t,0)}}()),se(t)):s.setImmediate(t)}}(),pe||(ae(),pe=!0),me.add(t,e)}var pe=!1,me=new M;function ge(){for(var t;t=U();){try{t.a.call(t.b)}catch(e){fe(e)}L(V,t)}pe=!1}function ve(t,e){if(this.a=ye,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=c)try{var n=this;t.call(e,(function(t){xe(n,we,t)}),(function(t){if(!(t instanceof Ve))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(e){}xe(n,be,t)}))}catch(r){xe(this,be,r)}}var ye=0,we=2,be=3;function _e(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}_e.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Ee=new P((function(){return new _e}),(function(t){t.reset()}));function Ie(t,e,n){var r=Ee.get();return r.g=t,r.b=e,r.f=n,r}function Ce(t){if(t instanceof ve)return t;var e=new ve(c);return xe(e,we,t),e}function Te(t){return new ve((function(e,n){n(t)}))}function Se(t,e,n){Oe(t,e,n,null)||de(b(e,t))}function Ae(t){return new ve((function(e){var n=t.length,r=[];if(n)for(var i=function(t,i,o){n--,r[t]=i?{Mb:!0,value:o}:{Mb:!1,reason:o},0==n&&e(r)},o=0;o<t.length;o++)Se(t[o],b(i,o,!0),b(i,o,!1));else e(r)}))}function ke(t,e){t.b||t.a!=we&&t.a!=be||Re(t),t.f?t.f.next=e:t.b=e,t.f=e}function Ne(t,e,n,r){var i=Ie(null,null,null);return i.a=new ve((function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(s){o(s)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof Ve?o(e):t(i)}catch(s){o(s)}}:o})),i.a.c=t,ke(t,i),i.a}function xe(t,e,n){t.a==ye&&(t===n&&(e=be,n=new TypeError("Promise cannot resolve to itself")),t.a=1,Oe(n,t.Yc,t.Zc,t)||(t.i=n,t.a=e,t.c=null,Re(t),e!=be||n instanceof Ve||function(t,e){t.g=!0,de((function(){t.g&&Me.call(null,e)}))}(t,n)))}function Oe(t,e,n,r){if(t instanceof ve)return ke(t,Ie(e||c,n||null,r)),!0;if(x(t))return t.then(e,n,r),!0;if(d(t))try{var i=t.then;if(f(i))return function(t,e,n,r,i){function o(t){s||(s=!0,r.call(i,t))}var s=!1;try{e.call(t,(function(t){s||(s=!0,n.call(i,t))}),o)}catch(a){o(a)}}(t,i,e,n,r),!0}catch(o){return n.call(r,o),!0}return!1}function Re(t){t.h||(t.h=!0,de(t.ec,t))}function De(t){var e=null;return t.b&&(t.b=(e=t.b).next,e.next=null),t.b||(t.f=null),e}function Pe(t,e,n,r){if(n==be&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,Le(e,n,r);else try{e.c?e.g.call(e.f):Le(e,n,r)}catch(i){Me.call(null,i)}L(Ee,e)}function Le(t,e,n){e==we?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}ve.prototype.then=function(t,e,n){return Ne(this,f(t)?t:null,f(e)?e:null,n)},ve.prototype.$goog_Thenable=!0,(t=ve.prototype).ma=function(t,e){return(t=Ie(t,t,e)).c=!0,ke(this,t),this},t.o=function(t,e){return Ne(this,null,t,e)},t.cancel=function(t){if(this.a==ye){var e=new Ve(t);de((function(){!function t(e,n){if(e.a==ye)if(e.c){var r=e.c;if(r.b){for(var i=0,o=null,s=null,a=r.b;a&&(a.c||(i++,a.a==e&&(o=a),!(o&&1<i)));a=a.next)o||(s=a);o&&(r.a==ye&&1==i?t(r,n):(s?((i=s).next==r.f&&(r.f=i),i.next=i.next.next):De(r),Pe(r,o,be,n)))}e.c=null}else xe(e,be,n)}(this,e)}),this)}},t.Yc=function(t){this.a=ye,xe(this,we,t)},t.Zc=function(t){this.a=ye,xe(this,be,t)},t.ec=function(){for(var t;t=De(this);)Pe(this,t,this.a,this.i);this.h=!1};var Me=fe;function Ve(t){O.call(this,t)}function Ue(){0!=je&&(Fe[p(this)]=this),this.wa=this.wa,this.na=this.na}E(Ve,O),Ve.prototype.name="cancel";var je=0,Fe={};function qe(t){if(!t.wa&&(t.wa=!0,t.Ba(),0!=je)){var e=p(t);if(0!=je&&t.na&&0<t.na.length)throw Error(t+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Fe[e]}}Ue.prototype.wa=!1,Ue.prototype.Ba=function(){if(this.na)for(;this.na.length;)this.na.shift()()};var Be=Object.freeze||function(t){return t},ze=!Gt||9<=Number(te),He=Gt&&!ne("9"),Ge=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{s.addEventListener("test",c,e),s.removeEventListener("test",c,e)}catch(n){}return t}();function We(t,e){this.type=t,this.b=this.target=e,this.defaultPrevented=!1}function $e(t,e){if(We.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(Kt){t:{try{qt(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Ke[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}We.prototype.preventDefault=function(){this.defaultPrevented=!0},E($e,We);var Ke=Be({2:"touch",3:"pen",4:"mouse"});$e.prototype.preventDefault=function(){$e.Za.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,He)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}},$e.prototype.f=function(){return this.a};var Je="closure_listenable_"+(1e6*Math.random()|0),Ye=0;function Qe(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Ta=i,this.key=++Ye,this.ua=this.Na=!1}function Xe(t){t.ua=!0,t.listener=null,t.proxy=null,t.src=null,t.Ta=null}function Ze(t){this.src=t,this.a={},this.b=0}function tn(t,e){var n=e.type;n in t.a&&W(t.a[n],e)&&(Xe(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function en(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.ua&&o.listener==e&&o.capture==!!n&&o.Ta==r)return i}return-1}Ze.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=en(t,e,r,i);return-1<s?(e=t[s],n||(e.Na=!1)):((e=new Qe(e,this.src,o,!!r,i)).Na=n,t.push(e)),e};var nn="closure_lm_"+(1e6*Math.random()|0),rn={};function on(t,e,n,r,i){if(r&&r.once)an(t,e,n,r,i);else if(Array.isArray(e))for(var o=0;o<e.length;o++)on(t,e[o],n,r,i);else n=gn(n),t&&t[Je]?yn(t,e,n,d(r)?!!r.capture:!!r,i):sn(t,e,n,!1,r,i)}function sn(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=d(i)?!!i.capture:!!i,a=pn(t);if(a||(t[nn]=a=new Ze(t)),!(n=a.add(e,n,r,s,o)).proxy)if(r=function(){var t=dn,e=ze?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Ge||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(ln(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}}function an(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)an(t,e[o],n,r,i);else n=gn(n),t&&t[Je]?wn(t,e,n,d(r)?!!r.capture:!!r,i):sn(t,e,n,!0,r,i)}function un(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)un(t,e[o],n,r,i);else r=d(r)?!!r.capture:!!r,n=gn(n),t&&t[Je]?(t=t.u,(e=String(e).toString())in t.a&&-1<(n=en(o=t.a[e],n,r,i))&&(Xe(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=pn(t))&&(e=t.a[e.toString()],t=-1,e&&(t=en(e,n,r,i)),(n=-1<t?e[t]:null)&&cn(n))}function cn(t){if("number"!=typeof t&&t&&!t.ua){var e=t.src;if(e&&e[Je])tn(e.u,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(ln(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=pn(e))?(tn(n,t),0==n.b&&(n.src=null,e[nn]=null)):Xe(t)}}}function ln(t){return t in rn?rn[t]:rn[t]="on"+t}function hn(t,e,n,r){var i=!0;if((t=pn(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.ua&&(o=fn(o,r),i=i&&!1!==o)}return i}function fn(t,e){var n=t.listener,r=t.Ta||t.src;return t.Na&&cn(t),n.call(r,e)}function dn(t,e){if(t.ua)return!0;if(!ze){if(!e)t:{e=["window","event"];for(var n=s,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(e=new $e(r=e,this),n=!0,!(0>r.keyCode||null!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(a){i=!0}(i||null==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var o=hn(r[i],t,!0,e);n=n&&o}for(i=0;i<r.length;i++)e.b=r[i],o=hn(r[i],t,!1,e),n=n&&o}return n}return fn(t,new $e(e,this))}function pn(t){return(t=t[nn])instanceof Ze?t:null}var mn="__closure_events_fn_"+(1e9*Math.random()>>>0);function gn(t){return f(t)?t:(t[mn]||(t[mn]=function(e){return t.handleEvent(e)}),t[mn])}function vn(){Ue.call(this),this.u=new Ze(this),this.Yb=this,this.eb=null}function yn(t,e,n,r,i){t.u.add(String(e),n,!1,r,i)}function wn(t,e,n,r,i){t.u.add(String(e),n,!0,r,i)}function bn(t,e,n,r){if(!(e=t.u.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.ua&&s.capture==n){var a=s.listener,u=s.Ta||s.src;s.Na&&tn(t.u,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}function _n(t,e,n){if(f(t))n&&(t=w(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=w(t.handleEvent,t)}return 2147483647<Number(e)?-1:s.setTimeout(t,e||0)}function En(t){var e=null;return new ve((function(n,r){-1==(e=_n((function(){n(void 0)}),t))&&r(Error("Failed to schedule timer."))})).o((function(t){throw s.clearTimeout(e),t}))}function In(t){if(t.V&&"function"==typeof t.V)return t.V();if("string"==typeof t)return t.split("");if(h(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function Cn(t){if(t.X&&"function"==typeof t.X)return t.X();if(!t.V||"function"!=typeof t.V){if(h(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function Tn(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Tn)for(n=t.X(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Sn(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];An(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)An(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function An(t,e){return Object.prototype.hasOwnProperty.call(t,e)}E(vn,Ue),vn.prototype[Je]=!0,vn.prototype.addEventListener=function(t,e,n,r){on(this,t,e,n,r)},vn.prototype.removeEventListener=function(t,e,n,r){un(this,t,e,n,r)},vn.prototype.dispatchEvent=function(t){var e,n=this.eb;if(n)for(e=[];n;n=n.eb)e.push(n);n=this.Yb;var r=t.type||t;if("string"==typeof t)t=new We(t,n);else if(t instanceof We)t.target=t.target||n;else{var i=t;pt(t=new We(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var s=t.b=e[o];i=bn(s,r,!0,t)&&i}if(i=bn(s=t.b=n,r,!0,t)&&i,i=bn(s,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=bn(s=t.b=e[o],r,!1,t)&&i;return i},vn.prototype.Ba=function(){if(vn.Za.Ba.call(this),this.u){var t,e=this.u;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Xe(n[r]);delete e.a[t],e.b--}}this.eb=null},(t=Tn.prototype).V=function(){Sn(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.X=function(){return Sn(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return An(this.b,t)?this.b[t]:e},t.set=function(t,e){An(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.X(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var kn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/\\#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Nn(t,e){var n;this.b=this.i=this.f="",this.l=null,this.g=this.c="",this.h=!1,t instanceof Nn?(this.h=void 0!==e?e:t.h,xn(this,t.f),this.i=t.i,this.b=t.b,On(this,t.l),this.c=t.c,Rn(this,Qn(t.a)),this.g=t.g):t&&(n=String(t).match(kn))?(this.h=!!e,xn(this,n[1]||"",!0),this.i=Vn(n[2]||""),this.b=Vn(n[3]||"",!0),On(this,n[4]),this.c=Vn(n[5]||"",!0),Rn(this,n[6]||"",!0),this.g=Vn(n[7]||"")):(this.h=!!e,this.a=new Gn(null,this.h))}function xn(t,e,n){t.f=n?Vn(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function On(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.l=e}else t.l=null}function Rn(t,e,n){e instanceof Gn?(t.a=e,function(t,e){e&&!t.f&&(Wn(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Kn(this,e),Yn(this,n,t))}),t)),t.f=e}(t.a,t.h)):(n||(e=Un(e,zn)),t.a=new Gn(e,t.h))}function Dn(t,e,n){t.a.set(e,n)}function Pn(t,e){return t.a.get(e)}function Ln(t){return t instanceof Nn?new Nn(t):new Nn(t,void 0)}function Mn(t,e){var n=new Nn(null,void 0);return xn(n,"https"),t&&(n.b=t),e&&(n.c=e),n}function Vn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Un(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,jn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function jn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Nn.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Un(e,Fn,!0),":");var n=this.b;return(n||"file"==e)&&(t.push("//"),(e=this.i)&&t.push(Un(e,Fn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.l)&&t.push(":",String(n))),(n=this.c)&&(this.b&&"/"!=n.charAt(0)&&t.push("/"),t.push(Un(n,"/"==n.charAt(0)?Bn:qn,!0))),(n=this.a.toString())&&t.push("?",n),(n=this.g)&&t.push("#",Un(n,Hn)),t.join("")},Nn.prototype.resolve=function(t){var e=new Nn(this),n=!!t.f;n?xn(e,t.f):n=!!t.i,n?e.i=t.i:n=!!t.b,n?e.b=t.b:n=null!=t.l;var r=t.c;if(n)On(e,t.l);else if(n=!!t.c){if("/"!=r.charAt(0))if(this.b&&!this.c)r="/"+r;else{var i=e.c.lastIndexOf("/");-1!=i&&(r=e.c.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(ot(i,"./")||ot(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],s=0;s<i.length;){var a=i[s++];"."==a?r&&s==i.length&&o.push(""):".."==a?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&s==i.length&&o.push("")):(o.push(a),r=!0)}r=o.join("/")}else r=i}return n?e.c=r:n=""!==t.a.toString(),n?Rn(e,Qn(t.a)):n=!!t.g,n&&(e.g=t.g),e};var Fn=/[#\/\?@]/g,qn=/[#\?:]/g,Bn=/[#\?]/g,zn=/[#\?@]/g,Hn=/#/g;function Gn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Wn(t){t.a||(t.a=new Tn,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function $n(t){var e=Cn(t);if(void 0===e)throw Error("Keys are undefined");var n=new Gn(null,void 0);t=In(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];Array.isArray(o)?Yn(n,i,o):n.add(i,o)}return n}function Kn(t,e){Wn(t),e=Xn(t,e),An(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,An((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Sn(t)))}function Jn(t,e){return Wn(t),e=Xn(t,e),An(t.a.b,e)}function Yn(t,e,n){Kn(t,e),0<n.length&&(t.c=null,t.a.set(Xn(t,e),J(n)),t.b+=n.length)}function Qn(t){var e=new Gn;return e.c=t.c,t.a&&(e.a=new Tn(t.a),e.b=t.b),e}function Xn(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function Zn(t){var e=[];return function t(e,n,r){if(null==n)r.push("null");else{if("object"==typeof n){if(Array.isArray(n)){var i=n;n=i.length,r.push("[");for(var o="",s=0;s<n;s++)r.push(o),t(e,i[s],r),o=",";return void r.push("]")}if(!(n instanceof String||n instanceof Number||n instanceof Boolean)){for(i in r.push("{"),o="",n)Object.prototype.hasOwnProperty.call(n,i)&&"function"!=typeof(s=n[i])&&(r.push(o),rr(i,r),r.push(":"),t(e,s,r),o=",");return void r.push("}")}n=n.valueOf()}switch(typeof n){case"string":rr(n,r);break;case"number":r.push(isFinite(n)&&!isNaN(n)?String(n):"null");break;case"boolean":r.push(String(n));break;case"function":r.push("null");break;default:throw Error("Unknown type: "+typeof n)}}}(new tr,t,e),e.join("")}function tr(){}(t=Gn.prototype).add=function(t,e){Wn(this),this.c=null,t=Xn(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(t,e){Wn(this),this.a.forEach((function(n,r){q(n,(function(n){t.call(e,n,r,this)}),this)}),this)},t.X=function(){Wn(this);for(var t=this.a.V(),e=this.a.X(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},t.V=function(t){Wn(this);var e=[];if("string"==typeof t)Jn(this,t)&&(e=K(e,this.a.get(Xn(this,t))));else{t=this.a.V();for(var n=0;n<t.length;n++)e=K(e,t[n])}return e},t.set=function(t,e){return Wn(this),this.c=null,Jn(this,t=Xn(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return t&&0<(t=this.V(t)).length?String(t[0]):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.X(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.V(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var er={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},nr=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function rr(t,e){e.push('"',t.replace(nr,(function(t){var e=er[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),er[t]=e),e})),'"')}function ir(){var t=Er();return Gt&&!!te&&11==te||/Edge\/\d+/.test(t)}function or(){return s.window&&s.window.location.href||self&&self.location&&self.location.href||""}function sr(t,e){e=e||s.window;var n="about:blank";t&&(n=Nt(Ot(t))),e.location.href=n}function ar(t){return!!((t=(t||Er()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function ur(t){t=t||s.window;try{t.close()}catch(e){}}function cr(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(s in e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Er().toLowerCase(),r&&(e.target=r,ot(n,"crios/")&&(e.target="_blank")),wr(Er())==yr&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof kt?n:Ot(void 0!==n.href?n.href:String(n)),n=t.target||n.target,i=[],t)switch(s){case"width":case"height":case"top":case"left":i.push(s+"="+t[s]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(s+"="+(t[s]?1:0))}var s=i.join(",");if((ct("iPhone")&&!ct("iPod")&&!ct("iPad")||ct("iPad")||ct("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(mt(s=le(document,"A"),"HTMLAnchorElement"),e instanceof kt||e instanceof kt||(e="object"==typeof e&&e.ra?e.qa():String(e),xt.test(e)||(e="about:invalid#zClosurez"),e=new kt(Dt,e)),s.href=Nt(e),s.setAttribute("target",n),t.noreferrer&&s.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),s.dispatchEvent(t),s={}):t.noreferrer?(s=r.open("",n,s),t=Nt(e),s&&($t&&ot(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),s.opener=null,t=Vt('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Ft(t)+'">'),r=s.document)&&(r.write(Lt(t)),r.close())):(s=r.open(Nt(e),n,s))&&t.noopener&&(s.opener=null),s)try{s.focus()}catch(a){}return s}var lr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,hr=/^[^@]+@[^@]+$/;function fr(){var t=null;return new ve((function(e){"complete"==s.document.readyState?e():(t=function(){e()},an(window,"load",t))})).o((function(e){throw un(window,"load",t),e}))}function dr(t){return t=t||Er(),!("file:"!==Ar()&&"ionic:"!==Ar()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function pr(){var t=s.window;try{return!(!t||t==t.top)}catch(e){return!1}}function mr(){return void 0!==s.WorkerGlobalScope&&"function"==typeof s.importScripts}function gr(){return iy.a.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":iy.a.INTERNAL.hasOwnProperty("node")?"Node":mr()?"Worker":"Browser"}function vr(){var t=gr();return"ReactNative"===t||"Node"===t}var yr="Firefox";function wr(t){var e=t.toLowerCase();return ot(e,"opera/")||ot(e,"opr/")||ot(e,"opios/")?"Opera":ot(e,"iemobile")?"IEMobile":ot(e,"msie")||ot(e,"trident/")?"IE":ot(e,"edge/")?"Edge":ot(e,"firefox/")?yr:ot(e,"silk/")?"Silk":ot(e,"blackberry")?"Blackberry":ot(e,"webos")?"Webos":!ot(e,"safari/")||ot(e,"chrome/")||ot(e,"crios/")||ot(e,"android")?!ot(e,"chrome/")&&!ot(e,"crios/")||ot(e,"edge/")?ot(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":"Chrome":"Safari"}var br={jd:"FirebaseCore-web",ld:"FirebaseUI-web"};function _r(t,e){e=e||[];var n,r=[],i={};for(n in br)i[br[n]]=!0;for(n=0;n<e.length;n++)void 0!==i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),"Browser"===(r=gr())?r=wr(i=Er()):"Worker"===r&&(r=wr(i=Er())+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function Er(){return s.navigator&&s.navigator.userAgent||""}function Ir(t,e){t=t.split("."),e=e||s;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function Cr(){try{var t=s.localStorage,e=Rr();if(t)return t.setItem(e,"1"),t.removeItem(e),!ir()||!!s.indexedDB}catch(n){return mr()&&!!s.indexedDB}return!1}function Tr(){return(Sr()||"chrome-extension:"===Ar()||dr())&&!vr()&&Cr()&&!mr()}function Sr(){return"http:"===Ar()||"https:"===Ar()}function Ar(){return s.location&&s.location.protocol||null}function kr(t){return!ar(t=t||Er())&&wr(t)!=yr}function Nr(t){return void 0===t?null:Zn(t)}function xr(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!=t[e]&&(n[e]=t[e]);return n}function Or(t){if(null!==t)return JSON.parse(t)}function Rr(t){return t||Math.floor(1e9*Math.random()).toString()}function Dr(t){return"Safari"!=wr(t=t||Er())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function Pr(){var t=s.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function Lr(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=Er(),e=gr(),this.b=ar(t)||"ReactNative"===e}function Mr(){var t=s.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function Vr(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(n){}return null}function Ur(){return!(!Ir("fireauth.oauthhelper",s)&&!Ir("fireauth.iframe",s))}Lr.prototype.get=function(){var t=s.navigator;return!t||"boolean"!=typeof t.onLine||!Sr()&&"chrome-extension:"!==Ar()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var jr,Fr={};function qr(t){Fr[t]||(Fr[t]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t))}try{var Br={};Object.defineProperty(Br,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Br,"abcd",{configurable:!0,enumerable:!0,value:2}),jr=2==Br.abcd}catch(zt){jr=!1}function zr(t,e,n){jr?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function Hr(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&zr(t,n,e[n])}function Gr(t){var e={};return Hr(e,t),e}function Wr(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)zr(e,n,Wr(t[n]));return e}function $r(t){var e=t&&(t[Xr]?"phone":null);if(!(e&&t&&t[Qr]))throw new I("internal-error","Internal assert: invalid MultiFactorInfo object");zr(this,"uid",t[Qr]),zr(this,"displayName",t[Jr]||null);var n=null;t[Yr]&&(n=new Date(t[Yr]).toUTCString()),zr(this,"enrollmentTime",n),zr(this,"factorId",e)}function Kr(t){try{var e=new Zr(t)}catch(n){e=null}return e}$r.prototype.v=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var Jr="displayName",Yr="enrolledAt",Qr="mfaEnrollmentId",Xr="phoneInfo";function Zr(t){$r.call(this,t),zr(this,"phoneNumber",t[Xr])}function ti(t){var e={},n=t[ii],r=t[si],i=t[ai];if(t=Kr(t[oi]),!i||i!=ni&&i!=ri&&!n||i==ri&&!r||i==ei&&!t)throw Error("Invalid checkActionCode response!");i==ri?(e[ci]=n||null,e[hi]=n||null,e[ui]=r):(e[ci]=r||null,e[hi]=r||null,e[ui]=n||null),e[li]=t||null,zr(this,di,i),zr(this,fi,Wr(e))}E(Zr,$r),Zr.prototype.v=function(){var t=Zr.Za.v.call(this);return t.phoneNumber=this.phoneNumber,t};var ei="REVERT_SECOND_FACTOR_ADDITION",ni="EMAIL_SIGNIN",ri="VERIFY_AND_CHANGE_EMAIL",ii="email",oi="mfaInfo",si="newEmail",ai="requestType",ui="email",ci="fromEmail",li="multiFactorInfo",hi="previousEmail",fi="data",di="operation";function pi(t){var e=Pn(t=Ln(t),mi)||null,n=Pn(t,gi)||null,r=Pn(t,wi)||null;if(r=r&&_i[r]||null,!e||!n||!r)throw new I("argument-error",mi+", "+gi+"and "+wi+" are required in a valid action code URL.");Hr(this,{apiKey:e,operation:r,code:n,continueUrl:Pn(t,vi)||null,languageCode:Pn(t,yi)||null,tenantId:Pn(t,bi)||null})}var mi="apiKey",gi="oobCode",vi="continueUrl",yi="languageCode",wi="mode",bi="tenantId",_i={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:ei,signIn:ni,verifyAndChangeEmail:ri,verifyEmail:"VERIFY_EMAIL"};function Ei(t){try{return new pi(t)}catch(e){return null}}function Ii(t){var e=t[ki];if(void 0===e)throw new I("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new I("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[Ci];if(n&&"object"==typeof n){e=n[Oi];var r=n[Ni];if(n=n[xi],"string"==typeof e&&e.length){if(this.a=e,void 0!==r&&"boolean"!=typeof r)throw new I("argument-error",Ni+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new I("argument-error",xi+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==e)throw new I("argument-error",Oi+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new I("missing-android-pkg-name")}}else if(void 0!==n)throw new I("argument-error",Ci+" property must be a non null object when specified.");if(this.f=null,(e=t[Ai])&&"object"==typeof e){if("string"==typeof(e=e[Ri])&&e.length)this.f=e;else if(void 0!==e)throw new I("argument-error",Ri+" property must be a non empty string when specified.")}else if(void 0!==e)throw new I("argument-error",Ai+" property must be a non null object when specified.");if(void 0!==(e=t[Si])&&"boolean"!=typeof e)throw new I("argument-error",Si+" property must be a boolean when specified.");if(this.c=!!e,void 0!==(t=t[Ti])&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new I("argument-error",Ti+" property must be a non empty string when specified.");this.i=t||null}var Ci="android",Ti="dynamicLinkDomain",Si="handleCodeInApp",Ai="iOS",ki="url",Ni="installApp",xi="minimumVersion",Oi="packageName",Ri="bundleId";function Di(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}var Pi=null;function Li(t){var e=Vi(t);if(!(e&&e.sub&&e.iss&&e.aud&&e.exp))throw Error("Invalid JWT");this.g=t,this.c=e.exp,this.h=e.sub,_(),this.a=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.f=e.firebase&&e.firebase.tenant||null,this.b=!!e.is_anonymous||"anonymous"==this.a}function Mi(t){try{return new Li(t)}catch(e){return null}}function Vi(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{return JSON.parse(function(t){var e="";return function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=Pi[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!Pi){Pi={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=t.concat(e[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===Pi[o]&&(Pi[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),s=n(64),a=n(64);if(64===a&&-1===i)break;e(i<<2|o>>4),64!=s&&(e(o<<4&240|s>>2),64!=a&&e(s<<6&192|a))}}(t,(function(t){e+=String.fromCharCode(t)})),e}(t))}catch(r){}return null}Li.prototype.S=function(){return this.f},Li.prototype.i=function(){return this.b},Li.prototype.toString=function(){return this.g};var Ui="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),ji=["client_id","response_type","scope","redirect_uri","state"],Fi={kd:{Ha:"locale",ta:700,sa:600,ea:"facebook.com",Va:ji},md:{Ha:null,ta:500,sa:750,ea:"github.com",Va:ji},nd:{Ha:"hl",ta:515,sa:680,ea:"google.com",Va:ji},td:{Ha:"lang",ta:485,sa:705,ea:"twitter.com",Va:Ui},gd:{Ha:"locale",ta:600,sa:600,ea:"apple.com",Va:[]}};function qi(t){for(var e in Fi)if(Fi[e].ea==t)return Fi[e];return null}function Bi(t){var e={};e["facebook.com"]=$i,e["google.com"]=Ji,e["github.com"]=Ki,e["twitter.com"]=Yi;var n=t&&t[Hi];try{if(n)return e[n]?new e[n](t):new Wi(t);if(void 0!==t[zi])return new Gi(t)}catch(r){}return null}var zi="idToken",Hi="providerId";function Gi(t){var e=t[Hi];if(!e&&t[zi]){var n=Mi(t[zi]);n&&n.a&&(e=n.a)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,void 0!==t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),zr(this,"providerId",e),zr(this,"isNewUser",n)}function Wi(t){Gi.call(this,t),zr(this,"profile",Wr((t=Or(t.rawUserInfo||"{}"))||{}))}function $i(t){if(Wi.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function Ki(t){if(Wi.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");zr(this,"username",this.profile&&this.profile.login||null)}function Ji(t){if(Wi.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function Yi(t){if(Wi.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");zr(this,"username",t.screenName||null)}function Qi(t){var e=Ln(t),n=Pn(e,"link"),r=Pn(Ln(n),"link");return e=Pn(e,"deep_link_id"),Pn(Ln(e),"link")||e||r||n||t}function Xi(t,e){if(!t&&!e)throw new I("internal-error","Internal assert: no raw session string available");if(t&&e)throw new I("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=e||null,this.type=this.a?Zi:to}E(Wi,Gi),E($i,Wi),E(Ki,Wi),E(Ji,Wi),E(Yi,Wi);var Zi="enroll",to="signin";function eo(){}function no(t,e){return t.then((function(t){if(t[Bs]){var n=Mi(t[Bs]);if(!n||e!=n.h)throw new I("user-mismatch");return t}throw new I("user-mismatch")})).o((function(t){throw t&&t.code&&t.code==S+"user-not-found"?new I("user-mismatch"):t}))}function ro(t,e){if(!e)throw new I("internal-error","failed to construct a credential");this.a=e,zr(this,"providerId",t),zr(this,"signInMethod",t)}function io(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function oo(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new ro(t.providerId,t.pendingToken)}catch(e){}return null}function so(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&zr(this,"idToken",e.idToken),e.accessToken&&zr(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&zr(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new I("internal-error","failed to construct a credential");zr(this,"accessToken",e.oauthToken),zr(this,"secret",e.oauthTokenSecret)}zr(this,"providerId",t),zr(this,"signInMethod",n)}function ao(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:$n(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function uo(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new so(t.providerId,e,t.signInMethod)}catch(n){}}return null}function co(t,e){this.Oc=e||[],Hr(this,{providerId:t,isOAuthProvider:!0}),this.Fb={},this.lb=(qi(t)||{}).Ha||null,this.kb=null}function lo(t){if("string"!=typeof t||0!=t.indexOf("saml."))throw new I("argument-error",'SAML provider IDs must be prefixed with "saml."');co.call(this,t,[])}function ho(t){co.call(this,t,ji),this.a=[]}function fo(){ho.call(this,"facebook.com")}function po(t){if(!t)throw new I("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return d(t)&&(e=t.accessToken),(new fo).credential({accessToken:e})}function mo(){ho.call(this,"github.com")}function go(t){if(!t)throw new I("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return d(t)&&(e=t.accessToken),(new mo).credential({accessToken:e})}function vo(){ho.call(this,"google.com"),this.Aa("profile")}function yo(t,e){var n=t;return d(t)&&(n=t.idToken,e=t.accessToken),(new vo).credential({idToken:n,accessToken:e})}function wo(){co.call(this,"twitter.com",Ui)}function bo(t,e){var n=t;if(d(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new I("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new so("twitter.com",n,"twitter.com")}function _o(t,e,n){this.a=t,this.f=e,zr(this,"providerId","password"),zr(this,"signInMethod",n===Io.EMAIL_LINK_SIGN_IN_METHOD?Io.EMAIL_LINK_SIGN_IN_METHOD:Io.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Eo(t){return t&&t.email&&t.password?new _o(t.email,t.password,t.signInMethod):null}function Io(){Hr(this,{providerId:"password",isOAuthProvider:!1})}function Co(t,e){if(!(e=To(e)))throw new I("argument-error","Invalid email link!");return new _o(t,e.code,Io.EMAIL_LINK_SIGN_IN_METHOD)}function To(t){return(t=Ei(t=Qi(t)))&&t.operation===ni?t:null}function So(t){if(!(t.bb&&t.ab||t.Ja&&t.da))throw new I("internal-error");this.a=t,zr(this,"providerId","phone"),this.ea="phone",zr(this,"signInMethod","phone")}function Ao(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return q(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){t[n]&&(e[n]=t[n])})),new So(e)}return null}function ko(t){return t.a.Ja&&t.a.da?{temporaryProof:t.a.Ja,phoneNumber:t.a.da}:{sessionInfo:t.a.bb,code:t.a.ab}}function No(t){try{this.a=t||iy.a.auth()}catch(e){throw new I("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Hr(this,{providerId:"phone",isOAuthProvider:!1})}function xo(t,e){if(!t)throw new I("missing-verification-id");if(!e)throw new I("missing-verification-code");return new So({bb:t,ab:e})}function Oo(t){if(t.temporaryProof&&t.phoneNumber)return new So({Ja:t.temporaryProof,da:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,o=t&&t.oauthIdToken,s=t&&t.pendingToken;try{switch(e){case"google.com":return yo(o,n);case"facebook.com":return po(n);case"github.com":return go(n);case"twitter.com":return bo(n,r);default:return n||r||o||s?s?0==e.indexOf("saml.")?new ro(e,s):new so(e,{pendingToken:s,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new ho(e).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(a){return null}}function Ro(t){if(!t.isOAuthProvider)throw new I("invalid-oauth-provider")}function Do(t,e,n,r,i,o,s){if(this.c=t,this.b=e||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=s||null,this.a=i||null,!this.g&&!this.a)throw new I("invalid-auth-event");if(this.g&&this.a)throw new I("invalid-auth-event");if(this.g&&!this.f)throw new I("invalid-auth-event")}function Po(t){return(t=t||{}).type?new Do(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&C(t.error),t.postBody,t.tenantId):null}function Lo(){this.b=null,this.a=[]}Xi.prototype.Fa=function(){return Ce(this.a?this.a:this.b)},Xi.prototype.v=function(){return this.type==Zi?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},eo.prototype.ia=function(){},eo.prototype.b=function(){},eo.prototype.c=function(){},eo.prototype.v=function(){},ro.prototype.ia=function(t){return aa(t,io(this))},ro.prototype.b=function(t,e){var n=io(this);return n.idToken=e,ua(t,n)},ro.prototype.c=function(t,e){return no(ca(t,io(this)),e)},ro.prototype.v=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},so.prototype.ia=function(t){return aa(t,ao(this))},so.prototype.b=function(t,e){var n=ao(this);return n.idToken=e,ua(t,n)},so.prototype.c=function(t,e){return no(ca(t,ao(this)),e)},so.prototype.v=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},co.prototype.Ia=function(t){return this.Fb=ft(t),this},E(lo,co),E(ho,co),ho.prototype.Aa=function(t){return G(this.a,t)||this.a.push(t),this},ho.prototype.Nb=function(){return J(this.a)},ho.prototype.credential=function(t,e){var n;if(!(n=d(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!n.accessToken)throw new I("argument-error","credential failed: must provide the ID token and/or the access token.");return new so(this.providerId,n,this.providerId)},E(fo,ho),zr(fo,"PROVIDER_ID","facebook.com"),zr(fo,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),E(mo,ho),zr(mo,"PROVIDER_ID","github.com"),zr(mo,"GITHUB_SIGN_IN_METHOD","github.com"),E(vo,ho),zr(vo,"PROVIDER_ID","google.com"),zr(vo,"GOOGLE_SIGN_IN_METHOD","google.com"),E(wo,co),zr(wo,"PROVIDER_ID","twitter.com"),zr(wo,"TWITTER_SIGN_IN_METHOD","twitter.com"),_o.prototype.ia=function(t){return this.signInMethod==Io.EMAIL_LINK_SIGN_IN_METHOD?Ha(t,va,{email:this.a,oobCode:this.f}):Ha(t,ja,{email:this.a,password:this.f})},_o.prototype.b=function(t,e){return this.signInMethod==Io.EMAIL_LINK_SIGN_IN_METHOD?Ha(t,ya,{idToken:e,email:this.a,oobCode:this.f}):Ha(t,Oa,{idToken:e,email:this.a,password:this.f})},_o.prototype.c=function(t,e){return no(this.ia(t),e)},_o.prototype.v=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Hr(Io,{PROVIDER_ID:"password"}),Hr(Io,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Hr(Io,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),So.prototype.ia=function(t){return t.cb(ko(this))},So.prototype.b=function(t,e){var n=ko(this);return n.idToken=e,Ha(t,qa,n)},So.prototype.c=function(t,e){var n=ko(this);return n.operation="REAUTH",no(t=Ha(t,Ba,n),e)},So.prototype.v=function(){var t={providerId:"phone"};return this.a.bb&&(t.verificationId=this.a.bb),this.a.ab&&(t.verificationCode=this.a.ab),this.a.Ja&&(t.temporaryProof=this.a.Ja),this.a.da&&(t.phoneNumber=this.a.da),t},No.prototype.cb=function(t,e){var n=this.a.b;return Ce(e.verify()).then((function(r){if("string"!=typeof r)throw new I("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":var i=d(t)?t.session:null,o=d(t)?t.phoneNumber:t;return(i&&i.type==Zi?i.Fa().then((function(t){return function(t,e){return Ha(t,Da,e).then((function(t){return t.phoneSessionInfo.sessionInfo}))}(n,{idToken:t,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r}})})):i&&i.type==to?i.Fa().then((function(e){return function(t,e){return Ha(t,Pa,e).then((function(t){return t.phoneResponseInfo.sessionInfo}))}(n,{mfaPendingCredential:e,mfaEnrollmentId:t.multiFactorHint&&t.multiFactorHint.uid||t.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})})):function(t,e){return Ha(t,Na,e)}(n,{phoneNumber:o,recaptchaToken:r})).then((function(t){return"function"==typeof e.reset&&e.reset(),t}),(function(t){throw"function"==typeof e.reset&&e.reset(),t}));default:throw new I("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}}))},Hr(No,{PROVIDER_ID:"phone"}),Hr(No,{PHONE_SIGN_IN_METHOD:"phone"}),Do.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},Do.prototype.S=function(){return this.h},Do.prototype.v=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.v()}};var Mo,Vo=null;function Uo(t){var e="unauthorized-domain",n=void 0,r=Ln(t);t=r.b,"chrome-extension"==(r=r.f)?n=jt("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=jt("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",I.call(this,e,n)}function jo(t,e,n){I.call(this,t,n),(t=e||{}).Gb&&zr(this,"email",t.Gb),t.da&&zr(this,"phoneNumber",t.da),t.credential&&zr(this,"credential",t.credential),t.Wb&&zr(this,"tenantId",t.Wb)}function Fo(t){if(t.code){var e=t.code||"";0==e.indexOf(S)&&(e=e.substring(S.length));var n={credential:Oo(t),Wb:t.tenantId};if(t.email)n.Gb=t.email;else if(t.phoneNumber)n.da=t.phoneNumber;else if(!n.credential)return new I(e,t.message||void 0);return new jo(e,n,t.message)}return null}function qo(){}function Bo(){}function zo(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(i){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function Ho(){}function Go(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=w(this.oc,this),this.a.onerror=w(this.Pb,this),this.a.onprogress=w(this.pc,this),this.a.ontimeout=w(this.tc,this)}function Wo(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function $o(t,e,n){this.reset(t,e,n,void 0,void 0)}function Ko(t){this.f=t,this.b=this.c=this.a=null}function Jo(t,e){this.name=t,this.value=e}E(Uo,I),E(jo,I),jo.prototype.v=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.v();return e&&pt(t,e),t},jo.prototype.toJSON=function(){return this.v()},qo.prototype.c=null,E(Bo,qo),Bo.prototype.a=function(){var t=zo(this);return t?new ActiveXObject(t):new XMLHttpRequest},Bo.prototype.b=function(){var t={};return zo(this)&&(t[0]=!0,t[1]=!0),t},Mo=new Bo,E(Ho,qo),Ho.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new Go;throw Error("Unsupported browser")},Ho.prototype.b=function(){return{}},(t=Go.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.oc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Wo(this,4)},t.Pb=function(){this.status=500,this.response=this.responseText="",Wo(this,4)},t.tc=function(){this.Pb()},t.pc=function(){this.status=200,Wo(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},$o.prototype.a=null,$o.prototype.reset=function(t,e,n,r,i){r||_(),delete this.a},Jo.prototype.toString=function(){return this.name};var Yo=new Jo("SEVERE",1e3),Qo=new Jo("WARNING",900),Xo=new Jo("CONFIG",700),Zo=new Jo("FINE",500);Ko.prototype.log=function(t,e,n){if(t.value>=function t(e){return e.c?e.c:e.a?t(e.a):(D("Root logger has no level set."),null)}(this).value)for(f(e)&&(e=e()),t=new $o(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var ts={},es=null;function ns(t){var e;if(es||(es=new Ko(""),ts[""]=es,es.c=Xo),!(e=ts[t])){e=new Ko(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=ns(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,ts[t]=e}return e}function rs(t,e){t&&t.log(Zo,e,void 0)}function is(t){this.f=t}function os(t){vn.call(this),this.s=t,this.readyState=ss,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.i=new Headers,this.b=null,this.m="GET",this.g="",this.a=!1,this.h=ns("goog.net.FetchXmlHttp"),this.l=this.c=this.f=null}E(is,qo),is.prototype.a=function(){return new os(this.f)},is.prototype.b=function(t){return function(){return t}}({}),E(os,vn);var ss=0;function as(t){t.c.read().then(t.nc.bind(t)).catch(t.Sa.bind(t))}function us(t,e){e&&t.f&&(t.status=t.f.status,t.statusText=t.f.statusText),t.readyState=4,t.f=null,t.c=null,t.l=null,cs(t)}function cs(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function ls(t){vn.call(this),this.headers=new Tn,this.D=t||null,this.c=!1,this.B=this.a=null,this.h=this.P=this.l="",this.f=this.O=this.i=this.N=!1,this.g=0,this.s=null,this.m=hs,this.w=this.R=!1}(t=os.prototype).open=function(t,e){if(this.readyState!=ss)throw this.abort(),Error("Error reopening a connection");this.m=t,this.g=e,this.readyState=1,cs(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.i,method:this.m,credentials:void 0,cache:void 0};t&&(e.body=t),this.s.fetch(new Request(this.g,e)).then(this.sc.bind(this),this.Sa.bind(this))},t.abort=function(){this.response=this.responseText="",this.i=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,us(this,!1)),this.readyState=ss},t.sc=function(t){this.a&&(this.f=t,this.b||(this.b=t.headers,this.readyState=2,cs(this)),this.a&&(this.readyState=3,cs(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.qc.bind(this),this.Sa.bind(this)):void 0!==s.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.l=new TextDecoder,as(this)):t.text().then(this.rc.bind(this),this.Sa.bind(this)))))},t.nc=function(t){if(this.a){var e=this.l.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?us(this,!0):cs(this),3==this.readyState&&as(this)}},t.rc=function(t){this.a&&(this.response=this.responseText=t,us(this,!0))},t.qc=function(t){this.a&&(this.response=t,us(this,!0))},t.Sa=function(t){var e=this.h;e&&e.log(Qo,"Failed to fetch url "+this.g,t instanceof Error?t:Error(t)),this.a&&us(this,!0)},t.setRequestHeader=function(t,e){this.i.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.h)&&t.log(Qo,"Attempting to get response header but no headers have been received for url: "+this.g,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.h;return t&&t.log(Qo,"Attempting to get all response headers but no headers have been received for url: "+this.g,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},E(ls,vn);var hs="";ls.prototype.b=ns("goog.net.XhrIo");var fs=/^https?$/i,ds=["POST","PUT"];function ps(t){return"content-type"==t.toLowerCase()}function ms(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,gs(t),ys(t)}function gs(t){t.N||(t.N=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function vs(t){if(t.c&&void 0!==o)if(t.B[1]&&4==bs(t)&&2==_s(t))rs(t.b,Es(t,"Local request error detected and ignored"));else if(t.i&&4==bs(t))_n(t.Sb,0,t);else if(t.dispatchEvent("readystatechange"),4==bs(t)){rs(t.b,Es(t,"Request complete")),t.c=!1;try{var e,n=_s(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var a=String(t.l).match(kn)[1]||null;if(!a&&s.self&&s.self.location){var u=s.self.location.protocol;a=u.substr(0,u.length-1)}i=!fs.test(a?a.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var c=2<bs(t)?t.a.statusText:""}catch(l){rs(t.b,"Can not get status: "+l.message),c=""}t.h=c+" ["+_s(t)+"]",gs(t)}}finally{ys(t)}}}function ys(t,e){if(t.a){ws(t);var n=t.a,r=t.B[0]?c:null;t.a=null,t.B=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){(t=t.b)&&t.log(Yo,"Problem encountered resetting onreadystatechange: "+i.message,void 0)}}}function ws(t){t.a&&t.w&&(t.a.ontimeout=null),t.s&&(s.clearTimeout(t.s),t.s=null)}function bs(t){return t.a?t.a.readyState:0}function _s(t){try{return 2<bs(t)?t.a.status:-1}catch(e){return-1}}function Es(t,e){return e+" ["+t.P+" "+t.l+" "+_s(t)+"]"}function Is(t){var e=Ps;this.g=[],this.w=e,this.s=t||null,this.f=this.a=!1,this.c=void 0,this.u=this.B=this.i=!1,this.h=0,this.b=null,this.l=0}function Cs(t,e,n){t.a=!0,t.c=n,t.f=!e,ks(t)}function Ts(t){if(t.a){if(!t.u)throw new Ns(t);t.u=!1}}function Ss(t,e,n,r){t.g.push([e,n,r]),t.a&&ks(t)}function As(t){return H(t.g,(function(t){return f(t[1])}))}function ks(t){if(t.h&&t.a&&As(t)){var e=t.h,n=Rs[e];n&&(s.clearTimeout(n.a),delete Rs[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.i;){var i=t.g.shift(),o=i[0],a=i[1];if(i=i[2],o=t.f?a:o)try{var u=o.call(i||t.s,e);void 0!==u&&(t.f=t.f&&(u==e||u instanceof Error),t.c=e=u),(x(e)||"function"==typeof s.Promise&&e instanceof s.Promise)&&(r=!0,t.i=!0)}catch(c){e=c,t.f=!0,As(t)||(n=!0)}}t.c=e,r&&(u=w(t.m,t,!0),r=w(t.m,t,!1),e instanceof Is?(Ss(e,u,r),e.B=!0):e.then(u,r)),n&&(e=new Os(e),Rs[e.a]=e,t.h=e.a)}function Ns(){O.call(this)}function xs(){O.call(this)}function Os(t){this.a=s.setTimeout(w(this.c,this),0),this.b=t}(t=ls.prototype).Ka=function(){void 0!==o&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",rs(this.b,Es(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(rs(this.b,Es(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),ys(this))},t.Ba=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),ys(this,!0)),ls.Za.Ba.call(this)},t.Sb=function(){this.wa||(this.O||this.i||this.f?vs(this):this.Hc())},t.Hc=function(){vs(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case hs:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(Yo,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(e){return rs(this.b,"Can not get response: "+e.message),null}},Is.prototype.cancel=function(t){if(this.a)this.c instanceof Is&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.w?this.w.call(this.s,this):this.u=!0,this.a||(t=new xs(this),Ts(this),Cs(this,!1,t))}},Is.prototype.m=function(t,e){this.i=!1,Cs(this,t,e)},Is.prototype.then=function(t,e,n){var r,i,o=new ve((function(t,e){r=t,i=e}));return Ss(this,r,(function(t){t instanceof xs?o.cancel():i(t)})),o.then(t,e,n)},Is.prototype.$goog_Thenable=!0,E(Ns,O),Ns.prototype.message="Deferred has already fired",Ns.prototype.name="AlreadyCalledError",E(xs,O),xs.prototype.message="Deferred was canceled",xs.prototype.name="CanceledError",Os.prototype.c=function(){throw delete Rs[this.a],this.b};var Rs={};function Ds(t){var e={},n=e.document||document,r=Et(t).toString(),i=le(document,"SCRIPT"),o={Tb:i,Ka:void 0},c=new Is(o),l=null,h=null!=e.timeout?e.timeout:5e3;return 0<h&&(l=window.setTimeout((function(){Ls(i,!0);var t=new Us(Vs,"Timeout reached for loading script "+r);Ts(c),Cs(c,!1,t)}),h),o.Ka=l),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Ls(i,e.ud||!1,l),Ts(c),Cs(c,!0,null))},i.onerror=function(){Ls(i,!0,l);var t=new Us(Ms,"Error while loading script "+r);Ts(c),Cs(c,!1,t)},pt(o=e.attributes||{},{type:"text/javascript",charset:"UTF-8"}),oe(i,o),function(t,e){mt(t,"HTMLScriptElement"),t.src=Et(e),null===u&&(u=(e=(e=s.document).querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&a.test(e)?e:""),(e=u)&&t.setAttribute("nonce",e)}(i,t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(i),c}function Ps(){if(this&&this.Tb){var t=this.Tb;t&&"SCRIPT"==t.tagName&&Ls(t,!0,this.Ka)}}function Ls(t,e,n){null!=n&&s.clearTimeout(n),t.onload=c,t.onerror=c,t.onreadystatechange=c,e&&window.setTimeout((function(){t&&t.parentNode&&t.parentNode.removeChild(t)}),0)}var Ms=0,Vs=1;function Us(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),O.call(this,n),this.code=t}function js(t){this.f=t}function Fs(t,e,n){if(this.c=t,this.u=(t=e||{}).secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=t.secureTokenTimeout||zs,this.g=ft(t.secureTokenHeaders||Hs),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.l=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.i=t.firebaseTimeout||Gs,this.a=ft(t.firebaseHeaders||Ws),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==gr(),!(n=s.XMLHttpRequest||n&&iy.a.INTERNAL.node&&iy.a.INTERNAL.node.XMLHttpRequest)&&!mr())throw new I("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,this.f=mr()?new is(self):vr()?new js(n):new Ho,this.b=null}E(Us,O),E(js,qo),js.prototype.a=function(){return new this.f},js.prototype.b=function(){return{}};var qs,Bs="idToken",zs=new Lr(3e4,6e4),Hs={"Content-Type":"application/x-www-form-urlencoded"},Gs=new Lr(3e4,6e4),Ws={"Content-Type":"application/json"};function $s(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function Ks(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function Js(t,e,n,r,i,o,a){(function(){var t=Er();return!((t="Chrome"!=wr(t)?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t||Gt&&te&&!(9<te))})()||mr()?t=w(t.w,t):(qs||(qs=new ve((function(t,e){!function(t,e){((window.gapi||{}).client||{}).request?t():(s[Qs]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},function(t,e){Ss(t,null,e,void 0)}(Ds(It(Ys,{onload:Qs})),(function(){e(Error("CORS_UNSUPPORTED"))})))}(t,e)}))),t=w(t.s,t)),t(e,n,r,i,o,a)}Fs.prototype.S=function(){return this.b},Fs.prototype.w=function(t,e,n,r,i,o){if(mr()&&(void 0===s.fetch||void 0===s.Headers||void 0===s.Request))throw new I("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var a=new ls(this.f);if(o){a.g=Math.max(0,o);var u=setTimeout((function(){a.dispatchEvent("timeout")}),o)}yn(a,"complete",(function(){u&&clearTimeout(u);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return rs(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(n){t=null}e&&e(t)})),wn(a,"ready",(function(){u&&clearTimeout(u),qe(this)})),wn(a,"timeout",(function(){u&&clearTimeout(u),qe(this),e&&e(null)})),function(t,e,n,r,i){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.P=n,t.N=!1,t.c=!0,t.a=t.D?t.D.a():Mo.a(),t.B=function(t){return t.c||(t.c=t.b())}(t.D?t.D:Mo),t.a.onreadystatechange=w(t.Sb,t);try{rs(t.b,Es(t,"Opening Xhr")),t.O=!0,t.a.open(n,String(e),!0),t.O=!1}catch(a){return rs(t.b,Es(t,"Error opening Xhr: "+a.message)),void ms(t,a)}e=r||"";var o=new Tn(t.headers);i&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(h(t)||"string"==typeof t)q(t,e,void 0);else for(var n=Cn(t),r=In(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(i,(function(t,e){o.set(e,t)})),i=function(t){t:{for(var e=ps,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(o.X()),r=s.FormData&&e instanceof s.FormData,!G(ds,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(t,e){this.a.setRequestHeader(e,t)}),t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.R&&(t.a.withCredentials=t.R);try{ws(t),0<t.g&&(t.w=function(t){return Gt&&ne(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(t.a),rs(t.b,Es(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.w)),t.w?(t.a.timeout=t.g,t.a.ontimeout=w(t.Ka,t)):t.s=_n(t.Ka,t.g,t)),rs(t.b,Es(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(a){rs(t.b,Es(t,"Send error: "+a.message)),ms(t,a)}}(a,t,n,r,i)};var Ys=new gt(wt,"https://apis.google.com/js/client.js?onload=%{onload}"),Qs="__fcb"+Math.floor(1e6*Math.random()).toString();function Xs(t){if("string"!=typeof(t=t.email)||!hr.test(t))throw new I("invalid-email")}function Zs(t){"email"in t&&Xs(t)}function ta(t){if(!t[Bs]){if(t.mfaPendingCredential)throw new I("multi-factor-auth-required",null,ft(t));throw new I("internal-error")}}function ea(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new I("internal-error")}else{if(!t.sessionInfo)throw new I("missing-verification-id");if(!t.code)throw new I("missing-verification-code")}}Fs.prototype.s=function(t,e,n,r,i){var o=this;qs.then((function(){window.gapi.client.setApiKey(o.c);var s=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(s),e&&e(t)}})})).o((function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})}))},Fs.prototype.vb=function(){return Ha(this,Ra,{})},Fs.prototype.xb=function(t,e){return Ha(this,xa,{idToken:t,email:e})},Fs.prototype.yb=function(t,e){return Ha(this,Oa,{idToken:t,password:e})};var na={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function ra(t){if(!t.phoneVerificationInfo)throw new I("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new I("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new I("missing-verification-code")}function ia(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new I("internal-error")}function oa(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&Jn(t=new Gn(t.postBody),"nonce")&&(e.nonce=t.get("nonce"))),e}function sa(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=Fo(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=Fo(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=Fo(t)):t.errorMessage&&(e=Ga(t.errorMessage)),e)throw e;ta(t)}function aa(t,e){return e.returnIdpCredential=!0,Ha(t,La,e)}function ua(t,e){return e.returnIdpCredential=!0,Ha(t,Va,e)}function ca(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,Ha(t,Ma,e)}function la(t){if(!t.oobCode)throw new I("invalid-action-code")}(t=Fs.prototype).zb=function(t,e){var n={idToken:t},r=[];return lt(na,(function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),Ha(this,xa,n)},t.rb=function(t,e){return pt(t={requestType:"PASSWORD_RESET",email:t},e),Ha(this,Ta,t)},t.sb=function(t,e){return pt(t={requestType:"EMAIL_SIGNIN",email:t},e),Ha(this,Ea,t)},t.qb=function(t,e){return pt(t={requestType:"VERIFY_EMAIL",idToken:t},e),Ha(this,Ia,t)},t.Ab=function(t,e,n){return pt(t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:e},n),Ha(this,Ca,t)},t.cb=function(t){return Ha(this,Fa,t)},t.jb=function(t,e){return Ha(this,ka,{oobCode:t,newPassword:e})},t.Pa=function(t){return Ha(this,fa,{oobCode:t})},t.fb=function(t){return Ha(this,ha,{oobCode:t})};var ha={endpoint:"setAccountInfo",A:la,Y:"email",C:!0},fa={endpoint:"resetPassword",A:la,G:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e&&"VERIFY_AND_CHANGE_EMAIL"!=e)throw new I("internal-error")},C:!0},da={endpoint:"signupNewUser",A:function(t){if(Xs(t),!t.password)throw new I("weak-password")},G:ta,U:!0,C:!0},pa={endpoint:"createAuthUri",C:!0},ma={endpoint:"deleteAccount",M:["idToken"]},ga={endpoint:"setAccountInfo",M:["idToken","deleteProvider"],A:function(t){if("array"!=l(t.deleteProvider))throw new I("internal-error")}},va={endpoint:"emailLinkSignin",M:["email","oobCode"],A:Xs,G:ta,U:!0,C:!0},ya={endpoint:"emailLinkSignin",M:["idToken","email","oobCode"],A:Xs,G:ta,U:!0},wa={endpoint:"accounts/mfaEnrollment:finalize",M:["idToken","phoneVerificationInfo"],A:ra,G:ta,C:!0,La:!0},ba={endpoint:"accounts/mfaSignIn:finalize",M:["mfaPendingCredential","phoneVerificationInfo"],A:ra,G:ta,C:!0,La:!0},_a={endpoint:"getAccountInfo"},Ea={endpoint:"getOobConfirmationCode",M:["requestType"],A:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new I("internal-error");Xs(t)},Y:"email",C:!0},Ia={endpoint:"getOobConfirmationCode",M:["idToken","requestType"],A:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new I("internal-error")},Y:"email",C:!0},Ca={endpoint:"getOobConfirmationCode",M:["idToken","newEmail","requestType"],A:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new I("internal-error")},Y:"email",C:!0},Ta={endpoint:"getOobConfirmationCode",M:["requestType"],A:function(t){if("PASSWORD_RESET"!=t.requestType)throw new I("internal-error");Xs(t)},Y:"email",C:!0},Sa={hb:!0,endpoint:"getProjectConfig",Rb:"GET"},Aa={hb:!0,endpoint:"getRecaptchaParam",Rb:"GET",G:function(t){if(!t.recaptchaSiteKey)throw new I("internal-error")}},ka={endpoint:"resetPassword",A:la,Y:"email",C:!0},Na={endpoint:"sendVerificationCode",M:["phoneNumber","recaptchaToken"],Y:"sessionInfo",C:!0},xa={endpoint:"setAccountInfo",M:["idToken"],A:Zs,U:!0},Oa={endpoint:"setAccountInfo",M:["idToken"],A:function(t){if(Zs(t),!t.password)throw new I("weak-password")},G:ta,U:!0},Ra={endpoint:"signupNewUser",G:ta,U:!0,C:!0},Da={endpoint:"accounts/mfaEnrollment:start",M:["idToken","phoneEnrollmentInfo"],A:function(t){if(!t.phoneEnrollmentInfo)throw new I("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new I("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new I("missing-app-credential")},G:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new I("internal-error")},C:!0,La:!0},Pa={endpoint:"accounts/mfaSignIn:start",M:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new I("missing-app-credential")},G:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new I("internal-error")},C:!0,La:!0},La={endpoint:"verifyAssertion",A:ia,Wa:oa,G:sa,U:!0,C:!0},Ma={endpoint:"verifyAssertion",A:ia,Wa:oa,G:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new I("user-not-found");if(t.errorMessage)throw Ga(t.errorMessage);ta(t)},U:!0,C:!0},Va={endpoint:"verifyAssertion",A:function(t){if(ia(t),!t.idToken)throw new I("internal-error")},Wa:oa,G:sa,U:!0},Ua={endpoint:"verifyCustomToken",A:function(t){if(!t.token)throw new I("invalid-custom-token")},G:ta,U:!0,C:!0},ja={endpoint:"verifyPassword",A:function(t){if(Xs(t),!t.password)throw new I("wrong-password")},G:ta,U:!0,C:!0},Fa={endpoint:"verifyPhoneNumber",A:ea,G:ta,C:!0},qa={endpoint:"verifyPhoneNumber",A:function(t){if(!t.idToken)throw new I("internal-error");ea(t)},G:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",Fo(t);ta(t)}},Ba={Eb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:ea,G:ta,C:!0},za={endpoint:"accounts/mfaEnrollment:withdraw",M:["idToken","mfaEnrollmentId"],G:function(t){if(!!t[Bs]^!!t.refreshToken)throw new I("internal-error")},C:!0,La:!0};function Ha(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(null==r||""===r)return!1}return!0}(n,e.M))return Te(new I("internal-error"));var r,i=!!e.La,o=e.Rb||"POST";return Ce(n).then(e.A).then((function(){return e.U&&(n.returnSecureToken=!0),e.C&&t.b&&void 0===n.tenantId&&(n.tenantId=t.b),function(t,e,n,r,i,o,s){var a=Ln(e+n);Dn(a,"key",t.c),s&&Dn(a,"cb",_().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&Dn(a,c,i[c]);return new ve((function(e,n){Js(t,a.toString(),(function(t){t?t.error?n(Wa(t,o||{})):e(t):n(new I("network-request-failed"))}),r,u?void 0:Zn(xr(i)),t.a,t.i.get())}))}(t,i?t.l:t.h,e.endpoint,o,n,e.Eb,e.hb||!1)})).then((function(t){return r=t,e.Wa?e.Wa(n,r):r})).then(e.G).then((function(){if(!e.Y)return r;if(!(e.Y in r))throw new I("internal-error");return r[e.Y]}))}function Ga(t){return Wa({error:{errors:[{message:t}],code:400,message:t}})}function Wa(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new I(r[n]):null)return n;for(var i in n=t.error&&t.error.message||"",pt(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,r)if(0===n.indexOf(i))return new I(r[i],e);return!e&&t&&(e=Nr(t)),new I("internal-error",e)}function $a(t){this.b=t,this.a=null,this.nb=function(t){return(Qa||(Qa=new ve((function(t,e){function n(){Pr(),Ir("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){Pr(),e(Error("Network Error"))},timeout:Ja.get()})}if(Ir("gapi.iframes.Iframe"))t();else if(Ir("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();s[r]=function(){Ir("gapi.load")?n():e(Error("Network Error"))},Ce(Ds(r=It(Ka,{onload:r}))).o((function(){e(Error("Network Error"))}))}})).o((function(t){throw Qa=null,t})))).then((function(){return new ve((function(e,n){Ir("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:Ir("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),Ya.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var Ka=new gt(wt,"https://apis.google.com/js/api.js?onload=%{onload}"),Ja=new Lr(3e4,6e4),Ya=new Lr(5e3,15e3),Qa=null;function Xa(t,e,n){this.i=t,this.g=e,this.h=n,this.f=null,this.a=Mn(this.i,"/__/auth/iframe"),Dn(this.a,"apiKey",this.g),Dn(this.a,"appName",this.h),this.b=null,this.c=[]}function Za(t,e,n,r,i){this.s=t,this.m=e,this.c=n,this.u=r,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function tu(t){try{return iy.a.app(t).auth().Ea()}catch(e){return[]}}function eu(t,e,n,r,i){this.u=t,this.f=e,this.b=n,this.c=r||null,this.h=i||null,this.m=this.s=this.w=null,this.g=[],this.l=this.a=null}function nu(t){var e=or();return function(t){return Ha(t,Sa,{}).then((function(t){return t.authorizedDomains||[]}))}(t).then((function(t){t:{var n=Ln(e),r=n.f;n=n.b;for(var i=0;i<t.length;i++){var o=t[i],s=n,a=r;if(0==o.indexOf("chrome-extension://")?s=Ln(o).b==s&&"chrome-extension"==a:"http"!=a&&"https"!=a?s=!1:lr.test(o)?s=s==o:(o=o.split(".").join("\\."),s=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)),s){t=!0;break t}}t=!1}if(!t)throw new Uo(or())}))}function ru(t){return t.l?t.l:(t.l=fr().then((function(){if(!t.s){var e=t.c,n=t.h,r=tu(t.b),i=new Xa(t.u,t.f,t.b);i.f=e,i.b=n,i.c=J(r||[]),t.s=i.toString()}t.i=new $a(t.s),function(t){if(!t.i)throw Error("IfcHandler must be initialized!");!function(t,e){t.nb.then((function(){t.a.register("authEvent",e,Ir("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(t.i,(function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=Po(e.authEvent),n=0;n<t.g.length;n++)r=t.g[n](e)||r;return(n={}).status=r?"ACK":"ERROR",Ce(n)}return n.status="ERROR",Ce(n)}))}(t)})),t.l)}function iu(t){return t.m||(t.w=t.c?_r(t.c,tu(t.b)):null,t.m=new Fs(t.f,N(t.h),t.w)),t.m}function ou(t,e,n,r,i,o,s,a,u,c,l){return(t=new Za(t,e,n,r,i)).l=o,t.g=s,t.i=a,t.b=ft(u||null),t.f=c,t.ub(l).toString()}function su(t){if(this.a=t||iy.a.INTERNAL.reactNative&&iy.a.INTERNAL.reactNative.AsyncStorage,!this.a)throw new I("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function au(t){this.b=t,this.a={},this.f=w(this.c,this)}Xa.prototype.toString=function(){return this.f?Dn(this.a,"v",this.f):Kn(this.a.a,"v"),this.b?Dn(this.a,"eid",this.b):Kn(this.a.a,"eid"),this.c.length?Dn(this.a,"fw",this.c.join(",")):Kn(this.a.a,"fw"),this.a.toString()},Za.prototype.ub=function(t){return this.h=t,this},Za.prototype.toString=function(){var t=Mn(this.s,"/__/auth/handler");if(Dn(t,"apiKey",this.m),Dn(t,"appName",this.c),Dn(t,"authType",this.u),this.a.isOAuthProvider){var e=this.a;try{var n=iy.a.app(this.c).auth().ja()}catch(a){n=null}for(var r in e.kb=n,Dn(t,"providerId",this.a.providerId),n=xr((e=this.a).Fb))n[r]=n[r].toString();r=e.Oc,n=ft(n);for(var i=0;i<r.length;i++){var o=r[i];o in n&&delete n[o]}e.lb&&e.kb&&!n[e.lb]&&(n[e.lb]=e.kb),ht(n)||Dn(t,"customParameters",Nr(n))}if("function"==typeof this.a.Nb&&(e=this.a.Nb()).length&&Dn(t,"scopes",e.join(",")),this.l?Dn(t,"redirectUrl",this.l):Kn(t.a,"redirectUrl"),this.g?Dn(t,"eventId",this.g):Kn(t.a,"eventId"),this.i?Dn(t,"v",this.i):Kn(t.a,"v"),this.b)for(var s in this.b)this.b.hasOwnProperty(s)&&!Pn(t,s)&&Dn(t,s,this.b[s]);return this.h?Dn(t,"tid",this.h):Kn(t.a,"tid"),this.f?Dn(t,"eid",this.f):Kn(t.a,"eid"),(s=tu(this.c)).length&&Dn(t,"fw",s.join(",")),t.toString()},(t=eu.prototype).Lb=function(t,e,n){var r=new I("popup-closed-by-user"),i=new I("web-storage-unsupported"),o=this,s=!1;return this.ka().then((function(){(function(t){var e={type:"webStorageSupport"};return ru(t).then((function(){return function(t,e){return t.nb.then((function(){return new ve((function(n){t.a.send(e.type,e,n,Ir("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(t.i,e)})).then((function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(t&&ur(t),e(i),s=!0)}))})).o((function(){})).then((function(){if(!s)return function(t){return new ve((function(e){return function n(){En(2e3).then((function(){if(t&&!t.closed)return n();e()}))}()}))}(t)})).then((function(){if(!s)return En(n).then((function(){e(r)}))}))},t.Ub=function(){var t=Er();return!kr(t)&&!Dr(t)},t.Qb=function(){return!1},t.Jb=function(t,e,n,r,i,o,s,a){if(!t)return Te(new I("popup-blocked"));if(s&&!kr())return this.ka().o((function(e){ur(t),i(e)})),r(),Ce();this.a||(this.a=nu(iu(this)));var u=this;return this.a.then((function(){var e=u.ka().o((function(e){throw ur(t),i(e),e}));return r(),e})).then((function(){Ro(n),s||sr(ou(u.u,u.f,u.b,e,n,null,o,u.c,void 0,u.h,a),t)})).o((function(t){throw"auth/network-request-failed"==t.code&&(u.a=null),t}))},t.Kb=function(t,e,n,r){this.a||(this.a=nu(iu(this)));var i=this;return this.a.then((function(){Ro(e),sr(ou(i.u,i.f,i.b,t,e,or(),n,i.c,void 0,i.h,r))})).o((function(t){throw"auth/network-request-failed"==t.code&&(i.a=null),t}))},t.ka=function(){var t=this;return ru(this).then((function(){return t.i.nb})).o((function(){throw t.a=null,new I("network-request-failed")}))},t.Xb=function(){return!0},t.Ca=function(t){this.g.push(t)},t.Qa=function(t){$(this.g,(function(e){return e==t}))},(t=su.prototype).get=function(t){return Ce(this.a.getItem(t)).then((function(t){return t&&Or(t)}))},t.set=function(t,e){return Ce(this.a.setItem(t,Nr(e)))},t.T=function(t){return Ce(this.a.removeItem(t))},t.ba=function(){},t.ha=function(){};var uu,cu=[];function lu(t,e,n){ht(t.a)&&t.b.addEventListener("message",t.f),void 0===t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function hu(t){this.a=t}function fu(t){this.c=t,this.b=!1,this.a=[]}function du(t,e,n,r){var i,o,s,a,u=n||{},c=null;if(t.b)return Te(Error("connection_unavailable"));var l=r?800:50,h="undefined"!=typeof MessageChannel?new MessageChannel:null;return new ve((function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),s=setTimeout((function(){r(Error("unsupported_event"))}),l),t.a.push(c={messageChannel:h,onMessage:o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(s),a=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===t.data.status?(clearTimeout(a),void 0!==t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(s),clearTimeout(a),r(Error("invalid_response"))))}}),h.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:i,data:u},[h.port2])):r(Error("connection_unavailable"))})).then((function(e){return pu(t,c),e})).o((function(e){throw pu(t,c),e}))}function pu(t,e){if(e){var n=e.messageChannel;n&&(n.port1.removeEventListener("message",e.onMessage),n.port1.close()),$(t.a,(function(t){return t==e}))}}function mu(){if(!vu())throw new I("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.u=s.indexedDB,this.type="indexedDB",this.g=this.l=this.f=this.i=null,this.s=!1,this.h=null;var t=this;mr()&&self?(this.l=function(){var t=mr()?self:null;if(q(cu,(function(n){n.b==t&&(e=n)})),!e){var e=new au(t);cu.push(e)}return e}(),lu(this.l,"keyChanged",(function(e,n){return Eu(t).then((function(e){return 0<e.length&&q(t.a,(function(t){t(e)})),{keyProcessed:G(e,n.key)}}))})),lu(this.l,"ping",(function(){return Ce(["keyChanged"])}))):function(){var t=s.navigator;return t&&t.serviceWorker?Ce().then((function(){return t.serviceWorker.ready})).then((function(t){return t.active||null})).o((function(){return null})):Ce(null)}().then((function(e){(t.h=e)&&(t.g=new fu(new hu(e)),du(t.g,"ping",null,!0).then((function(e){e[0].fulfilled&&G(e[0].value,"keyChanged")&&(t.s=!0)})).o((function(){})))}))}function gu(t){return t.m||(t.m=function t(e){return new ve((function(n,r){var i=e.u.open("firebaseLocalStorageDb",1);i.onerror=function(t){try{t.preventDefault()}catch(e){}r(Error(t.target.error))},i.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){r(e)}},i.onsuccess=function(i){(i=i.target.result).objectStoreNames.contains("firebaseLocalStorage")?n(i):function(t){return new ve((function(e,n){var r=t.u.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}}))}(e).then((function(){return t(e)})).then((function(t){n(t)})).o((function(t){r(t)}))}}))}(t)),t.m}function vu(){try{return!!s.indexedDB}catch(zt){return!1}}function yu(t){return t.objectStore("firebaseLocalStorage")}function wu(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function bu(t){return new ve((function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}}))}function _u(t,e){return t.g&&t.h&&function(){var t=s.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.h?du(t.g,"keyChanged",{key:e},t.s).then((function(){})).o((function(){})):Ce()}function Eu(t){return gu(t).then((function(t){var e=yu(wu(t,!1));return e.getAll?bu(e.getAll()):new ve((function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){n(t.target.error)}}))})).then((function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=function t(e,n){var r,i=[];for(r in e)r in n?typeof e[r]!=typeof n[r]?i.push(r):"object"==typeof e[r]&&null!=e[r]&&null!=n[r]?0<t(e[r],n[r]).length&&i.push(r):e[r]!==n[r]&&i.push(r):i.push(r);for(r in n)r in e||i.push(r);return i}(t.c,n),t.c=n}return r}))}function Iu(t){t.i&&t.i.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function Cu(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=Ce().then((function(){if(vu()){var t=Rr(),r="__sak"+t;return uu||(uu=new mu),(n=uu).set(r,t).then((function(){return n.get(r)})).then((function(e){if(e!==t)throw Error("indexedDB not supported!");return n.T(r)})).then((function(){return n})).o((function(){return e.c}))}return e.c})).then((function(t){return e.type=t.type,t.ba((function(t){q(e.a,(function(e){e(t)}))})),t}))}function Tu(){this.a={},this.type="inMemory"}function Su(){if(!function(){var t="Node"==gr();if(!(t=Au()||t&&iy.a.INTERNAL.node&&iy.a.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==gr())throw new I("internal-error","The LocalStorage compatibility library was not found.");throw new I("web-storage-unsupported")}this.a=Au()||iy.a.INTERNAL.node.localStorage,this.type="localStorage"}function Au(){try{var t=s.localStorage,e=Rr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function ku(){this.type="nullStorage"}function Nu(){if(!function(){var t="Node"==gr();if(!(t=xu()||t&&iy.a.INTERNAL.node&&iy.a.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==gr())throw new I("internal-error","The SessionStorage compatibility library was not found.");throw new I("web-storage-unsupported")}this.a=xu()||iy.a.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function xu(){try{var t=s.sessionStorage,e=Rr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function Ou(){var t={};t.Browser=Pu,t.Node=Lu,t.ReactNative=Mu,t.Worker=Vu,this.a=t[gr()]}au.prototype.c=function(t){var e=t.data.eventType,n=t.data.eventId,r=this.a[e];if(r&&0<r.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var i=[];q(r,(function(e){i.push(Ce().then((function(){return e(t.origin,t.data.data)})))})),Ae(i).then((function(r){var i=[];q(r,(function(t){i.push({fulfilled:t.Mb,value:t.value,reason:t.reason?t.reason.message:void 0})})),q(i,(function(t){for(var e in t)void 0===t[e]&&delete t[e]})),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:i})}))}},hu.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},fu.prototype.close=function(){for(;0<this.a.length;)pu(this,this.a[0]);this.b=!0},(t=mu.prototype).set=function(t,e){var n,r=!1,i=this;return gu(this).then((function(e){return bu((e=yu(wu(n=e,!0))).get(t))})).then((function(o){var s=yu(wu(n,!0));return o?(o.value=e,bu(s.put(o))):(i.b++,r=!0,(o={}).fbase_key=t,o.value=e,bu(s.add(o)))})).then((function(){return i.c[t]=e,_u(i,t)})).ma((function(){r&&i.b--}))},t.get=function(t){return gu(this).then((function(e){return bu(yu(wu(e,!1)).get(t))})).then((function(t){return t&&t.value}))},t.T=function(t){var e=!1,n=this;return gu(this).then((function(r){return e=!0,n.b++,bu(yu(wu(r,!0)).delete(t))})).then((function(){return delete n.c[t],_u(n,t)})).ma((function(){e&&n.b--}))},t.ba=function(t){0==this.a.length&&function(t){Iu(t),function e(){t.f=setTimeout((function(){t.i=Eu(t).then((function(e){0<e.length&&q(t.a,(function(t){t(e)}))})).then((function(){e()})).o((function(t){"STOP_EVENT"!=t.message&&e()}))}),800)}()}(this),this.a.push(t)},t.ha=function(t){$(this.a,(function(e){return e==t})),0==this.a.length&&Iu(this)},(t=Cu.prototype).get=function(t){return this.b.then((function(e){return e.get(t)}))},t.set=function(t,e){return this.b.then((function(n){return n.set(t,e)}))},t.T=function(t){return this.b.then((function(e){return e.T(t)}))},t.ba=function(t){this.a.push(t)},t.ha=function(t){$(this.a,(function(e){return e==t}))},(t=Tu.prototype).get=function(t){return Ce(this.a[t])},t.set=function(t,e){return this.a[t]=e,Ce()},t.T=function(t){return delete this.a[t],Ce()},t.ba=function(){},t.ha=function(){},(t=Su.prototype).get=function(t){var e=this;return Ce().then((function(){return Or(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return Ce().then((function(){var r=Nr(e);null===r?n.T(t):n.a.setItem(t,r)}))},t.T=function(t){var e=this;return Ce().then((function(){e.a.removeItem(t)}))},t.ba=function(t){s.window&&on(s.window,"storage",t)},t.ha=function(t){s.window&&un(s.window,"storage",t)},(t=ku.prototype).get=function(){return Ce(null)},t.set=function(){return Ce()},t.T=function(){return Ce()},t.ba=function(){},t.ha=function(){},(t=Nu.prototype).get=function(t){var e=this;return Ce().then((function(){return Or(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return Ce().then((function(){var r=Nr(e);null===r?n.T(t):n.a.setItem(t,r)}))},t.T=function(t){var e=this;return Ce().then((function(){e.a.removeItem(t)}))},t.ba=function(){},t.ha=function(){};var Ru,Du,Pu={F:Su,$a:Nu},Lu={F:Su,$a:Nu},Mu={F:su,$a:ku},Vu={F:Su,$a:ku},Uu={od:"local",NONE:"none",qd:"session"};function ju(){var t=!(Dr(Er())||!pr()),e=kr(),n=Cr();this.m=t,this.h=e,this.l=n,this.a={},Ru||(Ru=new Ou),t=Ru;try{this.g=!ir()&&Ur()||!s.indexedDB?new t.a.F:new Cu(mr()?new Tu:new t.a.F)}catch(r){this.g=new Tu,this.h=!0}try{this.i=new t.a.$a}catch(r){this.i=new Tu}this.u=new Tu,this.f=w(this.Vb,this),this.b={}}function Fu(){return Du||(Du=new ju),Du}function qu(t,e){switch(e){case"session":return t.i;case"none":return t.u;default:return t.g}}function Bu(t,e){return"firebase:"+t.name+(e?":"+e:"")}function zu(t,e,n){return n=Bu(e,n),"local"==e.F&&(t.b[n]=null),qu(t,e.F).T(n)}function Hu(t){t.c&&(clearInterval(t.c),t.c=null)}function Gu(t){this.a=t,this.b=Fu()}(t=ju.prototype).get=function(t,e){return qu(this,t.F).get(Bu(t,e))},t.set=function(t,e,n){var r=Bu(t,n),i=this,o=qu(this,t.F);return o.set(r,e).then((function(){return o.get(r)})).then((function(e){"local"==t.F&&(i.b[r]=e)}))},t.addListener=function(t,e,n){t=Bu(t,e),this.l&&(this.b[t]=s.localStorage.getItem(t)),ht(this.a)&&(qu(this,"local").ba(this.f),this.h||(ir()||!Ur())&&s.indexedDB||!this.l||function(t){Hu(t),t.c=setInterval((function(){for(var e in t.a){var n=s.localStorage.getItem(e),r=t.b[e];n!=r&&(t.b[e]=n,n=new $e({type:"storage",key:e,target:window,oldValue:r,newValue:n,a:!0}),t.Vb(n))}}),1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},t.removeListener=function(t,e,n){t=Bu(t,e),this.a[t]&&($(this.a[t],(function(t){return t==n})),0==this.a[t].length&&delete this.a[t]),ht(this.a)&&(qu(this,"local").ha(this.f),Hu(this))},t.Vb=function(t){if(t&&t.f){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=s.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.ib(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?qu(this,"local").ha(this.f):Hu(this),this.m)if(n=s.localStorage.getItem(e),(r=t.a.newValue)!==n)null!==r?s.localStorage.setItem(e,r):s.localStorage.removeItem(e);else if(this.b[e]===r&&void 0===t.a.a)return;var o=this;n=function(){void 0===t.a.a&&o.b[e]===s.localStorage.getItem(e)||(o.b[e]=s.localStorage.getItem(e),o.ib(e))},Gt&&te&&10==te&&s.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else q(t,w(this.ib,this))},t.ib=function(t){this.a[t]&&q(this.a[t],(function(t){t()}))};var Wu,$u={name:"authEvent",F:"local"};function Ku(){this.a=Fu()}function Ju(t,e){this.b=Yu,this.f=s.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=s.Int32Array?new Int32Array(64):Array(64),void 0===Wu&&(Wu=s.Int32Array?new Int32Array(rc):rc),this.reset()}E(Ju,(function(){this.b=-1}));for(var Yu=64,Qu=Yu-1,Xu=[],Zu=0;Zu<Qu;Zu++)Xu[Zu]=0;var tc=K(128,Xu);function ec(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){var o=(0|n[e-16])+(((i=0|n[e-15])>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,s=(0|n[e-7])+(((r=0|n[e-2])>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+s|0}r=0|t.a[0],i=0|t.a[1];var a=0|t.a[2],u=0|t.a[3],c=0|t.a[4],l=0|t.a[5],h=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&a^i&a)|0;s=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((s=(s=c&l^~c&h)+(0|Wu[e])|0)+(0|n[e])|0)|0,o=h,h=l,l=c,c=u+s|0,u=a,a=i,i=r,r=s+f|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+a|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+c|0,t.a[5]=t.a[5]+l|0,t.a[6]=t.a[6]+h|0,t.a[7]=t.a[7]+o|0}function nc(t,e,n){void 0===n&&(n=e.length);var r=0,i=t.c;if("string"==typeof e)for(;r<n;)t.f[i++]=e.charCodeAt(r++),i==t.b&&(ec(t),i=0);else{if(!h(e))throw Error("message must be string or array");for(;r<n;){var o=e[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");t.f[i++]=o,i==t.b&&(ec(t),i=0)}}t.c=i,t.g+=n}Ju.prototype.reset=function(){this.g=this.c=0,this.a=s.Int32Array?new Int32Array(this.h):J(this.h)};var rc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function ic(){Ju.call(this,8,oc)}E(ic,Ju);var oc=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function sc(t,e,n,r,i){this.u=t,this.i=e,this.l=n,this.m=r||null,this.s=i||null,this.h=e+":"+n,this.w=new Ku,this.g=new Gu(this.h),this.f=null,this.b=[],this.a=this.c=null}function ac(t){return new I("invalid-cordova-configuration",t)}function uc(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(r){}}function cc(t){return t.f||(t.f=t.ka().then((function(){return new ve((function(e){t.Ca((function n(r){return e(r),t.Qa(n),!1})),function(t){function e(e){r=!0,i&&i.cancel(),lc(t).then((function(r){var i=n;if(r&&e&&e.url){var o=null;-1!=(i=Qi(e.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=Or(Pn(o=Ln(i),"firebaseError")||null))?C(o):null)?new Do(r.c,r.b,null,null,o,null,r.S()):new Do(r.c,r.b,i,r.f,null,null,r.S())),i=o||n}uc(t,i)}))}var n=new Do("unknown",null,null,null,new I("no-auth-event")),r=!1,i=En(500).then((function(){return lc(t).then((function(){r||uc(t,n)}))})),o=s.handleOpenURL;s.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(Ir("BuildInfo.packageName",s).toLowerCase()+"://")&&e({url:t}),"function"==typeof o)try{o(t)}catch(n){console.error(n)}},Vo||(Vo=new Lo),function(t){var e=Vo;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"==typeof(t=Ir("universalLinks.subscribe",s))&&t(null,e.b))}(e)}(t)}))}))),t.f}function lc(t){var e=null;return function(t){return t.b.get($u,t.a).then((function(t){return Po(t)}))}(t.g).then((function(n){return e=n,zu((n=t.g).b,$u,n.a)})).then((function(){return e}))}function hc(t){this.a=t,this.b=Fu()}(t=sc.prototype).ka=function(){return this.Ga?this.Ga:this.Ga=(dr(void 0)?fr().then((function(){return new ve((function(t,e){var n=s.document,r=setTimeout((function(){e(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),t()}),!1)}))})):Te(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!=typeof Ir("universalLinks.subscribe",s))throw ac("cordova-universal-links-plugin-fix is not installed");if(void 0===Ir("BuildInfo.packageName",s))throw ac("cordova-plugin-buildinfo is not installed");if("function"!=typeof Ir("cordova.plugins.browsertab.openUrl",s))throw ac("cordova-plugin-browsertab is not installed");if("function"!=typeof Ir("cordova.InAppBrowser.open",s))throw ac("cordova-plugin-inappbrowser is not installed")}),(function(){throw new I("cordova-not-ready")}))},t.Lb=function(t,e){return e(new I("operation-not-supported-in-this-environment")),Ce()},t.Jb=function(){return Te(new I("operation-not-supported-in-this-environment"))},t.Xb=function(){return!1},t.Ub=function(){return!0},t.Qb=function(){return!0},t.Kb=function(t,e,n,r){if(this.c)return Te(new I("redirect-operation-pending"));var i=this,o=s.document,a=null,u=null,c=null,l=null;return this.c=Ce().then((function(){return Ro(e),cc(i)})).then((function(){return function(t,e,n,r,i){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),a=new Do(e,r,null,o,new I("no-auth-event"),null,i),u=Ir("BuildInfo.packageName",s);if("string"!=typeof u)throw new I("invalid-cordova-configuration");var c=Ir("BuildInfo.displayName",s),l={};if(Er().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=u;else{if(!Er().toLowerCase().match(/android/))return Te(new I("operation-not-supported-in-this-environment"));l.apn=u}c&&(l.appDisplayName=c),o=function(t){var e=new ic;nc(e,t),t=[];var n=8*e.g;nc(e,tc,56>e.c?56-e.c:e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(ec(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return function(t){return z(t,(function(t){return 1<(t=t.toString(16)).length?t:"0"+t})).join("")}(t)}(o),l.sessionId=o;var h=ou(t.u,t.i,t.l,e,n,null,r,t.m,l,t.s,i);return t.ka().then((function(){var e=t.h;return t.w.a.set($u,a.v(),e)})).then((function(){var e=Ir("cordova.plugins.browsertab.isAvailable",s);if("function"!=typeof e)throw new I("invalid-cordova-configuration");var n=null;e((function(e){if(e){if("function"!=typeof(n=Ir("cordova.plugins.browsertab.openUrl",s)))throw new I("invalid-cordova-configuration");n(h)}else{if("function"!=typeof(n=Ir("cordova.InAppBrowser.open",s)))throw new I("invalid-cordova-configuration");e=Er(),t.a=n(h,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,t,e,n,r)})).then((function(){return new ve((function(t,e){u=function(){var e=Ir("cordova.plugins.browsertab.close",s);return t(),"function"==typeof e&&e(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ca(u),l=function(){Mr()&&c()},o.addEventListener("resume",c=function(){a||(a=En(2e3).then((function(){e(new I("redirect-cancelled-by-user"))})))},!1),Er().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",l,!1)})).o((function(t){return lc(i).then((function(){throw t}))}))})).ma((function(){c&&o.removeEventListener("resume",c,!1),l&&o.removeEventListener("visibilitychange",l,!1),a&&a.cancel(),u&&i.Qa(u),i.c=null}))},t.Ca=function(t){this.b.push(t),cc(this).o((function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new Do("unknown",null,null,null,new I("no-auth-event")),t(e))}))},t.Qa=function(t){$(this.b,(function(e){return e==t}))};var fc={name:"pendingRedirect",F:"session"};function dc(t){return zu(t.b,fc,t.a)}function pc(t,e,n){this.i={},this.w=0,this.D=t,this.u=e,this.m=n,this.h=[],this.f=!1,this.l=w(this.s,this),this.b=new kc,this.B=new Dc,this.g=new hc(this.u+":"+this.m),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.B,this.c.linkViaPopup=this.B,this.c.reauthViaPopup=this.B,this.a=mc(this.D,this.u,this.m,T)}function mc(t,e,n,r){var i=iy.a.SDK_VERSION||null;return dr()?new sc(t,e,n,i,r):new eu(t,e,n,i,r)}function gc(t){t.f||(t.f=!0,t.a.Ca(t.l));var e=t.a;return t.a.ka().o((function(n){throw t.a==e&&t.reset(),n}))}function vc(t){t.a.Ub()&&gc(t).o((function(e){var n=new Do("unknown",null,null,null,new I("operation-not-supported-in-this-environment"));Ic(e)&&t.s(n)})),t.a.Qb()||Nc(t.b)}function yc(t,e){G(t.h,e)||t.h.push(e),t.f||function(t){return t.b.get(fc,t.a).then((function(t){return"pending"==t}))}(t.g).then((function(e){e?dc(t.g).then((function(){gc(t).o((function(e){var n=new Do("unknown",null,null,null,new I("operation-not-supported-in-this-environment"));Ic(e)&&t.s(n)}))})):vc(t)})).o((function(){vc(t)}))}function wc(t,e){$(t.h,(function(t){return t==e}))}pc.prototype.reset=function(){this.f=!1,this.a.Qa(this.l),this.a=mc(this.D,this.u,this.m),this.i={}},pc.prototype.s=function(t){if(!t)throw new I("invalid-auth-event");if(6e5<=_()-this.w&&(this.i={},this.w=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Cb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,r),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.w=_())),e=!0;break}}return Nc(this.b),e};var bc=new Lr(2e3,1e4),_c=new Lr(3e4,6e4);function Ec(t,e,n,r,i,o,s){return t.a.Jb(e,n,r,(function(){t.f||(t.f=!0,t.a.Ca(t.l))}),(function(){t.reset()}),i,o,s)}function Ic(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function Cc(t,e,n,r,i){var o;return function(t){return t.b.set(fc,"pending",t.a)}(t.g).then((function(){return t.a.Kb(e,n,r,i).o((function(e){if(Ic(e))throw new I("operation-not-supported-in-this-environment");return o=e,dc(t.g).then((function(){throw o}))})).then((function(){return t.a.Xb()?new ve((function(){})):dc(t.g).then((function(){return t.pa()})).then((function(){})).o((function(){}))}))}))}function Tc(t,e,n,r,i){return t.a.Lb(r,(function(t){e.la(n,null,t,i)}),bc.get())}pc.prototype.pa=function(){return this.b.pa()};var Sc={};function Ac(t,e,n){var r=e+":"+n;return Sc[r]||(Sc[r]=new pc(t,e,n)),Sc[r]}function kc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Nc(t){t.g||(t.g=!0,Rc(t,!1,null,null))}function xc(t){t.g&&!t.i&&Rc(t,!1,null,null)}function Oc(t,e){if(t.b=function(){return Ce(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function Rc(t,e,n,r){e?r?function(t,e){if(t.b=function(){return Te(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):Oc(t,n):Oc(t,{user:null}),t.f=[],t.c=[]}function Dc(){}function Pc(){this.Bb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.Bb},set:function(t){this.Bb=t},enumerable:!1})}function Lc(t,e){this.a=e,zr(this,"verificationId",t)}function Mc(t,e,n,r){return new No(t).cb(e,n).then((function(t){return new Lc(t,r)}))}function Vc(t){var e=Vi(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new I("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Hr(this,{token:t,expirationTime:Vr(1e3*e.exp),authTime:Vr(1e3*e.auth_time),issuedAtTime:Vr(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,signInSecondFactor:e.firebase&&e.firebase.sign_in_second_factor?e.firebase.sign_in_second_factor:null,claims:e})}function Uc(t,e,n){var r=e&&e[Fc];if(!r)throw new I("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=ft(e),this.g=n,this.c=new Xi(null,r),this.b=[];var i=this;q(e[jc]||[],(function(t){(t=Kr(t))&&i.b.push(t)})),zr(this,"auth",this.a),zr(this,"session",this.c),zr(this,"hints",this.b)}kc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},kc.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,r=t.b,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?t.a?(Rc(this,!0,null,t.a),Ce()):e.Da(n,r)?function(t,e,n){n=n.Da(e.c,e.b);var r=e.g,i=e.f,o=e.i,s=e.S(),a=!!e.c.match(/Redirect$/);n(r,i,s,o).then((function(e){Rc(t,a,e,null)})).o((function(e){Rc(t,a,null,e)}))}(this,t,e):Te(new I("invalid-auth-event")):(Rc(this,!1,null,null),Ce())}else Te(new I("invalid-auth-event"))},kc.prototype.pa=function(){var t=this;return new ve((function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new I("timeout");t.a&&t.a.cancel(),t.a=En(_c.get()).then((function(){t.b||(t.g=!0,Rc(t,!0,null,e))}))}(t))}))},Dc.prototype.h=function(t,e){if(t){var n=t.c,r=t.b;t.a?(e.la(t.c,null,t.a,t.b),Ce()):e.Da(n,r)?function(t,e){var n=t.b,r=t.c;e.Da(r,n)(t.g,t.f,t.S(),t.i).then((function(t){e.la(r,t,null,n)})).o((function(t){e.la(r,null,t,n)}))}(t,e):Te(new I("invalid-auth-event"))}else Te(new I("invalid-auth-event"))},Lc.prototype.confirm=function(t){return t=xo(this.verificationId,t),this.a(t)};var jc="mfaInfo",Fc="mfaPendingCredential";function qc(t,e,n,r){I.call(this,"multi-factor-auth-required",r,e),this.b=new Uc(t,e,n),zr(this,"resolver",this.b)}function Bc(t,e,n){if(t&&d(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new qc(e,t.serverResponse,n,t.message)}catch(r){}return null}function zc(){}function Hc(t){zr(this,"factorId",t.ea),this.a=t}function Gc(t){if(Hc.call(this,t),this.a.ea!=No.PROVIDER_ID)throw new I("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function Wc(t,e){for(var n in We.call(this,t),e)this[n]=e[n]}function $c(t,e){this.a=t,this.b=[],this.c=w(this.wc,this),on(this.a,"userReloaded",this.c);var n=[];e&&e.multiFactor&&e.multiFactor.enrolledFactors&&q(e.multiFactor.enrolledFactors,(function(t){var e=null,r={};if(t){t.uid&&(r[Qr]=t.uid),t.displayName&&(r[Jr]=t.displayName),t.enrollmentTime&&(r[Yr]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(r[Xr]=t.phoneNumber);try{e=new Zr(r)}catch(i){}t=e}else t=null;t&&n.push(t)})),Kc(this,n)}function Kc(t,e){t.b=e,zr(t,"enrolledFactors",e)}function Jc(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function Yc(t){this.c=t,this.b=this.a=null}function Qc(t){return t.b&&1e3*t.b.c||0}function Xc(t,e){var n=e.refreshToken;t.b=Mi(e[Bs]||""),t.a=n}function Zc(t,e){this.a=t||null,this.b=e||null,Hr(this,{lastSignInTime:Vr(e||null),creationTime:Vr(t||null)})}function tl(t,e,n,r,i,o){Hr(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function el(t,e,n){this.N=[],this.l=t.apiKey,this.m=t.appName,this.s=t.authDomain||null,t=iy.a.SDK_VERSION?_r(iy.a.SDK_VERSION):null,this.a=new Fs(this.l,N(T),t),this.b=new Yc(this.a),ul(this,e[Bs]),Xc(this.b,e),zr(this,"refreshToken",this.b.a),hl(this,n||{}),vn.call(this),this.P=!1,this.s&&Tr()&&(this.i=Ac(this.s,this.l,this.m)),this.R=[],this.h=null,this.B=function(t){return new Jc((function(){return t.I(!0)}),(function(t){return!(!t||"auth/network-request-failed"!=t.code)}),(function(){var e=Qc(t.b)-_()-3e5;return 0<e?e:0}))}(this),this.Z=w(this.Ma,this);var r=this;this.oa=null,this.za=function(t){r.va(t.g)},this.aa=null,this.W=[],this.ya=function(t){rl(r,t.c)},this.$=null,this.O=new $c(this,n),zr(this,"multiFactor",this.O)}function nl(t,e){t.aa&&un(t.aa,"languageCodeChanged",t.za),(t.aa=e)&&on(e,"languageCodeChanged",t.za)}function rl(t,e){t.W=e,Ks(t.a,iy.a.SDK_VERSION?_r(iy.a.SDK_VERSION,t.W):null)}function il(t,e){t.$&&un(t.$,"frameworkChanged",t.ya),(t.$=e)&&on(e,"frameworkChanged",t.ya)}function ol(t){try{return iy.a.app(t.m).auth()}catch(e){throw new I("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function sl(t){t.D||t.B.b||(t.B.start(),un(t,"tokenChanged",t.Z),on(t,"tokenChanged",t.Z))}function al(t){un(t,"tokenChanged",t.Z),t.B.stop()}function ul(t,e){t.xa=e,zr(t,"_lat",e)}function cl(t){for(var e=[],n=0;n<t.R.length;n++)e.push(t.R[n](t));return Ae(e).then((function(){return t}))}function ll(t){t.i&&!t.P&&(t.P=!0,yc(t.i,t))}function hl(t,e){Hr(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new Zc(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function fl(){}function dl(t){return Ce().then((function(){if(t.D)throw new I("app-deleted")}))}function pl(t){return z(t.providerData,(function(t){return t.providerId}))}function ml(t,e){e&&(gl(t,e.providerId),t.providerData.push(e))}function gl(t,e){$(t.providerData,(function(t){return t.providerId==e}))}function vl(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&zr(t,e,n)}function yl(t,e){t!=e&&(Hr(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),zr(t,"metadata",e.metadata?function(t){return new Zc(t.a,t.b)}(e.metadata):new Zc),q(e.providerData,(function(e){ml(t,e)})),function(t,e){t.b=e.b,t.a=e.a}(t.b,e.b),zr(t,"refreshToken",t.b.a),Kc(t.O,e.O.b))}function wl(t){return t.I().then((function(e){var n=t.isAnonymous;return function(t,e){return Ha(t.a,_a,{idToken:e}).then(w(t.Ic,t))}(t,e).then((function(){return n||vl(t,"isAnonymous",!1),e}))}))}function bl(t,e){e[Bs]&&t.xa!=e[Bs]&&(Xc(t.b,e),t.dispatchEvent(new Wc("tokenChanged")),ul(t,e[Bs]),vl(t,"refreshToken",t.b.a))}function _l(t,e){return wl(t).then((function(){if(G(pl(t),e))return cl(t).then((function(){throw new I("provider-already-linked")}))}))}function El(t,e,n){return Gr({user:t,credential:Oo(e),additionalUserInfo:e=Bi(e),operationType:n})}function Il(t,e){return bl(t,e),t.reload().then((function(){return t}))}function Cl(t,e,n,r,i){if(!Tr())return Te(new I("operation-not-supported-in-this-environment"));if(t.h&&!i)return Te(t.h);var o=qi(n.providerId),s=Rr(t.uid+":::"),a=null;(!kr()||pr())&&t.s&&n.isOAuthProvider&&(a=ou(t.s,t.l,t.m,e,n,null,s,iy.a.SDK_VERSION||null,null,null,t.tenantId));var u=cr(a,o&&o.ta,o&&o.sa);return r=r().then((function(){if(Sl(t),!i)return t.I().then((function(){}))})).then((function(){return Ec(t.i,u,e,n,s,!!a,t.tenantId)})).then((function(){return new ve((function(n,r){t.la(e,null,new I("cancelled-popup-request"),t.g||null),t.f=n,t.w=r,t.g=s,t.c=Tc(t.i,t,e,u,s)}))})).then((function(t){return u&&ur(u),t?Gr(t):null})).o((function(t){throw u&&ur(u),t})),Al(t,r,i)}function Tl(t,e,n,r,i){if(!Tr())return Te(new I("operation-not-supported-in-this-environment"));if(t.h&&!i)return Te(t.h);var o=null,s=Rr(t.uid+":::");return r=r().then((function(){if(Sl(t),!i)return t.I().then((function(){}))})).then((function(){return t.fa=s,cl(t)})).then((function(e){return t.ga&&(e=(e=t.ga).b.set(xl,t.v(),e.a)),e})).then((function(){return Cc(t.i,e,n,s,t.tenantId)})).o((function(e){if(o=e,t.ga)return Ol(t.ga);throw o})).then((function(){if(o)throw o})),Al(t,r,i)}function Sl(t){if(!t.i||!t.P){if(t.i&&!t.P)throw new I("internal-error");throw new I("auth-domain-config-required")}}function Al(t,e,n){var r=function(t,e,n){return t.h&&!n?(e.cancel(),Te(t.h)):e.o((function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.h||t.dispatchEvent(new Wc("userInvalidated")),t.h=e),e}))}(t,e,n);return t.N.push(r),r.ma((function(){W(t.N,r)})),r.o((function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=Bc(e.v(),ol(t),w(t.hc,t))),n||e}))}function kl(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName},n={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;n[Bs]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null;var r=new el(e,n,t);return t.providerData&&q(t.providerData,(function(t){t&&ml(r,Gr(t))})),t.redirectEventId&&(r.fa=t.redirectEventId),r}function Nl(t){this.a=t,this.b=Fu()}Uc.prototype.Pc=function(t){var e=this;return t.ob(this.a.b,this.c).then((function(t){var n=ft(e.f);return delete n[jc],delete n[Fc],pt(n,t),e.g(n)}))},E(qc,I),zc.prototype.ob=function(t,e,n){return e.type==Zi?function(t,e,n,r){return n.Fa().then((function(n){return n={idToken:n},void 0!==r&&(n.displayName=r),pt(n,{phoneVerificationInfo:ko(t.a)}),Ha(e,wa,n)}))}(this,t,e,n):function(t,e,n){return n.Fa().then((function(n){return pt(n={mfaPendingCredential:n},{phoneVerificationInfo:ko(t.a)}),Ha(e,ba,n)}))}(this,t,e)},E(Hc,zc),E(Gc,Hc),E(Wc,We),(t=$c.prototype).wc=function(t){Kc(this,function(t){var e=[];return q(t.mfaInfo||[],(function(t){(t=Kr(t))&&e.push(t)})),e}(t.ed))},t.Ob=function(){return this.a.I().then((function(t){return new Xi(t,null)}))},t.dc=function(t,e){var n=this,r=this.a.a;return this.Ob().then((function(n){return t.ob(r,n,e)})).then((function(t){return bl(n.a,t),n.a.reload()}))},t.$c=function(t){var e=this,n="string"==typeof t?t:t.uid,r=this.a.a;return this.a.I().then((function(t){return Ha(r,za,{idToken:t,mfaEnrollmentId:n})})).then((function(t){var r=B(e.b,(function(t){return t.uid!=n}));return Kc(e,r),bl(e.a,t),e.a.reload().o((function(t){if("auth/user-token-expired"!=t.code)throw t}))}))},t.v=function(){return{multiFactor:{enrolledFactors:z(this.b,(function(t){return t.v()}))}}},Jc.prototype.start=function(){this.a=this.c,function t(e,n){e.stop(),e.b=En(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(e,n)).then((function(){return function(){var t=s.document,e=null;return Mr()||!t?Ce():new ve((function(n){e=function(){Mr()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)})).o((function(n){throw t.removeEventListener("visibilitychange",e,!1),n}))}()})).then((function(){return e.h()})).then((function(){t(e,!0)})).o((function(n){e.i(n)&&t(e,!1)}))}(this,!0)},Jc.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},Yc.prototype.v=function(){return{apiKey:this.c.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:Qc(this)}},Yc.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?Te(new I("user-token-expired")):t||!this.b||_()>Qc(this)-3e4?this.a?function(t,e){return function(t,e){return new ve((function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?Js(t,t.u+"?key="+encodeURIComponent(t.c),(function(t){t?t.error?r(Wa(t)):t.access_token&&t.refresh_token?n(t):r(new I("internal-error")):r(new I("network-request-failed"))}),"POST",$n(e).toString(),t.g,t.m.get()):r(new I("internal-error"))}))}(t.c,e).then((function(e){return t.b=Mi(e.access_token),t.a=e.refresh_token,{accessToken:t.b.toString(),refreshToken:t.a}})).o((function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e}))}(this,{grant_type:"refresh_token",refresh_token:this.a}):Ce(null):Ce({accessToken:this.b.toString(),refreshToken:this.a})},Zc.prototype.v=function(){return{lastLoginAt:this.b,createdAt:this.a}},E(el,vn),el.prototype.va=function(t){this.oa=t,$s(this.a,t)},el.prototype.ja=function(){return this.oa},el.prototype.Ea=function(){return J(this.W)},el.prototype.Ma=function(){this.B.b&&(this.B.stop(),this.B.start())},zr(el.prototype,"providerId","firebase"),(t=el.prototype).reload=function(){var t=this;return Al(this,dl(this).then((function(){return wl(t).then((function(){return cl(t)})).then(fl)})))},t.mc=function(t){return this.I(t).then((function(t){return new Vc(t)}))},t.I=function(t){var e=this;return Al(this,dl(this).then((function(){return e.b.getToken(t)})).then((function(t){if(!t)throw new I("internal-error");return t.accessToken!=e.xa&&(ul(e,t.accessToken),e.dispatchEvent(new Wc("tokenChanged"))),vl(e,"refreshToken",t.refreshToken),t.accessToken})))},t.Ic=function(t){if(!(t=t.users)||!t.length)throw new I("internal-error");hl(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?z(t,(function(t){return new tl(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)})):[]}(t),n=0;n<e.length;n++)ml(this,e[n]);vl(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new Wc("userReloaded",{ed:t}))},t.Jc=function(t){return qr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.pb(t)},t.pb=function(t){var e=this,n=null;return Al(this,t.c(this.a,this.uid).then((function(t){return bl(e,t),n=El(e,t,"reauthenticate"),e.h=null,e.reload()})).then((function(){return n})),!0)},t.Ac=function(t){return qr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.mb(t)},t.mb=function(t){var e=this,n=null;return Al(this,_l(this,t.providerId).then((function(){return e.I()})).then((function(n){return t.b(e.a,n)})).then((function(t){return n=El(e,t,"link"),Il(e,t)})).then((function(){return n})))},t.Bc=function(t,e){var n=this;return Al(this,_l(this,"phone").then((function(){return Mc(ol(n),t,e,w(n.mb,n))})))},t.Kc=function(t,e){var n=this;return Al(this,Ce().then((function(){return Mc(ol(n),t,e,w(n.pb,n))})),!0)},t.xb=function(t){var e=this;return Al(this,this.I().then((function(n){return e.a.xb(n,t)})).then((function(t){return bl(e,t),e.reload()})))},t.cd=function(t){var e=this;return Al(this,this.I().then((function(n){return t.b(e.a,n)})).then((function(t){return bl(e,t),e.reload()})))},t.yb=function(t){var e=this;return Al(this,this.I().then((function(n){return e.a.yb(n,t)})).then((function(t){return bl(e,t),e.reload()})))},t.zb=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return dl(this);var e=this;return Al(this,this.I().then((function(n){return e.a.zb(n,{displayName:t.displayName,photoUrl:t.photoURL})})).then((function(t){return bl(e,t),vl(e,"displayName",t.displayName||null),vl(e,"photoURL",t.photoUrl||null),q(e.providerData,(function(t){"password"===t.providerId&&(zr(t,"displayName",e.displayName),zr(t,"photoURL",e.photoURL))})),cl(e)})).then(fl))},t.ad=function(t){var e=this;return Al(this,wl(this).then((function(n){return G(pl(e),t)?function(t,e,n){return Ha(t,ga,{idToken:e,deleteProvider:n})}(e.a,n,[t]).then((function(t){var n={};return q(t.providerUserInfo||[],(function(t){n[t.providerId]=!0})),q(pl(e),(function(t){n[t]||gl(e,t)})),n[No.PROVIDER_ID]||zr(e,"phoneNumber",null),cl(e)})):cl(e).then((function(){throw new I("no-such-provider")}))})))},t.delete=function(){var t=this;return Al(this,this.I().then((function(e){return Ha(t.a,ma,{idToken:e})})).then((function(){t.dispatchEvent(new Wc("userDeleted"))}))).then((function(){for(var e=0;e<t.N.length;e++)t.N[e].cancel("app-deleted");nl(t,null),il(t,null),t.N=[],t.D=!0,al(t),zr(t,"refreshToken",null),t.i&&wc(t.i,t)}))},t.Cb=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.fa||null)==e||"reauthViaRedirect"==t&&(this.fa||null)==e)},t.la=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.g||null)||(n&&this.w?this.w(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.w)},t.Da=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?w(this.Hb,this):"reauthViaPopup"==t&&e==(this.g||null)?w(this.Ib,this):"linkViaRedirect"==t&&(this.fa||null)==e?w(this.Hb,this):"reauthViaRedirect"==t&&(this.fa||null)==e?w(this.Ib,this):null},t.Cc=function(t){var e=this;return Cl(this,"linkViaPopup",t,(function(){return _l(e,t.providerId).then((function(){return cl(e)}))}),!1)},t.Lc=function(t){return Cl(this,"reauthViaPopup",t,(function(){return Ce()}),!0)},t.Dc=function(t){var e=this;return Tl(this,"linkViaRedirect",t,(function(){return _l(e,t.providerId)}),!1)},t.Mc=function(t){return Tl(this,"reauthViaRedirect",t,(function(){return Ce()}),!0)},t.Hb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Al(this,this.I().then((function(n){return ua(i.a,{requestUri:t,postBody:r,sessionId:e,idToken:n})})).then((function(t){return o=El(i,t,"link"),Il(i,t)})).then((function(){return o})))},t.Ib=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Al(this,Ce().then((function(){return no(ca(i.a,{requestUri:t,sessionId:e,postBody:r,tenantId:n}),i.uid)})).then((function(t){return o=El(i,t,"reauthenticate"),bl(i,t),i.h=null,i.reload()})).then((function(){return o})),!0)},t.qb=function(t){var e=this,n=null;return Al(this,this.I().then((function(e){return n=e,void 0===t||ht(t)?{}:Di(new Ii(t))})).then((function(t){return e.a.qb(n,t)})).then((function(t){if(e.email!=t)return e.reload()})).then((function(){})))},t.Ab=function(t,e){var n=this,r=null;return Al(this,this.I().then((function(t){return r=t,void 0===e||ht(e)?{}:Di(new Ii(e))})).then((function(e){return n.a.Ab(r,t,e)})).then((function(t){if(n.email!=t)return n.reload()})).then((function(){})))},t.hc=function(t){var e=null,n=this;return Al(this,t=no(Ce(t),n.uid).then((function(t){return e=El(n,t,"reauthenticate"),bl(n,t),n.h=null,n.reload()})).then((function(){return e})),!0)},t.toJSON=function(){return this.v()},t.v=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.b.v(),redirectEventId:this.fa||null};return this.metadata&&pt(t,this.metadata.v()),q(this.providerData,(function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))})),pt(t,this.O.v()),t};var xl={name:"redirectUser",F:"session"};function Ol(t){return zu(t.b,xl,t.a)}function Rl(t){this.a=t,this.b=Fu(),this.c=null,this.f=function(t){var e=Ll("local"),n=Ll("session"),r=Ll("none");return function(t,e,n){var r=Bu(e,n),i=qu(t,e.F);return t.get(e,n).then((function(o){var a=null;try{a=Or(s.localStorage.getItem(r))}catch(u){}if(a&&!o)return s.localStorage.removeItem(r),t.set(e,a,n);a&&o&&"localStorage"!=i.type&&s.localStorage.removeItem(r)}))}(t.b,e,t.a).then((function(){return t.b.get(n,t.a)})).then((function(i){return i?n:t.b.get(r,t.a).then((function(n){return n?r:t.b.get(e,t.a).then((function(n){return n?e:t.b.get(Pl,t.a).then((function(t){return t?Ll(t):e}))}))}))})).then((function(e){return t.c=e,Dl(t,e.F)})).o((function(){t.c||(t.c=e)}))}(this),this.b.addListener(Ll("local"),this.a,w(this.g,this))}function Dl(t,e){var n,r=[];for(n in Uu)Uu[n]!==e&&r.push(zu(t.b,Ll(Uu[n]),t.a));return r.push(zu(t.b,Pl,t.a)),function(t){return new ve((function(e,n){var r=t.length,i=[];if(r)for(var o=function(t,n){r--,i[t]=n,0==r&&e(i)},s=function(t){n(t)},a=0;a<t.length;a++)Se(t[a],b(o,a),s);else e(i)}))}(r)}Rl.prototype.g=function(){var t=this,e=Ll("local");jl(this,(function(){return Ce().then((function(){return t.c&&"local"!=t.c.F?t.b.get(e,t.a):null})).then((function(n){if(n)return Dl(t,"local").then((function(){t.c=e}))}))}))};var Pl={name:"persistence",F:"session"};function Ll(t){return{name:"authUser",F:t}}function Ml(t,e){return jl(t,(function(){return t.b.set(t.c,e.v(),t.a)}))}function Vl(t){return jl(t,(function(){return zu(t.b,t.c,t.a)}))}function Ul(t,e){return jl(t,(function(){return t.b.get(t.c,t.a).then((function(t){return t&&e&&(t.authDomain=e),kl(t||{})}))}))}function jl(t,e){return t.f=t.f.then(e,e),t.f}function Fl(t){if(this.l=!1,zr(this,"settings",new Pc),zr(this,"app",t),!$l(this).options||!$l(this).options.apiKey)throw new I("invalid-api-key");t=iy.a.SDK_VERSION?_r(iy.a.SDK_VERSION):null,this.b=new Fs($l(this).options&&$l(this).options.apiKey,N(T),t),this.P=[],this.m=[],this.O=[],this.$b=iy.a.INTERNAL.createSubscribe(w(this.xc,this)),this.W=void 0,this.ac=iy.a.INTERNAL.createSubscribe(w(this.yc,this)),Gl(this,null),this.i=new Rl($l(this).options.apiKey+":"+$l(this).name),this.B=new Nl($l(this).options.apiKey+":"+$l(this).name),this.Z=Ql(this,function(t){var e=$l(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(xl,t.a).then((function(t){return t&&e&&(t.authDomain=e),kl(t||{})}))}(t.B,$l(t).options.authDomain).then((function(e){return(t.D=e)&&(e.ga=t.B),Ol(t.B)}));return Ql(t,e)}(t).then((function(){return Ul(t.i,e)})).then((function(e){return e?(e.ga=t.B,t.D&&(t.D.fa||null)==(e.fa||null)?e:e.reload().then((function(){return Ml(t.i,e).then((function(){return e}))})).o((function(n){return"auth/network-request-failed"==n.code?e:Vl(t.i)}))):null})).then((function(e){Gl(t,e||null)}));return Ql(t,n)}(this)),this.h=Ql(this,function(t){return t.Z.then((function(){return Hl(t)})).o((function(){})).then((function(){if(!t.l)return t.oa()})).o((function(){})).then((function(){if(!t.l){t.aa=!0;var e=t.i;e.b.addListener(Ll("local"),e.a,t.oa)}}))}(this)),this.aa=!1,this.oa=w(this.Xc,this),this.Ma=w(this.ca,this),this.xa=w(this.jc,this),this.ya=w(this.uc,this),this.za=w(this.vc,this),this.a=null,function(t){var e=$l(t).options.authDomain,n=$l(t).options.apiKey;e&&Tr()&&(t.Zb=t.Z.then((function(){if(!t.l){if(t.a=Ac(e,n,$l(t).name),yc(t.a,t),Kl(t)&&ll(Kl(t)),t.D){ll(t.D);var r=t.D;r.va(t.ja()),nl(r,t),rl(r=t.D,t.N),il(r,t),t.D=null}return t.a}})))}(this),this.INTERNAL={},this.INTERNAL.delete=w(this.delete,this),this.INTERNAL.logFramework=w(this.Ec,this),this.s=0,vn.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.ja()},set:function(t){this.va(t)},enumerable:!1}),t.$=null,Object.defineProperty(t,"ti",{get:function(){return this.S()},set:function(t){this.ub(t)},enumerable:!1}),t.R=null}(this),this.N=[]}function ql(t){We.call(this,"languageCodeChanged"),this.g=t}function Bl(t){We.call(this,"frameworkChanged"),this.c=t}function zl(t){return t.Zb||Te(new I("auth-domain-config-required"))}function Hl(t){if(!Tr())return Te(new I("operation-not-supported-in-this-environment"));var e=zl(t).then((function(){return t.a.pa()})).then((function(t){return t?Gr(t):null}));return Ql(t,e)}function Gl(t,e){Kl(t)&&(function(t,e){$(t.R,(function(t){return t==e}))}(Kl(t),t.Ma),un(Kl(t),"tokenChanged",t.xa),un(Kl(t),"userDeleted",t.ya),un(Kl(t),"userInvalidated",t.za),al(Kl(t))),e&&(e.R.push(t.Ma),on(e,"tokenChanged",t.xa),on(e,"userDeleted",t.ya),on(e,"userInvalidated",t.za),0<t.s&&sl(e)),zr(t,"currentUser",e),e&&(e.va(t.ja()),nl(e,t),rl(e,t.N),il(e,t))}function Wl(t,e){var n=null,r=null;return Ql(t,e.then((function(e){return n=Oo(e),r=Bi(e),function(t,e){var n={};return n.apiKey=$l(t).options.apiKey,n.authDomain=$l(t).options.authDomain,n.appName=$l(t).name,t.Z.then((function(){return function(t,e,n,r){var i=new el(t,e);return n&&(i.ga=n),r&&rl(i,r),i.reload().then((function(){return i}))}(n,e,t.B,t.Ea())})).then((function(e){return Kl(t)&&e.uid==Kl(t).uid?(yl(Kl(t),e),t.ca(e)):(Gl(t,e),ll(e),t.ca(e))})).then((function(){Yl(t)}))}(t,e)}),(function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=Bc(e.v(),t,w(t.ic,t))),n||e})).then((function(){return Gr({user:Kl(t),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function $l(t){return t.app}function Kl(t){return t.currentUser}function Jl(t){return Kl(t)&&Kl(t)._lat||null}function Yl(t){if(t.aa){for(var e=0;e<t.m.length;e++)t.m[e]&&t.m[e](Jl(t));if(t.W!==t.getUid()&&t.O.length)for(t.W=t.getUid(),e=0;e<t.O.length;e++)t.O[e]&&t.O[e](Jl(t))}}function Ql(t,e){return t.P.push(e),e.ma((function(){W(t.P,e)})),e}function Xl(){}function Zl(){this.a={},this.b=1e12}Rl.prototype.tb=function(t){var e=null,n=this;return function(t){var e=new I("invalid-persistence-type"),n=new I("unsupported-persistence-type");t:{for(r in Uu)if(Uu[r]==t){var r=!0;break t}r=!1}if(!r||"string"!=typeof t)throw e;switch(gr()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;default:if(!Cr()&&"none"!==t)throw n}}(t),jl(this,(function(){return t!=n.c.F?n.b.get(n.c,n.a).then((function(r){return e=r,Dl(n,t)})).then((function(){if(n.c=Ll(t),e)return n.b.set(n.c,e,n.a)})):Ce()}))},E(Fl,vn),E(ql,We),E(Bl,We),(t=Fl.prototype).tb=function(t){return Ql(this,t=this.i.tb(t))},t.va=function(t){this.$===t||this.l||(this.$=t,$s(this.b,this.$),this.dispatchEvent(new ql(this.ja())))},t.ja=function(){return this.$},t.dd=function(){var t=s.navigator;this.va(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.Ec=function(t){this.N.push(t),Ks(this.b,iy.a.SDK_VERSION?_r(iy.a.SDK_VERSION,this.N):null),this.dispatchEvent(new Bl(this.N))},t.Ea=function(){return J(this.N)},t.ub=function(t){this.R===t||this.l||(this.R=t,this.b.b=this.R)},t.S=function(){return this.R},t.toJSON=function(){return{apiKey:$l(this).options.apiKey,authDomain:$l(this).options.authDomain,appName:$l(this).name,currentUser:Kl(this)&&Kl(this).v()}},t.Cb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},t.la=function(t,e,n,r){"signInViaPopup"==t&&this.g==r&&(n&&this.w?this.w(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.w)},t.Da=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?w(this.gc,this):null},t.gc=function(t,e,n,r){var i=this,o={requestUri:t,postBody:r,sessionId:e,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.Z.then((function(){return Wl(i,aa(i.b,o))}))},t.Vc=function(t){if(!Tr())return Te(new I("operation-not-supported-in-this-environment"));var e=this,n=qi(t.providerId),r=Rr(),i=null;(!kr()||pr())&&$l(this).options.authDomain&&t.isOAuthProvider&&(i=ou($l(this).options.authDomain,$l(this).options.apiKey,$l(this).name,"signInViaPopup",t,null,r,iy.a.SDK_VERSION||null,null,null,this.S()));var o=cr(i,n&&n.ta,n&&n.sa);return Ql(this,n=zl(this).then((function(n){return Ec(n,o,"signInViaPopup",t,r,!!i,e.S())})).then((function(){return new ve((function(t,n){e.la("signInViaPopup",null,new I("cancelled-popup-request"),e.g),e.f=t,e.w=n,e.g=r,e.c=Tc(e.a,e,"signInViaPopup",o,r)}))})).then((function(t){return o&&ur(o),t?Gr(t):null})).o((function(t){throw o&&ur(o),t})))},t.Wc=function(t){if(!Tr())return Te(new I("operation-not-supported-in-this-environment"));var e=this;return Ql(this,zl(this).then((function(){return function(t){return jl(t,(function(){return t.b.set(Pl,t.c.F,t.a)}))}(e.i)})).then((function(){return Cc(e.a,"signInViaRedirect",t,void 0,e.S())})))},t.pa=function(){var t=this;return Hl(this).then((function(e){return t.a&&xc(t.a.b),e})).o((function(e){throw t.a&&xc(t.a.b),e}))},t.bd=function(t){if(!t)return Te(new I("null-user"));if(this.R!=t.tenantId)return Te(new I("tenant-id-mismatch"));var e=this,n={};n.apiKey=$l(this).options.apiKey,n.authDomain=$l(this).options.authDomain,n.appName=$l(this).name;var r=function(t,e,n,r){var i=t.b,o={};return o[Bs]=i.b&&i.b.toString(),o.refreshToken=i.a,e=new el(e||{apiKey:t.l,authDomain:t.s,appName:t.m},o),n&&(e.ga=n),r&&rl(e,r),yl(e,t),e}(t,n,e.B,e.Ea());return Ql(this,this.h.then((function(){if($l(e).options.apiKey!=t.l)return r.reload()})).then((function(){return Kl(e)&&t.uid==Kl(e).uid?(yl(Kl(e),t),e.ca(t)):(Gl(e,r),ll(r),e.ca(r))})).then((function(){Yl(e)})))},t.wb=function(){var t=this;return Ql(this,this.h.then((function(){return t.a&&xc(t.a.b),Kl(t)?(Gl(t,null),Vl(t.i).then((function(){Yl(t)}))):Ce()})))},t.Xc=function(){var t=this;return Ul(this.i,$l(this).options.authDomain).then((function(e){if(!t.l){var n;if(n=Kl(t)&&e){n=Kl(t).uid;var r=e.uid;n=null!=n&&""!==n&&null!=r&&""!==r&&n==r}if(n)return yl(Kl(t),e),Kl(t).I();(Kl(t)||e)&&(Gl(t,e),e&&(ll(e),e.ga=t.B),t.a&&yc(t.a,t),Yl(t))}}))},t.ca=function(t){return Ml(this.i,t)},t.jc=function(){Yl(this),this.ca(Kl(this))},t.uc=function(){this.wb()},t.vc=function(){this.wb()},t.ic=function(t){var e=this;return this.h.then((function(){return Wl(e,Ce(t))}))},t.xc=function(t){var e=this;this.addAuthTokenListener((function(){t.next(Kl(e))}))},t.yc=function(t){var e=this;!function(t,e){t.O.push(e),Ql(t,t.h.then((function(){!t.l&&G(t.O,e)&&t.W!==t.getUid()&&(t.W=t.getUid(),e(Jl(t)))})))}(this,(function(){t.next(Kl(e))}))},t.Gc=function(t,e,n){var r=this;return this.aa&&Promise.resolve().then((function(){f(t)?t(Kl(r)):f(t.next)&&t.next(Kl(r))})),this.$b(t,e,n)},t.Fc=function(t,e,n){var r=this;return this.aa&&Promise.resolve().then((function(){r.W=r.getUid(),f(t)?t(Kl(r)):f(t.next)&&t.next(Kl(r))})),this.ac(t,e,n)},t.kc=function(t){var e=this;return Ql(this,this.h.then((function(){return Kl(e)?Kl(e).I(t).then((function(t){return{accessToken:t}})):null})))},t.Rc=function(t){var e=this;return this.h.then((function(){return Wl(e,Ha(e.b,Ua,{token:t}))})).then((function(t){var n=t.user;return vl(n,"isAnonymous",!1),e.ca(n),t}))},t.Sc=function(t,e){var n=this;return this.h.then((function(){return Wl(n,Ha(n.b,ja,{email:t,password:e}))}))},t.cc=function(t,e){var n=this;return this.h.then((function(){return Wl(n,Ha(n.b,da,{email:t,password:e}))}))},t.Ya=function(t){var e=this;return this.h.then((function(){return Wl(e,t.ia(e.b))}))},t.Qc=function(t){return qr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.Ya(t)},t.vb=function(){var t=this;return this.h.then((function(){var e=Kl(t);if(e&&e.isAnonymous){var n=Gr({providerId:null,isNewUser:!1});return Gr({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return Wl(t,t.b.vb()).then((function(e){var n=e.user;return vl(n,"isAnonymous",!0),t.ca(n),e}))}))},t.getUid=function(){return Kl(this)&&Kl(this).uid||null},t.bc=function(t){this.addAuthTokenListener(t),this.s++,0<this.s&&Kl(this)&&sl(Kl(this))},t.Nc=function(t){var e=this;q(this.m,(function(n){n==t&&e.s--})),0>this.s&&(this.s=0),0==this.s&&Kl(this)&&al(Kl(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.m.push(t),Ql(this,this.h.then((function(){e.l||G(e.m,t)&&t(Jl(e))})))},t.removeAuthTokenListener=function(t){$(this.m,(function(e){return e==t}))},t.delete=function(){this.l=!0;for(var t=0;t<this.P.length;t++)this.P[t].cancel("app-deleted");return this.P=[],this.i&&(t=this.i).b.removeListener(Ll("local"),t.a,this.oa),this.a&&(wc(this.a,this),xc(this.a.b)),Promise.resolve()},t.fc=function(t){return Ql(this,function(t,e){return Ha(t,pa,{identifier:e,continueUri:Sr()?or():"http://localhost"}).then((function(t){return t.signinMethods||[]}))}(this.b,t))},t.zc=function(t){return!!To(t)},t.sb=function(t,e){var n=this;return Ql(this,Ce().then((function(){var t=new Ii(e);if(!t.c)throw new I("argument-error",Si+" must be true when sending sign in link to email");return Di(t)})).then((function(e){return n.b.sb(t,e)})).then((function(){})))},t.fd=function(t){return this.Pa(t).then((function(t){return t.data.email}))},t.jb=function(t,e){return Ql(this,this.b.jb(t,e).then((function(){})))},t.Pa=function(t){return Ql(this,this.b.Pa(t).then((function(t){return new ti(t)})))},t.fb=function(t){return Ql(this,this.b.fb(t).then((function(){})))},t.rb=function(t,e){var n=this;return Ql(this,Ce().then((function(){return void 0===e||ht(e)?{}:Di(new Ii(e))})).then((function(e){return n.b.rb(t,e)})).then((function(){})))},t.Uc=function(t,e){return Ql(this,Mc(this,t,e,w(this.Ya,this)))},t.Tc=function(t,e){var n=this;return Ql(this,Ce().then((function(){var r=e||or(),i=Co(t,r);if(!(r=To(r)))throw new I("argument-error","Invalid email link!");if(r.tenantId!==n.S())throw new I("tenant-id-mismatch");return n.Ya(i)})))},Xl.prototype.render=function(){},Xl.prototype.reset=function(){},Xl.prototype.getResponse=function(){},Xl.prototype.execute=function(){};var th=null;function eh(t,e){return(e=nh(e))&&t.a[e]||null}function nh(t){return(t=void 0===t?1e12:t)?t.toString():null}function rh(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=ie(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():on(this.f,"click",this.i)}function ih(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function oh(){}function sh(){}Zl.prototype.render=function(t,e){return this.a[this.b.toString()]=new rh(t,e),this.b++},Zl.prototype.reset=function(t){var e=eh(this,t);t=nh(t),e&&t&&(e.delete(),delete this.a[t])},Zl.prototype.getResponse=function(t){return(t=eh(this,t))?t.getResponse():null},Zl.prototype.execute=function(t){(t=eh(this,t))&&t.execute()},rh.prototype.getResponse=function(){return ih(this),this.b},rh.prototype.execute=function(){ih(this);var t=this;this.a||(this.a=setTimeout((function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(r){}t.a=setTimeout((function(){if(t.a=null,t.b=null,n)try{n()}catch(r){}t.h&&t.execute()}),6e4)}),500))},rh.prototype.delete=function(){ih(this),this.g=!0,clearTimeout(this.a),this.a=null,un(this.f,"click",this.i)},zr(oh,"FACTOR_ID","phone"),sh.prototype.g=function(){return th||(th=new Zl),Ce(th)},sh.prototype.c=function(){};var ah=null;function uh(){this.b=s.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var ch=new gt(wt,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),lh=new Lr(3e4,6e4);uh.prototype.g=function(t){var e=this;return new ve((function(n,r){var i=setTimeout((function(){r(new I("network-request-failed"))}),lh.get());!s.grecaptcha||t!==e.f&&!e.b?(s[e.a]=function(){if(s.grecaptcha){e.f=t;var o=s.grecaptcha.render;s.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(i),n(s.grecaptcha)}else clearTimeout(i),r(new I("internal-error"));delete s[e.a]},Ce(Ds(It(ch,{onload:e.a,hl:t||""}))).o((function(){clearTimeout(i),r(new I("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(s.grecaptcha))}))},uh.prototype.c=function(){this.b--};var hh=null;function fh(t,e,n,r,i,o,a){if(zr(this,"type","recaptcha"),this.c=this.f=null,this.D=!1,this.u=e,this.g=null,a?(ah||(ah=new sh),a=ah):(hh||(hh=new uh),a=hh),this.m=a,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[mh])throw new I("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[gh],!s.document)throw new I("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!ie(e)||!this.i&&ie(e).hasChildNodes())throw new I("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Fs(t,o||null,i||null),this.w=r||function(){return null};var u=this;this.l=[];var c=this.a[dh];this.a[dh]=function(t){if(vh(u,t),"function"==typeof c)c(t);else if("string"==typeof c){var e=Ir(c,s);"function"==typeof e&&e(t)}};var l=this.a[ph];this.a[ph]=function(){if(vh(u,null),"function"==typeof l)l();else if("string"==typeof l){var t=Ir(l,s);"function"==typeof t&&t()}}}var dh="callback",ph="expired-callback",mh="sitekey",gh="size";function vh(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(r){}}function yh(t,e){return t.h.push(e),e.ma((function(){W(t.h,e)})),e}function wh(t){if(t.D)throw new I("internal-error","RecaptchaVerifier instance has been destroyed.")}function bh(t,e,n){var r=!1;try{this.b=n||iy.a.app()}catch(s){throw new I("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new I("invalid-api-key");n=this.b.options.apiKey;var i=this,o=null;try{o=this.b.auth().Ea()}catch(s){}try{r=this.b.auth().settings.appVerificationDisabledForTesting}catch(s){}o=iy.a.SDK_VERSION?_r(iy.a.SDK_VERSION,o):null,fh.call(this,n,t,e,(function(){try{var t=i.b.auth().ja()}catch(e){t=null}return t}),o,N(T),r)}function _h(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,s=0;s<e.length;s++)if(e[s].optional)o=!0;else{if(o)throw new I("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].K(n[i])&&!o){if(e=e[i],0>i||i>=Eh.length)throw new I("internal-error","Argument validator received an unsupported number of arguments.");n=Eh[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.J+".";break t}r=null}}if(r)throw new I("argument-error",t+" failed: "+r)}(t=fh.prototype).Ga=function(){var t=this;return this.f?this.f:this.f=yh(this,Ce().then((function(){if(Sr()&&!mr())return fr();throw new I("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return t.m.g(t.w())})).then((function(e){return t.g=e,Ha(t.s,Aa,{})})).then((function(e){t.a[mh]=e.recaptchaSiteKey})).o((function(e){throw t.f=null,e})))},t.render=function(){wh(this);var t=this;return yh(this,this.Ga().then((function(){if(null===t.c){var e=t.u;if(!t.i){var n=ie(e);e=function(t,e,n){var r=arguments,i=document,o=String(r[0]),s=r[1];if(!re&&s&&(s.name||s.type)){if(o=["<",o],s.name&&o.push(' name="',Ft(s.name),'"'),s.type){o.push(' type="',Ft(s.type),'"');var a={};pt(a,s),delete a.type,s=a}o.push(">"),o=o.join("")}return o=le(i,o),s&&("string"==typeof s?o.className=s:Array.isArray(s)?o.className=s.join(" "):oe(o,s)),2<r.length&&ce(i,o,r),o}("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c})))},t.verify=function(){wh(this);var t=this;return yh(this,this.render().then((function(e){return new ve((function(n){var r=t.g.getResponse(e);if(r)n(r);else{var i=function(e){e&&(function(t,e){$(t.l,(function(t){return t==e}))}(t,i),n(e))};t.l.push(i),t.i&&t.g.execute(t.c)}}))})))},t.reset=function(){wh(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){wh(this),this.D=!0,this.m.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=ie(this.u);for(var e;e=t.firstChild;)t.removeChild(e)}},E(bh,fh);var Eh="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Ih(t,e){return{name:t||"",J:"a valid string",optional:!!e,K:function(t){return"string"==typeof t}}}function Ch(t,e){return{name:t||"",J:"a boolean",optional:!!e,K:function(t){return"boolean"==typeof t}}}function Th(t,e){return{name:t||"",J:"a valid object",optional:!!e,K:d}}function Sh(t,e){return{name:t||"",J:"a function",optional:!!e,K:f}}function Ah(t,e){return{name:t||"",J:"null",optional:!!e,K:function(t){return null===t}}}function kh(t){return{name:t?t+"Credential":"credential",J:t?"a valid "+t+" credential":"a valid credential",optional:!1,K:function(e){return!!e&&!(!e.ia||t&&e.providerId!==t)}}}function Nh(t,e){return d(t)&&"string"==typeof t.type&&t.type===e&&f(t.Fa)}function xh(t){return d(t)&&"string"==typeof t.uid}function Oh(){return{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!=typeof t.type||!f(t.verify))}}}function Rh(t,e,n,r){return{name:n||"",J:t.J+" or "+e.J,optional:!!r,K:function(n){return t.K(n)||e.K(n)}}}function Dh(t,e){for(var n in e){var r=e[n].name;t[r]=Mh(r,t[n],e[n].j)}}function Ph(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:b((function(t){return this[t]}),n),set:b((function(t,e,n,r){_h(t,[n],[r],!0),this[e]=r}),r,n,e[n].gb),enumerable:!0})}}function Lh(t,e,n,r){t[e]=Mh(e,n,r)}function Mh(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return _h(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=function(t){return(t=t.split("."))[t.length-1]}(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}Dh(Fl.prototype,{fb:{name:"applyActionCode",j:[Ih("code")]},Pa:{name:"checkActionCode",j:[Ih("code")]},jb:{name:"confirmPasswordReset",j:[Ih("code"),Ih("newPassword")]},cc:{name:"createUserWithEmailAndPassword",j:[Ih("email"),Ih("password")]},fc:{name:"fetchSignInMethodsForEmail",j:[Ih("email")]},pa:{name:"getRedirectResult",j:[]},zc:{name:"isSignInWithEmailLink",j:[Ih("emailLink")]},Fc:{name:"onAuthStateChanged",j:[Rh(Th(),Sh(),"nextOrObserver"),Sh("opt_error",!0),Sh("opt_completed",!0)]},Gc:{name:"onIdTokenChanged",j:[Rh(Th(),Sh(),"nextOrObserver"),Sh("opt_error",!0),Sh("opt_completed",!0)]},rb:{name:"sendPasswordResetEmail",j:[Ih("email"),Rh(Th("opt_actionCodeSettings",!0),Ah(null,!0),"opt_actionCodeSettings",!0)]},sb:{name:"sendSignInLinkToEmail",j:[Ih("email"),Th("actionCodeSettings")]},tb:{name:"setPersistence",j:[Ih("persistence")]},Qc:{name:"signInAndRetrieveDataWithCredential",j:[kh()]},vb:{name:"signInAnonymously",j:[]},Ya:{name:"signInWithCredential",j:[kh()]},Rc:{name:"signInWithCustomToken",j:[Ih("token")]},Sc:{name:"signInWithEmailAndPassword",j:[Ih("email"),Ih("password")]},Tc:{name:"signInWithEmailLink",j:[Ih("email"),Ih("emailLink",!0)]},Uc:{name:"signInWithPhoneNumber",j:[Ih("phoneNumber"),Oh()]},Vc:{name:"signInWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Wc:{name:"signInWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},bd:{name:"updateCurrentUser",j:[Rh({name:"user",J:"an instance of Firebase User",optional:!1,K:function(t){return!!(t&&t instanceof el)}},Ah(),"user")]},wb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Ih(null,!0)]},dd:{name:"useDeviceLanguage",j:[]},fd:{name:"verifyPasswordResetCode",j:[Ih("code")]}}),Ph(Fl.prototype,{lc:{name:"languageCode",gb:Rh(Ih(),Ah(),"languageCode")},ti:{name:"tenantId",gb:Rh(Ih(),Ah(),"tenantId")}}),(Fl.Persistence=Uu).LOCAL="local",Fl.Persistence.SESSION="session",Fl.Persistence.NONE="none",Dh(el.prototype,{delete:{name:"delete",j:[]},mc:{name:"getIdTokenResult",j:[Ch("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Ch("opt_forceRefresh",!0)]},Ac:{name:"linkAndRetrieveDataWithCredential",j:[kh()]},mb:{name:"linkWithCredential",j:[kh()]},Bc:{name:"linkWithPhoneNumber",j:[Ih("phoneNumber"),Oh()]},Cc:{name:"linkWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Dc:{name:"linkWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Jc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[kh()]},pb:{name:"reauthenticateWithCredential",j:[kh()]},Kc:{name:"reauthenticateWithPhoneNumber",j:[Ih("phoneNumber"),Oh()]},Lc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Mc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},qb:{name:"sendEmailVerification",j:[Rh(Th("opt_actionCodeSettings",!0),Ah(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Ih(null,!0)]},ad:{name:"unlink",j:[Ih("provider")]},xb:{name:"updateEmail",j:[Ih("email")]},yb:{name:"updatePassword",j:[Ih("password")]},cd:{name:"updatePhoneNumber",j:[kh("phone")]},zb:{name:"updateProfile",j:[Th("profile")]},Ab:{name:"verifyBeforeUpdateEmail",j:[Ih("email"),Rh(Th("opt_actionCodeSettings",!0),Ah(null,!0),"opt_actionCodeSettings",!0)]}}),Dh(Zl.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Dh(Xl.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Dh(ve.prototype,{ma:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),Ph(Pc.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",gb:Ch("appVerificationDisabledForTesting")}}),Dh(Lc.prototype,{confirm:{name:"confirm",j:[Ih("verificationCode")]}}),Lh(eo,"fromJSON",(function(t){t="string"==typeof t?JSON.parse(t):t;for(var e,n=[uo,Eo,Ao,oo],r=0;r<n.length;r++)if(e=n[r](t))return e;return null}),[Rh(Ih(),Th(),"json")]),Lh(Io,"credential",(function(t,e){return new _o(t,e)}),[Ih("email"),Ih("password")]),Dh(_o.prototype,{v:{name:"toJSON",j:[Ih(null,!0)]}}),Dh(fo.prototype,{Aa:{name:"addScope",j:[Ih("scope")]},Ia:{name:"setCustomParameters",j:[Th("customOAuthParameters")]}}),Lh(fo,"credential",po,[Rh(Ih(),Th(),"token")]),Lh(Io,"credentialWithLink",Co,[Ih("email"),Ih("emailLink")]),Dh(mo.prototype,{Aa:{name:"addScope",j:[Ih("scope")]},Ia:{name:"setCustomParameters",j:[Th("customOAuthParameters")]}}),Lh(mo,"credential",go,[Rh(Ih(),Th(),"token")]),Dh(vo.prototype,{Aa:{name:"addScope",j:[Ih("scope")]},Ia:{name:"setCustomParameters",j:[Th("customOAuthParameters")]}}),Lh(vo,"credential",yo,[Rh(Ih(),Rh(Th(),Ah()),"idToken"),Rh(Ih(),Ah(),"accessToken",!0)]),Dh(wo.prototype,{Ia:{name:"setCustomParameters",j:[Th("customOAuthParameters")]}}),Lh(wo,"credential",bo,[Rh(Ih(),Th(),"token"),Ih("secret",!0)]),Dh(ho.prototype,{Aa:{name:"addScope",j:[Ih("scope")]},credential:{name:"credential",j:[Rh(Ih(),Rh(Th(),Ah()),"optionsOrIdToken"),Rh(Ih(),Ah(),"accessToken",!0)]},Ia:{name:"setCustomParameters",j:[Th("customOAuthParameters")]}}),Dh(so.prototype,{v:{name:"toJSON",j:[Ih(null,!0)]}}),Dh(ro.prototype,{v:{name:"toJSON",j:[Ih(null,!0)]}}),Lh(No,"credential",xo,[Ih("verificationId"),Ih("verificationCode")]),Dh(No.prototype,{cb:{name:"verifyPhoneNumber",j:[Rh(Ih(),{name:"phoneInfoOptions",J:"valid phone info options",optional:!1,K:function(t){return!!t&&(t.session&&t.phoneNumber?Nh(t.session,Zi)&&"string"==typeof t.phoneNumber:t.session&&t.multiFactorHint?Nh(t.session,to)&&xh(t.multiFactorHint):t.session&&t.multiFactorUid?Nh(t.session,to)&&"string"==typeof t.multiFactorUid:!!t.phoneNumber&&"string"==typeof t.phoneNumber)}},"phoneInfoOptions"),Oh()]}}),Dh(So.prototype,{v:{name:"toJSON",j:[Ih(null,!0)]}}),Dh(I.prototype,{toJSON:{name:"toJSON",j:[Ih(null,!0)]}}),Dh(jo.prototype,{toJSON:{name:"toJSON",j:[Ih(null,!0)]}}),Dh(Uo.prototype,{toJSON:{name:"toJSON",j:[Ih(null,!0)]}}),Dh(qc.prototype,{toJSON:{name:"toJSON",j:[Ih(null,!0)]}}),Dh(Uc.prototype,{Pc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(t){return!!t&&!!t.ob}}]}}),Dh($c.prototype,{Ob:{name:"getSession",j:[]},dc:{name:"enroll",j:[{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(t){return!!t&&!!t.ob}},Ih("displayName",!0)]},$c:{name:"unenroll",j:[Rh({name:"multiFactorInfo",J:"a valid multiFactorInfo",optional:!1,K:xh},Ih(),"multiFactorInfoIdentifier")]}}),Dh(bh.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Lh(pi,"parseLink",Ei,[Ih("link")]),Lh(oh,"assertion",(function(t){return new Gc(t)}),[kh("phone")]),function(){if(void 0===iy.a||!iy.a.INTERNAL||!iy.a.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ni,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:ei,VERIFY_AND_CHANGE_EMAIL:ri,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:Fl,AuthCredential:eo,Error:I};Lh(t,"EmailAuthProvider",Io,[]),Lh(t,"FacebookAuthProvider",fo,[]),Lh(t,"GithubAuthProvider",mo,[]),Lh(t,"GoogleAuthProvider",vo,[]),Lh(t,"TwitterAuthProvider",wo,[]),Lh(t,"OAuthProvider",ho,[Ih("providerId")]),Lh(t,"SAMLAuthProvider",lo,[Ih("providerId")]),Lh(t,"PhoneAuthProvider",No,[{name:"auth",J:"an instance of Firebase Auth",optional:!0,K:function(t){return!!(t&&t instanceof Fl)}}]),Lh(t,"RecaptchaVerifier",bh,[Rh(Ih(),{name:"",J:"an HTML element",optional:!1,K:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),Th("recaptchaParameters",!0),{name:"app",J:"an instance of Firebase App",optional:!0,K:function(t){return!!(t&&t instanceof iy.a.app.App)}}]),Lh(t,"ActionCodeURL",pi,[]),Lh(t,"PhoneMultiFactorGenerator",oh,[]),iy.a.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return new Fl(t=t.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC"}),iy.a.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return{getUid:w((t=t.getProvider("auth").getImmediate()).getUid,t),getToken:w(t.kc,t),addAuthTokenListener:w(t.bc,t),removeAuthTokenListener:w(t.Nc,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),iy.a.registerVersion("@firebase/auth","0.14.2"),iy.a.INTERNAL.extendNamespace({User:el})}()}).apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});let oy=(()=>{let t=class{};return t.\u0275mod=ge({type:t}),t.\u0275inj=ht({factory:function(e){return new(e||t)},providers:[xp]}),t})();var sy;n("6Joi");let ay=(()=>{let t=sy=class{static enablePersistence(t){return{ngModule:sy,providers:[{provide:_p,useValue:!0},{provide:Ep,useValue:t}]}}};return t.\u0275mod=ge({type:t}),t.\u0275inj=ht({factory:function(e){return new(e||t)},providers:[Np]}),t})(),uy=(()=>{class t{}return t.\u0275mod=ge({type:t,bootstrap:[ny]}),t.\u0275inj=ht({factory:function(e){return new(e||t)},providers:[Op,Tv],imports:[[bp.initializeApp(ju),oy,ay,Kc,ey,qg,Jm,Cv]]}),t})();(function(){if(ar)throw new Error("Cannot enable prod mode after platform setup.");sr=!1})(),Wc().bootstrapModule(uy).catch(t=>console.error(t))},zVF4:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("mrSG"),i={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},o=function(t,e){if(!t)throw s(e)},s=function(t){return new Error("Firebase Database ("+i.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},a=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},u={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=(15&a)<<2|c>>6,h=63&c;u||(h=64,s||(l=64)),r.push(n[o>>2],n[(3&o)<<4|a>>4],n[l],n[h])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(a(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var s=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(s>>10)),e[r++]=String.fromCharCode(56320+(1023&s))}else{o=t[n++];var a=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0,a=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==s||null==a||null==u)throw Error();r.push(o<<2|s>>4),64!==a&&(r.push(s<<4&240|a>>2),64!==u&&r.push(a<<6&192|u))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},c=function(t){try{return u.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function l(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&(t[n]=l(t[n],e[n]));return t}var h=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();function f(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}var d=function(t){function e(n,r){var i=t.call(this,r)||this;return i.code=n,i.name="FirebaseError",Object.setPrototypeOf(i,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(i,p.prototype.create),i}return r.__extends(e,t),e}(Error),p=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?m(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",u=new d(i,a),c=0,l=Object.keys(r);c<l.length;c++){var h=l[c];"_"!==h.slice(-1)&&(h in u&&console.warn('Overwriting FirebaseError base field "'+h+'" can cause unexpected behavior.'),u[h]=r[h])}return u},t}();function m(t,e){return t.replace(g,(function(t,n){var r=e[n];return null!=r?r.toString():"<"+n+"?>"}))}var g=/\{\$([^}]+)}/g;function v(t){return JSON.parse(t)}var y=function(t){var e={},n={},r={},i="";try{var o=t.split(".");e=v(c(o[0])||""),n=v(c(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(s){}return{header:e,claims:n,data:r,signature:i}},w=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++)n[r]=4294967295&((h=n[r-3]^n[r-8]^n[r-14]^n[r-16])<<1|h>>>31);var i,o,s=this.chain_[0],a=this.chain_[1],u=this.chain_[2],c=this.chain_[3],l=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(i=c^a&(u^c),o=1518500249):(i=a^u^c,o=1859775393):r<60?(i=a&u|c&(a|u),o=2400959708):(i=a^u^c,o=3395469782);var h=(s<<5|s>>>27)+i+l+o+n[r]&4294967295;l=c,c=u,u=4294967295&(a<<30|a>>>2),a=s,s=h}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0===o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t},t}(),b=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=_),void 0===r.error&&(r.error=_),void 0===r.complete&&(r.complete=_);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function _(){}function E(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return t+" failed: "+r+" argument "}e.CONSTANTS=i,e.Deferred=h,e.ErrorFactory=p,e.FirebaseError=d,e.Sha1=w,e.assert=o,e.assertionError=s,e.async=function(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then((function(){t.apply(void 0,n)})).catch((function(t){e&&e(t)}))}},e.base64=u,e.base64Decode=c,e.base64Encode=function(t){var e=a(t);return u.encodeByteArray(e,!0)},e.contains=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.createSubscribe=function(t,e){var n=new b(t,e);return n.subscribe.bind(n)},e.decode=y,e.deepCopy=function(t){return l(void 0,t)},e.deepExtend=l,e.errorPrefix=E,e.getUA=f,e.isAdmin=function(t){var e=y(t).claims;return"object"==typeof e&&!0===e.admin},e.isBrowser=function(){return"object"==typeof self&&self.self===self},e.isBrowserExtension=function(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id},e.isElectron=function(){return f().indexOf("Electron/")>=0},e.isEmpty=function(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0},e.isIE=function(){var t=f();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0},e.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(f())},e.isNode=function(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}},e.isNodeSdk=function(){return!0===i.NODE_CLIENT||!0===i.NODE_ADMIN},e.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},e.isUWP=function(){return f().indexOf("MSAppHost/")>=0},e.isValidFormat=function(t){var e=y(t).claims;return!!e&&"object"==typeof e&&e.hasOwnProperty("iat")},e.isValidTimestamp=function(t){var e=y(t).claims,n=Math.floor((new Date).getTime()/1e3),r=0,i=0;return"object"==typeof e&&(e.hasOwnProperty("nbf")?r=e.nbf:e.hasOwnProperty("iat")&&(r=e.iat),i=e.hasOwnProperty("exp")?e.exp:r+86400),!!n&&!!r&&!!i&&n>=r&&n<=i},e.issuedAtTime=function(t){var e=y(t).claims;return"object"==typeof e&&e.hasOwnProperty("iat")?e.iat:null},e.jsonEval=v,e.map=function(t,e,n){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r},e.querystring=function(t){for(var e=[],n=function(t,n){Array.isArray(n)?n.forEach((function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))})):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))},r=0,i=Object.entries(t);r<i.length;r++){var o=i[r];n(o[0],o[1])}return e.length?"&"+e.join("&"):""},e.querystringDecode=function(t){var e={};return t.replace(/^\?/,"").split("&").forEach((function(t){if(t){var n=t.split("=");e[n[0]]=n[1]}})),e},e.safeGet=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0},e.stringLength=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e},e.stringToByteArray=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);if(i>=55296&&i<=56319){var s=i-55296;r++,o(r<t.length,"Surrogate pair missing trail surrogate."),i=65536+(s<<10)+(t.charCodeAt(r)-56320)}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},e.stringify=function(t){return JSON.stringify(t)},e.validateArgCount=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")},e.validateCallback=function(t,e,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(E(t,e,r)+"must be a valid function.")},e.validateContextObject=function(t,e,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(E(t,e,r)+"must be a valid context object.")},e.validateNamespace=function(t,e,n,r){if((!r||n)&&"string"!=typeof n)throw new Error(E(t,e,r)+"must be a valid firebase namespace.")}},zn8P:function(t,e){function n(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"}},[[0,0]]]);